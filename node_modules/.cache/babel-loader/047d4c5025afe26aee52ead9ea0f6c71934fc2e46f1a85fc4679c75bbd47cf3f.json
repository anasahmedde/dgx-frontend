{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/loadboard/react-video/src/components/Device.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/components/Device.js\n// Device Management with server-side pagination (minimal: Prev/Next + page size)\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { listDevices, insertDevice, deleteDevice } from \"../api/device\";\nimport { listGroupNames } from \"../api/group\";\nimport { listShopNames } from \"../api/shop\";\nimport axios from \"axios\";\n\n// DVSG API for device creation with linking\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DVSG_BASE = process.env.REACT_APP_API_BASE_URL || `${window.location.protocol}//${window.location.hostname}:8005`;\nconst dvsgApi = axios.create({\n  baseURL: DVSG_BASE,\n  timeout: 30000,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nfunction Modal({\n  open,\n  title,\n  onClose,\n  children,\n  footer\n}) {\n  _s();\n  useEffect(() => {\n    if (!open) return;\n    const onKey = e => e.key === \"Escape\" && onClose();\n    document.addEventListener(\"keydown\", onKey);\n    return () => document.removeEventListener(\"keydown\", onKey);\n  }, [open, onClose]);\n  const overlay = {\n    position: \"fixed\",\n    inset: 0,\n    background: \"rgba(17,24,39,.55)\",\n    display: open ? \"grid\" : \"none\",\n    placeItems: \"center\",\n    zIndex: 2000,\n    padding: 16\n  };\n  const card = {\n    width: \"min(92vw, 980px)\",\n    background: \"#fff\",\n    borderRadius: 14,\n    boxShadow: \"0 20px 60px rgba(0,0,0,.25)\",\n    overflow: \"hidden\"\n  };\n  const header = {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"12px 14px\",\n    color: \"white\",\n    background: \"linear-gradient(90deg, #5b7cfa, #7c4bc9)\"\n  };\n  const closeBtn = {\n    width: 34,\n    height: 34,\n    borderRadius: 10,\n    border: \"none\",\n    background: \"rgba(255,255,255,.18)\",\n    color: \"white\",\n    cursor: \"pointer\",\n    fontSize: 18,\n    lineHeight: \"34px\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: overlay,\n    onMouseDown: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: card,\n      onMouseDown: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: header,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 700\n          },\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: closeBtn,\n          onClick: onClose,\n          \"aria-label\": \"Close\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 14\n        },\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), footer ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 14,\n          borderTop: \"1px solid #e5e7eb\"\n        },\n        children: footer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n_s(Modal, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Modal;\nfunction fmtDate(v) {\n  if (!v) return \"\";\n  const d = new Date(v);\n  if (Number.isNaN(d.getTime())) return String(v);\n  return d.toLocaleString();\n}\nfunction prettyErrText(s) {\n  if (!s) return \"\";\n  try {\n    var _obj$, _obj$detail, _obj$detail$;\n    const obj = JSON.parse(s);\n    if (Array.isArray(obj)) return (obj === null || obj === void 0 ? void 0 : (_obj$ = obj[0]) === null || _obj$ === void 0 ? void 0 : _obj$.msg) || s;\n    if (obj !== null && obj !== void 0 && obj.detail && Array.isArray(obj.detail)) return ((_obj$detail = obj.detail) === null || _obj$detail === void 0 ? void 0 : (_obj$detail$ = _obj$detail[0]) === null || _obj$detail$ === void 0 ? void 0 : _obj$detail$.msg) || s;\n    if (obj !== null && obj !== void 0 && obj.msg) return obj.msg;\n    return s;\n  } catch {\n    return s;\n  }\n}\nexport default function Device() {\n  _s2();\n  var _fkDetail$recent_link;\n  const [open, setOpen] = useState(false);\n\n  // list data\n  const [items, setItems] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n\n  // search input vs applied search\n  const [q, setQ] = useState(\"\");\n  const [qApplied, setQApplied] = useState(\"\");\n\n  // pagination\n  const [pageSize, setPageSize] = useState(10);\n  const [page, setPage] = useState(1); // 1-based\n\n  const totalPages = useMemo(() => {\n    const t = Number(total || 0);\n    const ps = Number(pageSize || 10);\n    return Math.max(1, Math.ceil(t / ps));\n  }, [total, pageSize]);\n  const fromRow = useMemo(() => {\n    if (!total) return 0;\n    return (page - 1) * pageSize + 1;\n  }, [total, page, pageSize]);\n  const toRow = useMemo(() => {\n    if (!total) return 0;\n    return Math.min(total, (page - 1) * pageSize + ((items === null || items === void 0 ? void 0 : items.length) || 0));\n  }, [total, page, pageSize, items]);\n  const [errText, setErrText] = useState(\"\");\n  const [fkDetail, setFkDetail] = useState(null);\n\n  // Two-step add modal\n  const [addOpen, setAddOpen] = useState(false);\n  const [step, setStep] = useState(1); // Step 1: Mobile ID, Step 2: Group & Shop\n\n  // Form data\n  const [mobileId, setMobileId] = useState(\"\");\n  const [downloaded, setDownloaded] = useState(false);\n  const [group, setGroup] = useState(\"\");\n  const [shop, setShop] = useState(\"\");\n\n  // Dropdown data\n  const [groups, setGroups] = useState([]);\n  const [shops, setShops] = useState([]);\n  const [loadingLists, setLoadingLists] = useState(false);\n  const [adding, setAdding] = useState(false);\n  const [success, setSuccess] = useState(\"\");\n  const canProceedToStep2 = useMemo(() => (mobileId !== null && mobileId !== void 0 ? mobileId : \"\").trim().length > 0, [mobileId]);\n  const canSubmit = useMemo(() => mobileId.trim() && group && shop, [mobileId, group, shop]);\n  const inputStyle = {\n    width: \"100%\",\n    padding: \"10px 12px\",\n    borderRadius: 10,\n    border: \"1px solid #e5e7eb\",\n    outline: \"none\",\n    fontSize: 14\n  };\n  const btn = {\n    padding: \"10px 14px\",\n    borderRadius: 10,\n    border: \"none\",\n    cursor: \"pointer\",\n    fontWeight: 700,\n    background: \"#6d5efc\",\n    color: \"white\",\n    boxShadow: \"0 10px 24px rgba(109,94,252,.25)\"\n  };\n  const btnGhost = {\n    padding: \"10px 14px\",\n    borderRadius: 10,\n    border: \"1px solid #e5e7eb\",\n    cursor: \"pointer\",\n    fontWeight: 700,\n    background: \"white\"\n  };\n  const btnSuccess = {\n    padding: \"10px 14px\",\n    borderRadius: 10,\n    border: \"none\",\n    cursor: \"pointer\",\n    fontWeight: 700,\n    background: \"#10b981\",\n    color: \"white\"\n  };\n  const btnDanger = {\n    padding: \"8px 12px\",\n    borderRadius: 10,\n    border: \"none\",\n    cursor: \"pointer\",\n    fontWeight: 800,\n    background: \"#ef4444\",\n    color: \"white\"\n  };\n  const btnTiny = {\n    padding: \"8px 10px\",\n    borderRadius: 10,\n    border: \"1px solid #e5e7eb\",\n    cursor: \"pointer\",\n    fontWeight: 800,\n    background: \"white\"\n  };\n  const btnTinyDisabled = {\n    ...btnTiny,\n    opacity: 0.45,\n    cursor: \"not-allowed\"\n  };\n\n  // Load groups and shops for step 2\n  const loadLists = async () => {\n    setLoadingLists(true);\n    setErrText(\"\");\n    try {\n      const [gnames, snames] = await Promise.all([listGroupNames(\"\"), listShopNames(\"\")]);\n      setGroups(gnames || []);\n      setShops(snames || []);\n      if (!group && gnames !== null && gnames !== void 0 && gnames.length) setGroup(gnames[0]);\n      if (!shop && snames !== null && snames !== void 0 && snames.length) setShop(snames[0]);\n    } catch (e) {\n      console.error(\"Failed to load groups/shops:\", e);\n      setErrText(\"Failed to load groups/shops\");\n    } finally {\n      setLoadingLists(false);\n    }\n  };\n  useEffect(() => {\n    if (addOpen && step === 2) loadLists();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [addOpen, step]);\n  const loadPage = async (p = page, ps = pageSize, qx = qApplied) => {\n    var _r$total;\n    setLoading(true);\n    setErrText(\"\");\n    setFkDetail(null);\n    const safeP = Math.max(1, Number(p || 1));\n    const safePS = Math.max(1, Number(ps || 10));\n    const offset = (safeP - 1) * safePS;\n    const r = await listDevices(safePS, offset, qx);\n    if (!r.ok) {\n      setErrText(prettyErrText(r.error || \"Network Error\"));\n      setItems([]);\n      setTotal(0);\n      setLoading(false);\n      return;\n    }\n    const newTotal = Number((_r$total = r.total) !== null && _r$total !== void 0 ? _r$total : 0);\n    const newPages = Math.max(1, Math.ceil(newTotal / safePS));\n\n    // if current page is out of range (after deletions), move back\n    if (safeP > newPages && newTotal > 0) {\n      setTotal(newTotal);\n      setPage(newPages);\n      setLoading(false);\n      return;\n    }\n    setItems(r.items || []);\n    setTotal(newTotal);\n    setLoading(false);\n  };\n\n  // initial load + reload when page/pageSize changes (only when modal open)\n  useEffect(() => {\n    if (!open) return;\n    loadPage(page, pageSize, qApplied);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open, page, pageSize]);\n  const onSearch = async () => {\n    const nextQ = (q || \"\").trim();\n    setQApplied(nextQ);\n    setPage(1);\n    // load will happen via effect (open/page change). But run once immediately for snappy UI:\n    if (open) await loadPage(1, pageSize, nextQ);\n  };\n  const onRefresh = async () => {\n    if (!open) return;\n    await loadPage(page, pageSize, qApplied);\n  };\n  const onDelete = async row => {\n    const mid = row === null || row === void 0 ? void 0 : row.mobile_id;\n    if (!mid) return;\n    const ok = window.confirm(`Delete device \"${mid}\"?`);\n    if (!ok) return;\n    setErrText(\"\");\n    setFkDetail(null);\n    const r = await deleteDevice(mid);\n    if (r.ok) {\n      // reload current page; if it becomes empty, go back one page\n      const offset = (page - 1) * pageSize;\n      const rr = await listDevices(pageSize, offset, qApplied);\n      if (rr.ok) {\n        var _rr$total;\n        if ((rr.items || []).length === 0 && page > 1) {\n          setPage(page - 1);\n          return;\n        }\n        setItems(rr.items || []);\n        setTotal(Number((_rr$total = rr.total) !== null && _rr$total !== void 0 ? _rr$total : 0));\n        return;\n      }\n      await loadPage(page, pageSize, qApplied);\n      return;\n    }\n    if (r.status === 409 && r.detailObj) {\n      setErrText(r.detailObj.message || \"Device is linked with other records.\");\n      setFkDetail(r.detailObj);\n      return;\n    }\n    setErrText(prettyErrText(r.error || \"Failed to delete\"));\n  };\n  const handleOpenAddModal = () => {\n    setAddOpen(true);\n    setStep(1);\n    setMobileId(\"\");\n    setDownloaded(false);\n    setGroup(\"\");\n    setShop(\"\");\n    setSuccess(\"\");\n    setErrText(\"\");\n  };\n  const handleProceedToStep2 = () => {\n    if (canProceedToStep2) setStep(2);\n  };\n  const handleBack = () => setStep(1);\n\n  // Add device with linking (new flow)\n  const addDeviceWithLinking = async () => {\n    if (!canSubmit) return;\n    setAdding(true);\n    setErrText(\"\");\n    setSuccess(\"\");\n    const id = mobileId.trim();\n    try {\n      const response = await dvsgApi.post(\"/device/create\", {\n        mobile_id: id,\n        group_name: group,\n        shop_name: shop\n      });\n      if (response.data) {\n        setSuccess(`Device ${id} created and linked successfully!`);\n        setTimeout(async () => {\n          setMobileId(\"\");\n          setDownloaded(false);\n          setStep(1);\n          setAddOpen(false);\n          setSuccess(\"\");\n          setPage(1);\n          await loadPage(1, pageSize, qApplied);\n        }, 800);\n      }\n    } catch (e) {\n      console.error(\"Create device error:\", e);\n      // Fallback to old method\n      try {\n        await insertDevice({\n          mobile_id: id,\n          download_status: downloaded\n        });\n        setSuccess(`Device ${id} added successfully!`);\n        setTimeout(async () => {\n          setMobileId(\"\");\n          setDownloaded(false);\n          setStep(1);\n          setAddOpen(false);\n          setSuccess(\"\");\n          setPage(1);\n          await loadPage(1, pageSize, qApplied);\n        }, 800);\n      } catch (e2) {\n        var _e2$response, _e2$response$data;\n        setErrText((e2 === null || e2 === void 0 ? void 0 : (_e2$response = e2.response) === null || _e2$response === void 0 ? void 0 : (_e2$response$data = _e2$response.data) === null || _e2$response$data === void 0 ? void 0 : _e2$response$data.detail) || (e2 === null || e2 === void 0 ? void 0 : e2.message) || \"Failed to add device\");\n      }\n    } finally {\n      setAdding(false);\n    }\n  };\n\n  // Create device without linking (just mobile_id)\n  const addDeviceOnly = async () => {\n    if (!mobileId.trim()) return;\n    setAdding(true);\n    setErrText(\"\");\n    setSuccess(\"\");\n    try {\n      await insertDevice({\n        mobile_id: mobileId.trim(),\n        download_status: downloaded\n      });\n      setSuccess(`Device ${mobileId.trim()} created! You can link it to a group later.`);\n      setTimeout(async () => {\n        setMobileId(\"\");\n        setDownloaded(false);\n        setAddOpen(false);\n        setSuccess(\"\");\n        setPage(1);\n        await loadPage(1, pageSize, qApplied);\n      }, 800);\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setErrText((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.detail) || (e === null || e === void 0 ? void 0 : e.message) || \"Failed to create device\");\n    } finally {\n      setAdding(false);\n    }\n  };\n  const paginationBar = /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      gap: 10,\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      marginTop: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 10,\n        alignItems: \"center\",\n        color: \"#6b7280\",\n        fontSize: 13\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Showing \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: fromRow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 19\n        }, this), \"-\", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: toRow\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 36\n        }, this), \" of \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: total\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 54\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 8,\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Rows:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: pageSize,\n          onChange: e => {\n            setPageSize(Number(e.target.value));\n            setPage(1);\n          },\n          style: {\n            ...inputStyle,\n            width: 90,\n            padding: \"8px 10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: 10,\n            children: \"10\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 20,\n            children: \"20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 50,\n            children: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: 100,\n            children: \"100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 10,\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 13,\n          color: \"#6b7280\"\n        },\n        children: [\"Page \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: page\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 16\n        }, this), \" / \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: totalPages\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 467,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: page <= 1 ? btnTinyDisabled : btnTiny,\n        disabled: page <= 1,\n        onClick: () => setPage(p => Math.max(1, p - 1)),\n        children: \"\\u2190 Prev\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: page >= totalPages ? btnTinyDisabled : btnTiny,\n        disabled: page >= totalPages,\n        onClick: () => setPage(p => Math.min(totalPages, p + 1)),\n        children: \"Next \\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 434,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      style: btn,\n      onClick: () => {\n        setOpen(true);\n        // reset to first page when opening (optional but nice)\n        setPage(1);\n      },\n      children: \"Devices\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: open,\n      title: \"\\uD83D\\uDCF1 Device Management\",\n      onClose: () => setOpen(false),\n      footer: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 10,\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 13,\n            color: \"#6b7280\"\n          },\n          children: [\"Total: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: total\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 22\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 509,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 10\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: btnGhost,\n            onClick: onRefresh,\n            disabled: loading,\n            children: \"Refresh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 513,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: btn,\n            onClick: handleOpenAddModal,\n            children: \"+ Add Device\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 512,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 11\n      }, this),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 10,\n          marginBottom: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          value: q,\n          onChange: e => setQ(e.target.value),\n          placeholder: \"Search by mobile id...\",\n          style: {\n            ...inputStyle,\n            flex: 1\n          },\n          onKeyDown: e => {\n            if (e.key === \"Enter\") onSearch();\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: btnGhost,\n          onClick: onSearch,\n          disabled: loading,\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 9\n      }, this), errText ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: \"#fef2f2\",\n          border: \"1px solid #fecaca\",\n          color: \"#991b1b\",\n          padding: 10,\n          borderRadius: 10,\n          marginBottom: 10,\n          fontWeight: 600\n        },\n        children: errText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 11\n      }, this) : null, fkDetail !== null && fkDetail !== void 0 && (_fkDetail$recent_link = fkDetail.recent_links) !== null && _fkDetail$recent_link !== void 0 && _fkDetail$recent_link.length ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 14\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 800,\n            marginBottom: 6\n          },\n          children: \"Recent linked records\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            overflowX: \"auto\",\n            border: \"1px solid #e5e7eb\",\n            borderRadius: 12\n          },\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            style: {\n              width: \"100%\",\n              borderCollapse: \"collapse\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  background: \"#f9fafb\",\n                  textAlign: \"left\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: 10,\n                    fontSize: 12,\n                    color: \"#6b7280\"\n                  },\n                  children: \"Link ID\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: 10,\n                    fontSize: 12,\n                    color: \"#6b7280\"\n                  },\n                  children: \"Group\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: 10,\n                    fontSize: 12,\n                    color: \"#6b7280\"\n                  },\n                  children: \"Shop\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 563,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: 10,\n                    fontSize: 12,\n                    color: \"#6b7280\"\n                  },\n                  children: \"Video\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 564,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    padding: 10,\n                    fontSize: 12,\n                    color: \"#6b7280\"\n                  },\n                  children: \"Updated\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 565,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: fkDetail.recent_links.map(x => /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  borderTop: \"1px solid #f3f4f6\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: 10,\n                    fontWeight: 700\n                  },\n                  children: x.link_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: 10\n                  },\n                  children: x.gname || x.gid\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 572,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: 10\n                  },\n                  children: x.shop_name || x.sid\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 573,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: 10\n                  },\n                  children: x.video_name || x.vid\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 574,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: 10\n                  },\n                  children: fmtDate(x.updated_at || x.created_at)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 575,\n                  columnNumber: 23\n                }, this)]\n              }, x.link_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 570,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: \"1px solid #e5e7eb\",\n          borderRadius: 12,\n          overflow: \"hidden\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: \"100%\",\n            borderCollapse: \"collapse\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                background: \"#f9fafb\",\n                textAlign: \"left\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: 12,\n                  fontSize: 12,\n                  color: \"#6b7280\"\n                },\n                children: \"Mobile ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 588,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: 12,\n                  fontSize: 12,\n                  color: \"#6b7280\"\n                },\n                children: \"Downloaded\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 589,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: 12,\n                  fontSize: 12,\n                  color: \"#6b7280\"\n                },\n                children: \"Created\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: 12,\n                  fontSize: 12,\n                  color: \"#6b7280\"\n                },\n                children: \"Updated\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 591,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  padding: 12,\n                  fontSize: 12,\n                  color: \"#6b7280\",\n                  width: 120,\n                  textAlign: \"right\"\n                },\n                children: \"Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 592,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 586,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: loading ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 5,\n                style: {\n                  padding: 14,\n                  color: \"#6b7280\"\n                },\n                children: \"Loading...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 601,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 17\n            }, this) : items.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: 5,\n                style: {\n                  padding: 14,\n                  color: \"#6b7280\"\n                },\n                children: \"No devices found.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 607,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 17\n            }, this) : items.map(d => {\n              var _d$id;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  borderTop: \"1px solid #f3f4f6\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: 12,\n                    fontWeight: 800\n                  },\n                  children: d.mobile_id\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 614,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: 12\n                  },\n                  children: d.download_status ? \"Yes\" : \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 615,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: 12\n                  },\n                  children: fmtDate(d.created_at)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 616,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: 12\n                  },\n                  children: fmtDate(d.updated_at)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 617,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    padding: 12,\n                    textAlign: \"right\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: btnDanger,\n                    onClick: () => onDelete(d),\n                    children: \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 619,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 618,\n                  columnNumber: 21\n                }, this)]\n              }, (_d$id = d.id) !== null && _d$id !== void 0 ? _d$id : d.mobile_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 613,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 9\n      }, this), paginationBar, /*#__PURE__*/_jsxDEV(Modal, {\n        open: addOpen,\n        title: step === 1 ? \"Add Device - Step 1: Enter Mobile ID\" : \"Add Device - Step 2: Link to Group & Shop\",\n        onClose: () => setAddOpen(false),\n        footer: step === 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 10,\n            justifyContent: \"flex-end\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: btnGhost,\n            onClick: () => setAddOpen(false),\n            disabled: adding,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: btnGhost,\n            onClick: addDeviceOnly,\n            disabled: !canProceedToStep2 || adding,\n            children: \"Create Without Linking\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 643,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: btn,\n            onClick: handleProceedToStep2,\n            disabled: !canProceedToStep2,\n            children: \"Next: Select Group & Shop \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 646,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 639,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 10,\n            justifyContent: \"flex-end\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            style: btnGhost,\n            onClick: handleBack,\n            disabled: adding,\n            children: \"\\u2190 Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: btnGhost,\n            onClick: () => setAddOpen(false),\n            disabled: adding,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 655,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: btnSuccess,\n            onClick: addDeviceWithLinking,\n            disabled: !canSubmit || adding,\n            children: adding ? \"Creating...\" : \"Create & Link Device\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 658,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 15\n        }, this),\n        children: [errText && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12,\n            padding: 10,\n            borderRadius: 10,\n            background: \"#fef2f2\",\n            color: \"#991b1b\",\n            border: \"1px solid #fecaca\"\n          },\n          children: errText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 666,\n          columnNumber: 13\n        }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 12,\n            padding: 10,\n            borderRadius: 10,\n            background: \"#ecfdf5\",\n            color: \"#065f46\",\n            border: \"1px solid #a7f3d0\"\n          },\n          children: success\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 13\n        }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"grid\",\n            gap: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 13,\n                fontWeight: 800,\n                marginBottom: 6\n              },\n              children: \"Mobile ID *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 698,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              value: mobileId,\n              onChange: e => setMobileId(e.target.value),\n              placeholder: \"e.g. c5c64c89008c530e\",\n              style: inputStyle,\n              autoFocus: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 699,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 12,\n                color: \"#9ca3af\",\n                marginTop: 4\n              },\n              children: \"This is the Android device ID. You can find it in the device settings or from the app.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 706,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 697,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: \"flex\",\n              alignItems: \"center\",\n              gap: 10,\n              fontWeight: 700\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: downloaded,\n              onChange: e => setDownloaded(e.target.checked)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 712,\n              columnNumber: 17\n            }, this), \"Mark as downloaded (videos already on device)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 711,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: 12,\n              background: \"#f9fafb\",\n              borderRadius: 8,\n              border: \"1px solid #e5e7eb\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 600,\n                marginBottom: 4\n              },\n              children: \"Workflow:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 717,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n              style: {\n                margin: 0,\n                paddingLeft: 20,\n                fontSize: 13,\n                color: \"#4b5563\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Enter the Mobile ID first\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 719,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Select Group and Shop to link the device\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 720,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Videos from the group will be automatically assigned\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 721,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 718,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 716,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 696,\n          columnNumber: 13\n        }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"grid\",\n            gap: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: 12,\n              background: \"#eef2ff\",\n              borderRadius: 8,\n              border: \"1px solid #c7d2fe\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Device:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 730,\n              columnNumber: 17\n            }, this), \" \", mobileId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"grid\",\n              gridTemplateColumns: \"1fr 1fr\",\n              gap: 16\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 13,\n                  fontWeight: 800,\n                  marginBottom: 6\n                },\n                children: \"Group *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 735,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                style: inputStyle,\n                value: group,\n                onChange: e => setGroup(e.target.value),\n                disabled: loadingLists,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- Select Group --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 742,\n                  columnNumber: 21\n                }, this), groups.map(g => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: g,\n                  children: g\n                }, g, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 744,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 736,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 12,\n                  color: \"#9ca3af\",\n                  marginTop: 4\n                },\n                children: \"Videos are linked to groups\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 749,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 13,\n                  fontWeight: 800,\n                  marginBottom: 6\n                },\n                children: \"Shop *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 753,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                style: inputStyle,\n                value: shop,\n                onChange: e => setShop(e.target.value),\n                disabled: loadingLists,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"-- Select Shop --\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 760,\n                  columnNumber: 21\n                }, this), shops.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: s,\n                  children: s\n                }, s, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 762,\n                  columnNumber: 23\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 754,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 12,\n                  color: \"#9ca3af\",\n                  marginTop: 4\n                },\n                children: \"Location where device is installed\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 767,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 752,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 733,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 13,\n              color: \"#6b7280\",\n              padding: 12,\n              background: \"#fffbeb\",\n              borderRadius: 8,\n              border: \"1px solid #fde68a\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Note:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 781,\n              columnNumber: 17\n            }, this), \" The device will automatically receive all videos assigned to the selected group. You can change the video assignments in the \\\"Group Linked Video\\\" section.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 771,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 633,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 491,\n    columnNumber: 5\n  }, this);\n}\n_s2(Device, \"/KW3/jghOhfWoB5dV1fvADtTq5c=\");\n_c2 = Device;\nvar _c, _c2;\n$RefreshReg$(_c, \"Modal\");\n$RefreshReg$(_c2, \"Device\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","listDevices","insertDevice","deleteDevice","listGroupNames","listShopNames","axios","jsxDEV","_jsxDEV","DVSG_BASE","process","env","REACT_APP_API_BASE_URL","window","location","protocol","hostname","dvsgApi","create","baseURL","timeout","headers","Modal","open","title","onClose","children","footer","_s","onKey","e","key","document","addEventListener","removeEventListener","overlay","position","inset","background","display","placeItems","zIndex","padding","card","width","borderRadius","boxShadow","overflow","header","alignItems","justifyContent","color","closeBtn","height","border","cursor","fontSize","lineHeight","style","onMouseDown","stopPropagation","fontWeight","fileName","_jsxFileName","lineNumber","columnNumber","onClick","borderTop","_c","fmtDate","v","d","Date","Number","isNaN","getTime","String","toLocaleString","prettyErrText","s","_obj$","_obj$detail","_obj$detail$","obj","JSON","parse","Array","isArray","msg","detail","Device","_s2","_fkDetail$recent_link","setOpen","items","setItems","total","setTotal","loading","setLoading","q","setQ","qApplied","setQApplied","pageSize","setPageSize","page","setPage","totalPages","t","ps","Math","max","ceil","fromRow","toRow","min","length","errText","setErrText","fkDetail","setFkDetail","addOpen","setAddOpen","step","setStep","mobileId","setMobileId","downloaded","setDownloaded","group","setGroup","shop","setShop","groups","setGroups","shops","setShops","loadingLists","setLoadingLists","adding","setAdding","success","setSuccess","canProceedToStep2","trim","canSubmit","inputStyle","outline","btn","btnGhost","btnSuccess","btnDanger","btnTiny","btnTinyDisabled","opacity","loadLists","gnames","snames","Promise","all","console","error","loadPage","p","qx","_r$total","safeP","safePS","offset","r","ok","newTotal","newPages","onSearch","nextQ","onRefresh","onDelete","row","mid","mobile_id","confirm","rr","_rr$total","status","detailObj","message","handleOpenAddModal","handleProceedToStep2","handleBack","addDeviceWithLinking","id","response","post","group_name","shop_name","data","setTimeout","download_status","e2","_e2$response","_e2$response$data","addDeviceOnly","_e$response","_e$response$data","paginationBar","gap","marginTop","value","onChange","target","disabled","marginBottom","placeholder","flex","onKeyDown","recent_links","overflowX","borderCollapse","textAlign","map","x","link_id","gname","gid","sid","video_name","vid","updated_at","created_at","colSpan","_d$id","autoFocus","type","checked","margin","paddingLeft","gridTemplateColumns","g","_c2","$RefreshReg$"],"sources":["/home/ubuntu/loadboard/react-video/src/components/Device.js"],"sourcesContent":["// src/components/Device.js\n// Device Management with server-side pagination (minimal: Prev/Next + page size)\nimport React, { useEffect, useMemo, useState } from \"react\";\nimport { listDevices, insertDevice, deleteDevice } from \"../api/device\";\nimport { listGroupNames } from \"../api/group\";\nimport { listShopNames } from \"../api/shop\";\nimport axios from \"axios\";\n\n// DVSG API for device creation with linking\nconst DVSG_BASE =\n  process.env.REACT_APP_API_BASE_URL ||\n  `${window.location.protocol}//${window.location.hostname}:8005`;\n\nconst dvsgApi = axios.create({\n  baseURL: DVSG_BASE,\n  timeout: 30000,\n  headers: { \"Content-Type\": \"application/json\" },\n});\n\nfunction Modal({ open, title, onClose, children, footer }) {\n  useEffect(() => {\n    if (!open) return;\n    const onKey = (e) => e.key === \"Escape\" && onClose();\n    document.addEventListener(\"keydown\", onKey);\n    return () => document.removeEventListener(\"keydown\", onKey);\n  }, [open, onClose]);\n\n  const overlay = {\n    position: \"fixed\",\n    inset: 0,\n    background: \"rgba(17,24,39,.55)\",\n    display: open ? \"grid\" : \"none\",\n    placeItems: \"center\",\n    zIndex: 2000,\n    padding: 16,\n  };\n\n  const card = {\n    width: \"min(92vw, 980px)\",\n    background: \"#fff\",\n    borderRadius: 14,\n    boxShadow: \"0 20px 60px rgba(0,0,0,.25)\",\n    overflow: \"hidden\",\n  };\n\n  const header = {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"12px 14px\",\n    color: \"white\",\n    background: \"linear-gradient(90deg, #5b7cfa, #7c4bc9)\",\n  };\n\n  const closeBtn = {\n    width: 34,\n    height: 34,\n    borderRadius: 10,\n    border: \"none\",\n    background: \"rgba(255,255,255,.18)\",\n    color: \"white\",\n    cursor: \"pointer\",\n    fontSize: 18,\n    lineHeight: \"34px\",\n  };\n\n  return (\n    <div style={overlay} onMouseDown={onClose}>\n      <div style={card} onMouseDown={(e) => e.stopPropagation()}>\n        <div style={header}>\n          <div style={{ fontWeight: 700 }}>{title}</div>\n          <button style={closeBtn} onClick={onClose} aria-label=\"Close\">\n            \n          </button>\n        </div>\n\n        <div style={{ padding: 14 }}>{children}</div>\n\n        {footer ? (\n          <div style={{ padding: 14, borderTop: \"1px solid #e5e7eb\" }}>{footer}</div>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nfunction fmtDate(v) {\n  if (!v) return \"\";\n  const d = new Date(v);\n  if (Number.isNaN(d.getTime())) return String(v);\n  return d.toLocaleString();\n}\n\nfunction prettyErrText(s) {\n  if (!s) return \"\";\n  try {\n    const obj = JSON.parse(s);\n    if (Array.isArray(obj)) return obj?.[0]?.msg || s;\n    if (obj?.detail && Array.isArray(obj.detail)) return obj.detail?.[0]?.msg || s;\n    if (obj?.msg) return obj.msg;\n    return s;\n  } catch {\n    return s;\n  }\n}\n\nexport default function Device() {\n  const [open, setOpen] = useState(false);\n\n  // list data\n  const [items, setItems] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n\n  // search input vs applied search\n  const [q, setQ] = useState(\"\");\n  const [qApplied, setQApplied] = useState(\"\");\n\n  // pagination\n  const [pageSize, setPageSize] = useState(10);\n  const [page, setPage] = useState(1); // 1-based\n\n  const totalPages = useMemo(() => {\n    const t = Number(total || 0);\n    const ps = Number(pageSize || 10);\n    return Math.max(1, Math.ceil(t / ps));\n  }, [total, pageSize]);\n\n  const fromRow = useMemo(() => {\n    if (!total) return 0;\n    return (page - 1) * pageSize + 1;\n  }, [total, page, pageSize]);\n\n  const toRow = useMemo(() => {\n    if (!total) return 0;\n    return Math.min(total, (page - 1) * pageSize + (items?.length || 0));\n  }, [total, page, pageSize, items]);\n\n  const [errText, setErrText] = useState(\"\");\n  const [fkDetail, setFkDetail] = useState(null);\n\n  // Two-step add modal\n  const [addOpen, setAddOpen] = useState(false);\n  const [step, setStep] = useState(1); // Step 1: Mobile ID, Step 2: Group & Shop\n\n  // Form data\n  const [mobileId, setMobileId] = useState(\"\");\n  const [downloaded, setDownloaded] = useState(false);\n  const [group, setGroup] = useState(\"\");\n  const [shop, setShop] = useState(\"\");\n\n  // Dropdown data\n  const [groups, setGroups] = useState([]);\n  const [shops, setShops] = useState([]);\n  const [loadingLists, setLoadingLists] = useState(false);\n  const [adding, setAdding] = useState(false);\n  const [success, setSuccess] = useState(\"\");\n\n  const canProceedToStep2 = useMemo(() => (mobileId ?? \"\").trim().length > 0, [mobileId]);\n  const canSubmit = useMemo(() => mobileId.trim() && group && shop, [mobileId, group, shop]);\n\n  const inputStyle = {\n    width: \"100%\",\n    padding: \"10px 12px\",\n    borderRadius: 10,\n    border: \"1px solid #e5e7eb\",\n    outline: \"none\",\n    fontSize: 14,\n  };\n\n  const btn = {\n    padding: \"10px 14px\",\n    borderRadius: 10,\n    border: \"none\",\n    cursor: \"pointer\",\n    fontWeight: 700,\n    background: \"#6d5efc\",\n    color: \"white\",\n    boxShadow: \"0 10px 24px rgba(109,94,252,.25)\",\n  };\n\n  const btnGhost = {\n    padding: \"10px 14px\",\n    borderRadius: 10,\n    border: \"1px solid #e5e7eb\",\n    cursor: \"pointer\",\n    fontWeight: 700,\n    background: \"white\",\n  };\n\n  const btnSuccess = {\n    padding: \"10px 14px\",\n    borderRadius: 10,\n    border: \"none\",\n    cursor: \"pointer\",\n    fontWeight: 700,\n    background: \"#10b981\",\n    color: \"white\",\n  };\n\n  const btnDanger = {\n    padding: \"8px 12px\",\n    borderRadius: 10,\n    border: \"none\",\n    cursor: \"pointer\",\n    fontWeight: 800,\n    background: \"#ef4444\",\n    color: \"white\",\n  };\n\n  const btnTiny = {\n    padding: \"8px 10px\",\n    borderRadius: 10,\n    border: \"1px solid #e5e7eb\",\n    cursor: \"pointer\",\n    fontWeight: 800,\n    background: \"white\",\n  };\n\n  const btnTinyDisabled = {\n    ...btnTiny,\n    opacity: 0.45,\n    cursor: \"not-allowed\",\n  };\n\n  // Load groups and shops for step 2\n  const loadLists = async () => {\n    setLoadingLists(true);\n    setErrText(\"\");\n    try {\n      const [gnames, snames] = await Promise.all([listGroupNames(\"\"), listShopNames(\"\")]);\n      setGroups(gnames || []);\n      setShops(snames || []);\n      if (!group && gnames?.length) setGroup(gnames[0]);\n      if (!shop && snames?.length) setShop(snames[0]);\n    } catch (e) {\n      console.error(\"Failed to load groups/shops:\", e);\n      setErrText(\"Failed to load groups/shops\");\n    } finally {\n      setLoadingLists(false);\n    }\n  };\n\n  useEffect(() => {\n    if (addOpen && step === 2) loadLists();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [addOpen, step]);\n\n  const loadPage = async (p = page, ps = pageSize, qx = qApplied) => {\n    setLoading(true);\n    setErrText(\"\");\n    setFkDetail(null);\n\n    const safeP = Math.max(1, Number(p || 1));\n    const safePS = Math.max(1, Number(ps || 10));\n    const offset = (safeP - 1) * safePS;\n\n    const r = await listDevices(safePS, offset, qx);\n    if (!r.ok) {\n      setErrText(prettyErrText(r.error || \"Network Error\"));\n      setItems([]);\n      setTotal(0);\n      setLoading(false);\n      return;\n    }\n\n    const newTotal = Number(r.total ?? 0);\n    const newPages = Math.max(1, Math.ceil(newTotal / safePS));\n\n    // if current page is out of range (after deletions), move back\n    if (safeP > newPages && newTotal > 0) {\n      setTotal(newTotal);\n      setPage(newPages);\n      setLoading(false);\n      return;\n    }\n\n    setItems(r.items || []);\n    setTotal(newTotal);\n    setLoading(false);\n  };\n\n  // initial load + reload when page/pageSize changes (only when modal open)\n  useEffect(() => {\n    if (!open) return;\n    loadPage(page, pageSize, qApplied);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open, page, pageSize]);\n\n  const onSearch = async () => {\n    const nextQ = (q || \"\").trim();\n    setQApplied(nextQ);\n    setPage(1);\n    // load will happen via effect (open/page change). But run once immediately for snappy UI:\n    if (open) await loadPage(1, pageSize, nextQ);\n  };\n\n  const onRefresh = async () => {\n    if (!open) return;\n    await loadPage(page, pageSize, qApplied);\n  };\n\n  const onDelete = async (row) => {\n    const mid = row?.mobile_id;\n    if (!mid) return;\n\n    const ok = window.confirm(`Delete device \"${mid}\"?`);\n    if (!ok) return;\n\n    setErrText(\"\");\n    setFkDetail(null);\n\n    const r = await deleteDevice(mid);\n    if (r.ok) {\n      // reload current page; if it becomes empty, go back one page\n      const offset = (page - 1) * pageSize;\n      const rr = await listDevices(pageSize, offset, qApplied);\n      if (rr.ok) {\n        if ((rr.items || []).length === 0 && page > 1) {\n          setPage(page - 1);\n          return;\n        }\n        setItems(rr.items || []);\n        setTotal(Number(rr.total ?? 0));\n        return;\n      }\n      await loadPage(page, pageSize, qApplied);\n      return;\n    }\n\n    if (r.status === 409 && r.detailObj) {\n      setErrText(r.detailObj.message || \"Device is linked with other records.\");\n      setFkDetail(r.detailObj);\n      return;\n    }\n\n    setErrText(prettyErrText(r.error || \"Failed to delete\"));\n  };\n\n  const handleOpenAddModal = () => {\n    setAddOpen(true);\n    setStep(1);\n    setMobileId(\"\");\n    setDownloaded(false);\n    setGroup(\"\");\n    setShop(\"\");\n    setSuccess(\"\");\n    setErrText(\"\");\n  };\n\n  const handleProceedToStep2 = () => {\n    if (canProceedToStep2) setStep(2);\n  };\n\n  const handleBack = () => setStep(1);\n\n  // Add device with linking (new flow)\n  const addDeviceWithLinking = async () => {\n    if (!canSubmit) return;\n    setAdding(true);\n    setErrText(\"\");\n    setSuccess(\"\");\n\n    const id = mobileId.trim();\n\n    try {\n      const response = await dvsgApi.post(\"/device/create\", {\n        mobile_id: id,\n        group_name: group,\n        shop_name: shop,\n      });\n\n      if (response.data) {\n        setSuccess(`Device ${id} created and linked successfully!`);\n        setTimeout(async () => {\n          setMobileId(\"\");\n          setDownloaded(false);\n          setStep(1);\n          setAddOpen(false);\n          setSuccess(\"\");\n          setPage(1);\n          await loadPage(1, pageSize, qApplied);\n        }, 800);\n      }\n    } catch (e) {\n      console.error(\"Create device error:\", e);\n      // Fallback to old method\n      try {\n        await insertDevice({ mobile_id: id, download_status: downloaded });\n        setSuccess(`Device ${id} added successfully!`);\n        setTimeout(async () => {\n          setMobileId(\"\");\n          setDownloaded(false);\n          setStep(1);\n          setAddOpen(false);\n          setSuccess(\"\");\n          setPage(1);\n          await loadPage(1, pageSize, qApplied);\n        }, 800);\n      } catch (e2) {\n        setErrText(e2?.response?.data?.detail || e2?.message || \"Failed to add device\");\n      }\n    } finally {\n      setAdding(false);\n    }\n  };\n\n  // Create device without linking (just mobile_id)\n  const addDeviceOnly = async () => {\n    if (!mobileId.trim()) return;\n    setAdding(true);\n    setErrText(\"\");\n    setSuccess(\"\");\n\n    try {\n      await insertDevice({ mobile_id: mobileId.trim(), download_status: downloaded });\n      setSuccess(`Device ${mobileId.trim()} created! You can link it to a group later.`);\n      setTimeout(async () => {\n        setMobileId(\"\");\n        setDownloaded(false);\n        setAddOpen(false);\n        setSuccess(\"\");\n        setPage(1);\n        await loadPage(1, pageSize, qApplied);\n      }, 800);\n    } catch (e) {\n      setErrText(e?.response?.data?.detail || e?.message || \"Failed to create device\");\n    } finally {\n      setAdding(false);\n    }\n  };\n\n  const paginationBar = (\n    <div\n      style={{\n        display: \"flex\",\n        gap: 10,\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        marginTop: 12,\n      }}\n    >\n      <div style={{ display: \"flex\", gap: 10, alignItems: \"center\", color: \"#6b7280\", fontSize: 13 }}>\n        <div>\n          Showing <b>{fromRow}</b>-<b>{toRow}</b> of <b>{total}</b>\n        </div>\n\n        <div style={{ display: \"flex\", gap: 8, alignItems: \"center\" }}>\n          <span>Rows:</span>\n          <select\n            value={pageSize}\n            onChange={(e) => {\n              setPageSize(Number(e.target.value));\n              setPage(1);\n            }}\n            style={{ ...inputStyle, width: 90, padding: \"8px 10px\" }}\n          >\n            <option value={10}>10</option>\n            <option value={20}>20</option>\n            <option value={50}>50</option>\n            <option value={100}>100</option>\n          </select>\n        </div>\n      </div>\n\n      <div style={{ display: \"flex\", gap: 10, alignItems: \"center\" }}>\n        <div style={{ fontSize: 13, color: \"#6b7280\" }}>\n          Page <b>{page}</b> / <b>{totalPages}</b>\n        </div>\n\n        <button\n          style={page <= 1 ? btnTinyDisabled : btnTiny}\n          disabled={page <= 1}\n          onClick={() => setPage((p) => Math.max(1, p - 1))}\n        >\n           Prev\n        </button>\n\n        <button\n          style={page >= totalPages ? btnTinyDisabled : btnTiny}\n          disabled={page >= totalPages}\n          onClick={() => setPage((p) => Math.min(totalPages, p + 1))}\n        >\n          Next \n        </button>\n      </div>\n    </div>\n  );\n\n  return (\n    <div>\n      <button\n        style={btn}\n        onClick={() => {\n          setOpen(true);\n          // reset to first page when opening (optional but nice)\n          setPage(1);\n        }}\n      >\n        Devices\n      </button>\n\n      <Modal\n        open={open}\n        title=\" Device Management\"\n        onClose={() => setOpen(false)}\n        footer={\n          <div style={{ display: \"flex\", gap: 10, justifyContent: \"space-between\", alignItems: \"center\" }}>\n            <div style={{ fontSize: 13, color: \"#6b7280\" }}>\n              Total: <b>{total}</b>\n            </div>\n            <div style={{ display: \"flex\", gap: 10 }}>\n              <button style={btnGhost} onClick={onRefresh} disabled={loading}>\n                Refresh\n              </button>\n              <button style={btn} onClick={handleOpenAddModal}>\n                + Add Device\n              </button>\n            </div>\n          </div>\n        }\n      >\n        <div style={{ display: \"flex\", gap: 10, marginBottom: 10 }}>\n          <input\n            value={q}\n            onChange={(e) => setQ(e.target.value)}\n            placeholder=\"Search by mobile id...\"\n            style={{ ...inputStyle, flex: 1 }}\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\") onSearch();\n            }}\n          />\n          <button style={btnGhost} onClick={onSearch} disabled={loading}>\n            Search\n          </button>\n        </div>\n\n        {errText ? (\n          <div\n            style={{\n              background: \"#fef2f2\",\n              border: \"1px solid #fecaca\",\n              color: \"#991b1b\",\n              padding: 10,\n              borderRadius: 10,\n              marginBottom: 10,\n              fontWeight: 600,\n            }}\n          >\n            {errText}\n          </div>\n        ) : null}\n\n        {fkDetail?.recent_links?.length ? (\n          <div style={{ marginBottom: 14 }}>\n            <div style={{ fontWeight: 800, marginBottom: 6 }}>Recent linked records</div>\n            <div style={{ overflowX: \"auto\", border: \"1px solid #e5e7eb\", borderRadius: 12 }}>\n              <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n                <thead>\n                  <tr style={{ background: \"#f9fafb\", textAlign: \"left\" }}>\n                    <th style={{ padding: 10, fontSize: 12, color: \"#6b7280\" }}>Link ID</th>\n                    <th style={{ padding: 10, fontSize: 12, color: \"#6b7280\" }}>Group</th>\n                    <th style={{ padding: 10, fontSize: 12, color: \"#6b7280\" }}>Shop</th>\n                    <th style={{ padding: 10, fontSize: 12, color: \"#6b7280\" }}>Video</th>\n                    <th style={{ padding: 10, fontSize: 12, color: \"#6b7280\" }}>Updated</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {fkDetail.recent_links.map((x) => (\n                    <tr key={x.link_id} style={{ borderTop: \"1px solid #f3f4f6\" }}>\n                      <td style={{ padding: 10, fontWeight: 700 }}>{x.link_id}</td>\n                      <td style={{ padding: 10 }}>{x.gname || x.gid}</td>\n                      <td style={{ padding: 10 }}>{x.shop_name || x.sid}</td>\n                      <td style={{ padding: 10 }}>{x.video_name || x.vid}</td>\n                      <td style={{ padding: 10 }}>{fmtDate(x.updated_at || x.created_at)}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        ) : null}\n\n        <div style={{ border: \"1px solid #e5e7eb\", borderRadius: 12, overflow: \"hidden\" }}>\n          <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n            <thead>\n              <tr style={{ background: \"#f9fafb\", textAlign: \"left\" }}>\n                <th style={{ padding: 12, fontSize: 12, color: \"#6b7280\" }}>Mobile ID</th>\n                <th style={{ padding: 12, fontSize: 12, color: \"#6b7280\" }}>Downloaded</th>\n                <th style={{ padding: 12, fontSize: 12, color: \"#6b7280\" }}>Created</th>\n                <th style={{ padding: 12, fontSize: 12, color: \"#6b7280\" }}>Updated</th>\n                <th style={{ padding: 12, fontSize: 12, color: \"#6b7280\", width: 120, textAlign: \"right\" }}>\n                  Action\n                </th>\n              </tr>\n            </thead>\n\n            <tbody>\n              {loading ? (\n                <tr>\n                  <td colSpan={5} style={{ padding: 14, color: \"#6b7280\" }}>\n                    Loading...\n                  </td>\n                </tr>\n              ) : items.length === 0 ? (\n                <tr>\n                  <td colSpan={5} style={{ padding: 14, color: \"#6b7280\" }}>\n                    No devices found.\n                  </td>\n                </tr>\n              ) : (\n                items.map((d) => (\n                  <tr key={d.id ?? d.mobile_id} style={{ borderTop: \"1px solid #f3f4f6\" }}>\n                    <td style={{ padding: 12, fontWeight: 800 }}>{d.mobile_id}</td>\n                    <td style={{ padding: 12 }}>{d.download_status ? \"Yes\" : \"No\"}</td>\n                    <td style={{ padding: 12 }}>{fmtDate(d.created_at)}</td>\n                    <td style={{ padding: 12 }}>{fmtDate(d.updated_at)}</td>\n                    <td style={{ padding: 12, textAlign: \"right\" }}>\n                      <button style={btnDanger} onClick={() => onDelete(d)}>\n                        Delete\n                      </button>\n                    </td>\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n\n        {paginationBar}\n\n        {/* Two-step Add Device Modal */}\n        <Modal\n          open={addOpen}\n          title={step === 1 ? \"Add Device - Step 1: Enter Mobile ID\" : \"Add Device - Step 2: Link to Group & Shop\"}\n          onClose={() => setAddOpen(false)}\n          footer={\n            step === 1 ? (\n              <div style={{ display: \"flex\", gap: 10, justifyContent: \"flex-end\" }}>\n                <button style={btnGhost} onClick={() => setAddOpen(false)} disabled={adding}>\n                  Cancel\n                </button>\n                <button style={btnGhost} onClick={addDeviceOnly} disabled={!canProceedToStep2 || adding}>\n                  Create Without Linking\n                </button>\n                <button style={btn} onClick={handleProceedToStep2} disabled={!canProceedToStep2}>\n                  Next: Select Group & Shop \n                </button>\n              </div>\n            ) : (\n              <div style={{ display: \"flex\", gap: 10, justifyContent: \"flex-end\" }}>\n                <button style={btnGhost} onClick={handleBack} disabled={adding}>\n                   Back\n                </button>\n                <button style={btnGhost} onClick={() => setAddOpen(false)} disabled={adding}>\n                  Cancel\n                </button>\n                <button style={btnSuccess} onClick={addDeviceWithLinking} disabled={!canSubmit || adding}>\n                  {adding ? \"Creating...\" : \"Create & Link Device\"}\n                </button>\n              </div>\n            )\n          }\n        >\n          {errText && (\n            <div\n              style={{\n                marginBottom: 12,\n                padding: 10,\n                borderRadius: 10,\n                background: \"#fef2f2\",\n                color: \"#991b1b\",\n                border: \"1px solid #fecaca\",\n              }}\n            >\n              {errText}\n            </div>\n          )}\n\n          {success && (\n            <div\n              style={{\n                marginBottom: 12,\n                padding: 10,\n                borderRadius: 10,\n                background: \"#ecfdf5\",\n                color: \"#065f46\",\n                border: \"1px solid #a7f3d0\",\n              }}\n            >\n              {success}\n            </div>\n          )}\n\n          {step === 1 && (\n            <div style={{ display: \"grid\", gap: 16 }}>\n              <div>\n                <div style={{ fontSize: 13, fontWeight: 800, marginBottom: 6 }}>Mobile ID *</div>\n                <input\n                  value={mobileId}\n                  onChange={(e) => setMobileId(e.target.value)}\n                  placeholder=\"e.g. c5c64c89008c530e\"\n                  style={inputStyle}\n                  autoFocus\n                />\n                <div style={{ fontSize: 12, color: \"#9ca3af\", marginTop: 4 }}>\n                  This is the Android device ID. You can find it in the device settings or from the app.\n                </div>\n              </div>\n\n              <label style={{ display: \"flex\", alignItems: \"center\", gap: 10, fontWeight: 700 }}>\n                <input type=\"checkbox\" checked={downloaded} onChange={(e) => setDownloaded(e.target.checked)} />\n                Mark as downloaded (videos already on device)\n              </label>\n\n              <div style={{ padding: 12, background: \"#f9fafb\", borderRadius: 8, border: \"1px solid #e5e7eb\" }}>\n                <div style={{ fontWeight: 600, marginBottom: 4 }}>Workflow:</div>\n                <ol style={{ margin: 0, paddingLeft: 20, fontSize: 13, color: \"#4b5563\" }}>\n                  <li>Enter the Mobile ID first</li>\n                  <li>Select Group and Shop to link the device</li>\n                  <li>Videos from the group will be automatically assigned</li>\n                </ol>\n              </div>\n            </div>\n          )}\n\n          {step === 2 && (\n            <div style={{ display: \"grid\", gap: 16 }}>\n              <div style={{ padding: 12, background: \"#eef2ff\", borderRadius: 8, border: \"1px solid #c7d2fe\" }}>\n                <strong>Device:</strong> {mobileId}\n              </div>\n\n              <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 16 }}>\n                <div>\n                  <div style={{ fontSize: 13, fontWeight: 800, marginBottom: 6 }}>Group *</div>\n                  <select\n                    style={inputStyle}\n                    value={group}\n                    onChange={(e) => setGroup(e.target.value)}\n                    disabled={loadingLists}\n                  >\n                    <option value=\"\">-- Select Group --</option>\n                    {groups.map((g) => (\n                      <option key={g} value={g}>\n                        {g}\n                      </option>\n                    ))}\n                  </select>\n                  <div style={{ fontSize: 12, color: \"#9ca3af\", marginTop: 4 }}>Videos are linked to groups</div>\n                </div>\n\n                <div>\n                  <div style={{ fontSize: 13, fontWeight: 800, marginBottom: 6 }}>Shop *</div>\n                  <select\n                    style={inputStyle}\n                    value={shop}\n                    onChange={(e) => setShop(e.target.value)}\n                    disabled={loadingLists}\n                  >\n                    <option value=\"\">-- Select Shop --</option>\n                    {shops.map((s) => (\n                      <option key={s} value={s}>\n                        {s}\n                      </option>\n                    ))}\n                  </select>\n                  <div style={{ fontSize: 12, color: \"#9ca3af\", marginTop: 4 }}>Location where device is installed</div>\n                </div>\n              </div>\n\n              <div\n                style={{\n                  fontSize: 13,\n                  color: \"#6b7280\",\n                  padding: 12,\n                  background: \"#fffbeb\",\n                  borderRadius: 8,\n                  border: \"1px solid #fde68a\",\n                }}\n              >\n                <strong>Note:</strong> The device will automatically receive all videos assigned to the selected group.\n                You can change the video assignments in the \"Group Linked Video\" section.\n              </div>\n            </div>\n          )}\n        </Modal>\n      </Modal>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}