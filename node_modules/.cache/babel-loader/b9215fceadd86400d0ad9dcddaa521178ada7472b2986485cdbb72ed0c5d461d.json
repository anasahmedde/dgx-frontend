{"ast":null,"code":"var _jsxFileName = \"/home/azherahmed/Documents/azhar/videproject/frontend/fastapi-frontend/src/components/Video.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { insertVideo, listVideos, updateVideo, deleteVideo } from \"../api/video\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Video() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [q, setQ] = useState(\"\");\n  const [videoName, setVideoName] = useState(\"\");\n  const [s3Link, setS3Link] = useState(\"\");\n  const [newVideoName, setNewVideoName] = useState(\"\");\n  const [newS3Link, setNewS3Link] = useState(\"\");\n  const load = async () => {\n    const res = await listVideos({\n      q,\n      limit: 50,\n      offset: 0\n    });\n    setItems(res.data.items);\n  };\n  useEffect(() => {\n    load();\n  }, []);\n  const add = async () => {\n    if (!videoName.trim() || !s3Link.trim()) return;\n    await insertVideo(videoName.trim(), s3Link.trim());\n    setVideoName(\"\");\n    setS3Link(\"\");\n    load();\n  };\n  const patch = async name => {\n    const patch = {};\n    if (newVideoName.trim()) patch.video_name = newVideoName.trim();\n    if (newS3Link.trim()) patch.s3_link = newS3Link.trim();\n    if (!Object.keys(patch).length) return;\n    await updateVideo(name, patch);\n    setNewVideoName(\"\");\n    setNewS3Link(\"\");\n    load();\n  };\n  const remove = async name => {\n    await deleteVideo(name);\n    load();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Videos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        marginBottom: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"search (q)\",\n        value: q,\n        onChange: e => setQ(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: load,\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        marginBottom: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"video_name\",\n        value: videoName,\n        onChange: e => setVideoName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"s3_link (s3://bucket/key.mp4)\",\n        value: s3Link,\n        onChange: e => setS3Link(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: add,\n        children: \"Add Video\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: items.map(it => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: it.video_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this), \" \\xA0 (id: \", it.id, \") \\xA0 \\u2014 \", it.s3_link, /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"inline-flex\",\n            gap: 8,\n            marginLeft: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"rename to...\",\n            value: newVideoName,\n            onChange: e => setNewVideoName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"new s3_link...\",\n            value: newS3Link,\n            onChange: e => setNewS3Link(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => patch(it.video_name),\n            children: \"Save\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => remove(it.video_name),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)]\n      }, it.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(Video, \"EFQMqM7673C+BDI2mfgaUgClpzg=\");\n_c = Video;\nvar _c;\n$RefreshReg$(_c, \"Video\");","map":{"version":3,"names":["React","useEffect","useState","insertVideo","listVideos","updateVideo","deleteVideo","jsxDEV","_jsxDEV","Video","_s","items","setItems","q","setQ","videoName","setVideoName","s3Link","setS3Link","newVideoName","setNewVideoName","newS3Link","setNewS3Link","load","res","limit","offset","data","add","trim","patch","name","video_name","s3_link","Object","keys","length","remove","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gap","marginBottom","placeholder","value","onChange","e","target","onClick","map","it","id","marginLeft","_c","$RefreshReg$"],"sources":["/home/azherahmed/Documents/azhar/videproject/frontend/fastapi-frontend/src/components/Video.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { insertVideo, listVideos, updateVideo, deleteVideo } from \"../api/video\";\n\nexport default function Video() {\n  const [items, setItems] = useState([]);\n  const [q, setQ] = useState(\"\");\n  const [videoName, setVideoName] = useState(\"\");\n  const [s3Link, setS3Link] = useState(\"\");\n  const [newVideoName, setNewVideoName] = useState(\"\");\n  const [newS3Link, setNewS3Link] = useState(\"\");\n\n  const load = async () => {\n    const res = await listVideos({ q, limit: 50, offset: 0 });\n    setItems(res.data.items);\n  };\n\n  useEffect(() => { load(); }, []);\n\n  const add = async () => {\n    if (!videoName.trim() || !s3Link.trim()) return;\n    await insertVideo(videoName.trim(), s3Link.trim());\n    setVideoName(\"\");\n    setS3Link(\"\");\n    load();\n  };\n\n  const patch = async (name) => {\n    const patch = {};\n    if (newVideoName.trim()) patch.video_name = newVideoName.trim();\n    if (newS3Link.trim()) patch.s3_link = newS3Link.trim();\n    if (!Object.keys(patch).length) return;\n    await updateVideo(name, patch);\n    setNewVideoName(\"\");\n    setNewS3Link(\"\");\n    load();\n  };\n\n  const remove = async (name) => {\n    await deleteVideo(name);\n    load();\n  };\n\n  return (\n    <div>\n      <h2>Videos</h2>\n\n      <div style={{ display: \"flex\", gap: 8, marginBottom: 10 }}>\n        <input placeholder=\"search (q)\" value={q} onChange={(e) => setQ(e.target.value)} />\n        <button onClick={load}>Search</button>\n      </div>\n\n      <div style={{ display: \"flex\", gap: 8, marginBottom: 10 }}>\n        <input placeholder=\"video_name\" value={videoName} onChange={(e) => setVideoName(e.target.value)} />\n        <input placeholder=\"s3_link (s3://bucket/key.mp4)\" value={s3Link} onChange={(e) => setS3Link(e.target.value)} />\n        <button onClick={add}>Add Video</button>\n      </div>\n\n      <ul>\n        {items.map((it) => (\n          <li key={it.id}>\n            <strong>{it.video_name}</strong> &nbsp; (id: {it.id}) &nbsp; â€” {it.s3_link}\n            <div style={{ display: \"inline-flex\", gap: 8, marginLeft: 12 }}>\n              <input placeholder=\"rename to...\" value={newVideoName} onChange={(e) => setNewVideoName(e.target.value)} />\n              <input placeholder=\"new s3_link...\" value={newS3Link} onChange={(e) => setNewS3Link(e.target.value)} />\n              <button onClick={() => patch(it.video_name)}>Save</button>\n              <button onClick={() => remove(it.video_name)}>Delete</button>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}