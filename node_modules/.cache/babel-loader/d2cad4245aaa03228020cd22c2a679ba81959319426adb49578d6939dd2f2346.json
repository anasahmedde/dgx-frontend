{"ast":null,"code":"import { PAGE_SIZE } from \"./config\";\n\n/**\n * Fetches ALL items from a paginated FastAPI endpoint that supports limit/offset.\n * Prevents 422 by keeping limit <= 100.\n */\nexport async function fetchAll(http, path, params = {}) {\n  const all = [];\n  let offset = 0;\n  while (true) {\n    var _res$data;\n    const res = await http.get(path, {\n      params: {\n        ...params,\n        limit: PAGE_SIZE,\n        offset\n      }\n    });\n    const items = (res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.items) || [];\n    all.push(...items);\n    if (items.length < PAGE_SIZE) break;\n    offset += PAGE_SIZE;\n  }\n  return all;\n}\nexport const enc = v => encodeURIComponent(String(v !== null && v !== void 0 ? v : \"\"));","map":{"version":3,"names":["PAGE_SIZE","fetchAll","http","path","params","all","offset","_res$data","res","get","limit","items","data","push","length","enc","v","encodeURIComponent","String"],"sources":["/home/ubuntu/loadboard/react-video/src/api/paginate.js"],"sourcesContent":["import { PAGE_SIZE } from \"./config\";\n\n/**\n * Fetches ALL items from a paginated FastAPI endpoint that supports limit/offset.\n * Prevents 422 by keeping limit <= 100.\n */\nexport async function fetchAll(http, path, params = {}) {\n  const all = [];\n  let offset = 0;\n\n  while (true) {\n    const res = await http.get(path, {\n      params: { ...params, limit: PAGE_SIZE, offset },\n    });\n\n    const items = res?.data?.items || [];\n    all.push(...items);\n\n    if (items.length < PAGE_SIZE) break;\n    offset += PAGE_SIZE;\n  }\n\n  return all;\n}\n\nexport const enc = (v) => encodeURIComponent(String(v ?? \"\"));\n\n"],"mappings":"AAAA,SAASA,SAAS,QAAQ,UAAU;;AAEpC;AACA;AACA;AACA;AACA,OAAO,eAAeC,QAAQA,CAACC,IAAI,EAAEC,IAAI,EAAEC,MAAM,GAAG,CAAC,CAAC,EAAE;EACtD,MAAMC,GAAG,GAAG,EAAE;EACd,IAAIC,MAAM,GAAG,CAAC;EAEd,OAAO,IAAI,EAAE;IAAA,IAAAC,SAAA;IACX,MAAMC,GAAG,GAAG,MAAMN,IAAI,CAACO,GAAG,CAACN,IAAI,EAAE;MAC/BC,MAAM,EAAE;QAAE,GAAGA,MAAM;QAAEM,KAAK,EAAEV,SAAS;QAAEM;MAAO;IAChD,CAAC,CAAC;IAEF,MAAMK,KAAK,GAAG,CAAAH,GAAG,aAAHA,GAAG,wBAAAD,SAAA,GAAHC,GAAG,CAAEI,IAAI,cAAAL,SAAA,uBAATA,SAAA,CAAWI,KAAK,KAAI,EAAE;IACpCN,GAAG,CAACQ,IAAI,CAAC,GAAGF,KAAK,CAAC;IAElB,IAAIA,KAAK,CAACG,MAAM,GAAGd,SAAS,EAAE;IAC9BM,MAAM,IAAIN,SAAS;EACrB;EAEA,OAAOK,GAAG;AACZ;AAEA,OAAO,MAAMU,GAAG,GAAIC,CAAC,IAAKC,kBAAkB,CAACC,MAAM,CAACF,CAAC,aAADA,CAAC,cAADA,CAAC,GAAI,EAAE,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}