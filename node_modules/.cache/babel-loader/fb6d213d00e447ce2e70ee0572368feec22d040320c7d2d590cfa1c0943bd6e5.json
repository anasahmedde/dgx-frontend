{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/loadboard/react-video/src/components/Video.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// src/components/Video.js\n// Updated with: rotation display, video preview, fixed upload with rotation/fit_mode\nimport React, { useEffect, useState, useRef, useMemo } from \"react\";\nimport axios from \"axios\";\n\n// Video API runs on port 8003\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst VIDEO_BASE = process.env.REACT_APP_VIDEO_API_URL || `${window.location.protocol}//${window.location.hostname}:8003`;\n\n// DVSG API runs on port 8005 (for rotation/fit_mode updates)\nconst DVSG_BASE = process.env.REACT_APP_API_BASE_URL || `${window.location.protocol}//${window.location.hostname}:8005`;\nconst videoApi = axios.create({\n  baseURL: VIDEO_BASE,\n  timeout: 30000,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nconst dvsgApi = axios.create({\n  baseURL: DVSG_BASE,\n  timeout: 30000,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\nfunction Modal({\n  open,\n  title,\n  onClose,\n  children,\n  footer,\n  width = \"720px\"\n}) {\n  _s();\n  useEffect(() => {\n    if (!open) return;\n    const onKey = e => e.key === \"Escape\" && onClose();\n    document.addEventListener(\"keydown\", onKey);\n    return () => document.removeEventListener(\"keydown\", onKey);\n  }, [open, onClose]);\n  const overlay = {\n    position: \"fixed\",\n    inset: 0,\n    background: \"rgba(0,0,0,.45)\",\n    display: open ? \"grid\" : \"none\",\n    placeItems: \"center\",\n    zIndex: 2000\n  };\n  const card = {\n    width: `min(92vw, ${width})`,\n    background: \"#fff\",\n    borderRadius: 14,\n    boxShadow: \"0 20px 50px rgba(0,0,0,.2)\",\n    overflow: \"hidden\"\n  };\n  const header = {\n    padding: \"12px 16px\",\n    borderBottom: \"1px solid #eee\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    fontWeight: 600\n  };\n  const body = {\n    padding: 16,\n    maxHeight: \"70vh\",\n    overflowY: \"auto\"\n  };\n  const footerBox = {\n    padding: 16,\n    borderTop: \"1px solid #eee\",\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    gap: 8\n  };\n  const closeBtn = {\n    border: \"1px solid #e5e7eb\",\n    background: \"#fff\",\n    borderRadius: 8,\n    padding: \"6px 10px\",\n    cursor: \"pointer\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: overlay,\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: card,\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: header,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: closeBtn,\n          onClick: onClose,\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: body,\n        children: children\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), footer && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: footerBox,\n        children: footer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 20\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n}\n\n// Rotation button component\n_s(Modal, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c = Modal;\nfunction RotationSelector({\n  value,\n  onChange\n}) {\n  const rotations = [0, 90, 180, 270];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      gap: 4\n    },\n    children: rotations.map(r => /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => onChange(r),\n      style: {\n        padding: \"4px 8px\",\n        borderRadius: 4,\n        border: value === r ? \"2px solid #4f46e5\" : \"1px solid #e5e7eb\",\n        background: value === r ? \"#eef2ff\" : \"#fff\",\n        cursor: \"pointer\",\n        fontSize: 12,\n        fontWeight: value === r ? 600 : 400\n      },\n      children: [r, \"\\xB0\"]\n    }, r, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n\n// Rotation badge for display\n_c2 = RotationSelector;\nfunction RotationBadge({\n  rotation\n}) {\n  const colors = {\n    0: {\n      bg: \"#f3f4f6\",\n      text: \"#374151\"\n    },\n    90: {\n      bg: \"#dbeafe\",\n      text: \"#1e40af\"\n    },\n    180: {\n      bg: \"#fef3c7\",\n      text: \"#92400e\"\n    },\n    270: {\n      bg: \"#fce7f3\",\n      text: \"#9d174d\"\n    }\n  };\n  const c = colors[rotation] || colors[0];\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      display: \"inline-flex\",\n      alignItems: \"center\",\n      gap: 4,\n      padding: \"4px 10px\",\n      borderRadius: 6,\n      fontSize: 12,\n      fontWeight: 600,\n      background: c.bg,\n      color: c.text\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        transform: `rotate(${rotation}deg)`,\n        display: \"inline-block\"\n      },\n      children: \"\\u21BB\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this), rotation, \"\\xB0\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n\n// Fit mode selector\n_c3 = RotationBadge;\nfunction FitModeSelector({\n  value,\n  onChange\n}) {\n  const modes = [{\n    value: \"cover\",\n    label: \"Cover (fill screen)\",\n    desc: \"Video fills screen, may crop edges\"\n  }, {\n    value: \"contain\",\n    label: \"Contain (show all)\",\n    desc: \"Shows full video, may have black bars\"\n  }, {\n    value: \"fill\",\n    label: \"Fill (stretch)\",\n    desc: \"Stretches to fill, may distort\"\n  }, {\n    value: \"none\",\n    label: \"Original size\",\n    desc: \"No scaling applied\"\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"grid\",\n      gap: 8\n    },\n    children: modes.map(m => /*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: 8,\n        padding: 8,\n        borderRadius: 8,\n        border: value === m.value ? \"2px solid #4f46e5\" : \"1px solid #e5e7eb\",\n        background: value === m.value ? \"#eef2ff\" : \"#fff\",\n        cursor: \"pointer\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"radio\",\n        name: \"fitMode\",\n        value: m.value,\n        checked: value === m.value,\n        onChange: () => onChange(m.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 500\n          },\n          children: m.label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 11,\n            color: \"#6b7280\"\n          },\n          children: m.desc\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this)]\n    }, m.value, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n\n// Content type badge\n_c4 = FitModeSelector;\nfunction ContentTypeBadge({\n  type\n}) {\n  const colors = {\n    video: {\n      bg: \"#dbeafe\",\n      text: \"#1e40af\"\n    },\n    image: {\n      bg: \"#dcfce7\",\n      text: \"#166534\"\n    },\n    html: {\n      bg: \"#fef3c7\",\n      text: \"#92400e\"\n    },\n    pdf: {\n      bg: \"#fee2e2\",\n      text: \"#991b1b\"\n    }\n  };\n  const c = colors[type] || colors.video;\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      display: \"inline-block\",\n      padding: \"2px 6px\",\n      borderRadius: 4,\n      fontSize: 11,\n      fontWeight: 600,\n      background: c.bg,\n      color: c.text,\n      textTransform: \"uppercase\"\n    },\n    children: type\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n}\n\n// Video Preview Modal\n_c5 = ContentTypeBadge;\nfunction VideoPreviewModal({\n  open,\n  onClose,\n  video\n}) {\n  _s2();\n  const videoRef = useRef(null);\n  const [presignedUrl, setPresignedUrl] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!open || !(video !== null && video !== void 0 && video.s3_link)) {\n      setPresignedUrl(null);\n      return;\n    }\n\n    // Get presigned URL for the video\n    const fetchPresignedUrl = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        var _res$data, _res$data2;\n        // Try to get presigned URL from the downloads endpoint\n        const res = await dvsgApi.get(`/video/${encodeURIComponent(video.video_name)}/presign`);\n        setPresignedUrl(((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.url) || ((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.presigned_url));\n      } catch (e) {\n        var _video$s3_link;\n        // If no presign endpoint, try using the s3_link directly if it's an HTTP URL\n        if ((_video$s3_link = video.s3_link) !== null && _video$s3_link !== void 0 && _video$s3_link.startsWith('http')) {\n          setPresignedUrl(video.s3_link);\n        } else {\n          setError(\"Could not load video preview\");\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchPresignedUrl();\n  }, [open, video]);\n  useEffect(() => {\n    if (!open && videoRef.current) {\n      videoRef.current.pause();\n    }\n  }, [open]);\n  const rotation = (video === null || video === void 0 ? void 0 : video.rotation) || 0;\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    open: open,\n    title: `ðŸŽ¬ Preview: ${(video === null || video === void 0 ? void 0 : video.video_name) || \"Video\"}`,\n    onClose: onClose,\n    width: \"900px\",\n    footer: /*#__PURE__*/_jsxDEV(\"button\", {\n      style: {\n        padding: \"8px 16px\",\n        borderRadius: 8,\n        border: \"1px solid #e5e7eb\",\n        background: \"#fff\",\n        cursor: \"pointer\"\n      },\n      onClick: onClose,\n      children: \"Close\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }, this),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          gap: 16,\n          flexWrap: \"wrap\",\n          padding: 12,\n          background: \"#f8fafc\",\n          borderRadius: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 11,\n              color: \"#6b7280\",\n              marginBottom: 2\n            },\n            children: \"Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ContentTypeBadge, {\n            type: (video === null || video === void 0 ? void 0 : video.content_type) || \"video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 11,\n              color: \"#6b7280\",\n              marginBottom: 2\n            },\n            children: \"Rotation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RotationBadge, {\n            rotation: rotation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 11,\n              color: \"#6b7280\",\n              marginBottom: 2\n            },\n            children: \"Fit Mode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: 13,\n              fontWeight: 500\n            },\n            children: (video === null || video === void 0 ? void 0 : video.fit_mode) || \"cover\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), (video === null || video === void 0 ? void 0 : video.display_duration) && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 11,\n              color: \"#6b7280\",\n              marginBottom: 2\n            },\n            children: \"Duration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: 13,\n              fontWeight: 500\n            },\n            children: [video.display_duration, \"s\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: \"#000\",\n          borderRadius: 8,\n          overflow: \"hidden\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          minHeight: 400\n        },\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#fff\",\n            padding: 40\n          },\n          children: \"Loading video...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#ef4444\",\n            padding: 40\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this) : presignedUrl ? /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          src: presignedUrl,\n          controls: true,\n          autoPlay: true,\n          style: {\n            maxWidth: \"100%\",\n            maxHeight: 500,\n            transform: `rotate(${rotation}deg)`,\n            transition: \"transform 0.3s\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#6b7280\",\n            padding: 40\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 48,\n              marginBottom: 16\n            },\n            children: \"\\uD83C\\uDFAC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Video preview not available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              marginTop: 8\n            },\n            children: [\"S3 Link: \", (video === null || video === void 0 ? void 0 : video.s3_link) || \"Not set\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), rotation !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 10,\n          background: \"#fef3c7\",\n          borderRadius: 8,\n          fontSize: 13,\n          color: \"#92400e\",\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"\\u26A0\\uFE0F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"This video is set to rotate \", rotation, \"\\xB0 on the Android player\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 5\n  }, this);\n}\n_s2(VideoPreviewModal, \"JOImb99q1syubMQ2sWkPdWoGyJY=\");\n_c6 = VideoPreviewModal;\nexport default function Video() {\n  _s3();\n  const [items, setItems] = useState([]);\n  const [q, setQ] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // Edit modal\n  const [edit, setEdit] = useState(null);\n\n  // Preview modal\n  const [preview, setPreview] = useState(null);\n\n  // Upload state\n  const [uploadName, setUploadName] = useState(\"\");\n  const [uploadFile, setUploadFile] = useState(null);\n  const [overwrite, setOverwrite] = useState(true);\n  const [uploadRotation, setUploadRotation] = useState(0);\n  const [uploadFitMode, setUploadFitMode] = useState(\"cover\");\n  const [uploadDuration, setUploadDuration] = useState(10);\n  const [pct, setPct] = useState(0);\n  const [uploading, setUploading] = useState(false);\n  const [uploadedInfo, setUploadedInfo] = useState(null);\n  const fileInputRef = useRef(null);\n  useEffect(() => {\n    load();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const load = async () => {\n    setLoading(true);\n    try {\n      const res = await videoApi.get(\"/videos\", {\n        params: {\n          q,\n          limit: 50,\n          offset: 0\n        }\n      });\n      const data = res.data;\n      // Handle both array and {items: [...]} response formats\n      const videoItems = Array.isArray(data) ? data : data.items || data.data || [];\n      setItems(videoItems);\n    } catch (e) {\n      console.error(\"Failed to load videos:\", e);\n      setItems([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const filtered = useMemo(() => {\n    if (!q.trim()) return items;\n    const search = q.toLowerCase();\n    return items.filter(it => (it.video_name || \"\").toLowerCase().includes(search) || (it.content_type || \"\").toLowerCase().includes(search));\n  }, [items, q]);\n  const openEdit = it => {\n    setEdit({\n      ...it,\n      newName: it.video_name,\n      newLink: it.s3_link,\n      newRotation: it.rotation || 0,\n      newFitMode: it.fit_mode || \"cover\",\n      newDuration: it.display_duration || 10\n    });\n  };\n  const saveEdit = async () => {\n    if (!edit) return;\n    const patch = {};\n    if (edit.newName && edit.newName !== edit.video_name) patch.video_name = edit.newName.trim();\n    if (edit.newLink && edit.newLink !== edit.s3_link) patch.s3_link = edit.newLink.trim();\n    if (edit.newRotation !== edit.rotation) patch.rotation = edit.newRotation;\n    if (edit.newFitMode !== edit.fit_mode) patch.fit_mode = edit.newFitMode;\n    if (edit.newDuration !== edit.display_duration) patch.display_duration = edit.newDuration;\n    if (!Object.keys(patch).length) {\n      setEdit(null);\n      return;\n    }\n    try {\n      await videoApi.put(`/video/${encodeURIComponent(edit.video_name)}`, patch);\n      setEdit(null);\n      load();\n    } catch (e) {\n      var _e$response, _e$response$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.detail) || \"Update failed\");\n    }\n  };\n  const remove = async name => {\n    if (!window.confirm(`Delete \"${name}\"?`)) return;\n    try {\n      await videoApi.delete(`/video/${encodeURIComponent(name)}`);\n      load();\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.detail) || \"Delete failed\");\n    }\n  };\n\n  // Update rotation via DVSG API (port 8005)\n  const setRotation = async (videoName, rotation) => {\n    try {\n      await dvsgApi.post(`/video/${encodeURIComponent(videoName)}/rotation`, {\n        rotation\n      });\n      // Also update locally\n      setItems(prev => prev.map(it => it.video_name === videoName ? {\n        ...it,\n        rotation\n      } : it));\n    } catch (e) {\n      console.error(\"Failed to set rotation via DVSG:\", e);\n      // Fallback to video API\n      try {\n        await videoApi.put(`/video/${encodeURIComponent(videoName)}`, {\n          rotation\n        });\n        load();\n      } catch (e2) {\n        var _e2$response, _e2$response$data;\n        alert((e2 === null || e2 === void 0 ? void 0 : (_e2$response = e2.response) === null || _e2$response === void 0 ? void 0 : (_e2$response$data = _e2$response.data) === null || _e2$response$data === void 0 ? void 0 : _e2$response$data.detail) || \"Failed to set rotation\");\n      }\n    }\n  };\n\n  // Update fit_mode via DVSG API (port 8005)\n  const setFitMode = async (videoName, fitMode) => {\n    try {\n      await dvsgApi.post(`/video/${encodeURIComponent(videoName)}/fit_mode`, {\n        fit_mode: fitMode\n      });\n      // Also update locally\n      setItems(prev => prev.map(it => it.video_name === videoName ? {\n        ...it,\n        fit_mode: fitMode\n      } : it));\n    } catch (e) {\n      console.error(\"Failed to set fit_mode via DVSG:\", e);\n      // Fallback to video API\n      try {\n        await videoApi.put(`/video/${encodeURIComponent(videoName)}`, {\n          fit_mode: fitMode\n        });\n        load();\n      } catch (e2) {\n        var _e2$response2, _e2$response2$data;\n        alert((e2 === null || e2 === void 0 ? void 0 : (_e2$response2 = e2.response) === null || _e2$response2 === void 0 ? void 0 : (_e2$response2$data = _e2$response2.data) === null || _e2$response2$data === void 0 ? void 0 : _e2$response2$data.detail) || \"Failed to set fit mode\");\n      }\n    }\n  };\n  const handleUpload = async () => {\n    if (!uploadFile) {\n      alert(\"Please select a file\");\n      return;\n    }\n    const name = uploadName.trim() || uploadFile.name.replace(/\\.[^/.]+$/, \"\");\n    setUploading(true);\n    setPct(0);\n    setUploadedInfo(null);\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", uploadFile);\n      formData.append(\"video_name\", name);\n      formData.append(\"overwrite\", overwrite ? \"true\" : \"false\");\n      formData.append(\"rotation\", uploadRotation.toString());\n      formData.append(\"fit_mode\", uploadFitMode);\n      formData.append(\"display_duration\", uploadDuration.toString());\n\n      // Upload to video service\n      const res = await videoApi.post(\"/upload_video\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        },\n        timeout: 300000,\n        onUploadProgress: progressEvent => {\n          if (progressEvent.total) {\n            const percent = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n            setPct(percent);\n          }\n        }\n      });\n\n      // After upload, update rotation/fit_mode in DVSG service (port 8005)\n      try {\n        if (uploadRotation !== 0) {\n          await dvsgApi.post(`/video/${encodeURIComponent(name)}/rotation`, {\n            rotation: uploadRotation\n          });\n        }\n        if (uploadFitMode !== \"cover\") {\n          await dvsgApi.post(`/video/${encodeURIComponent(name)}/fit_mode`, {\n            fit_mode: uploadFitMode\n          });\n        }\n      } catch (dvsgErr) {\n        console.warn(\"Could not update rotation/fit_mode in DVSG:\", dvsgErr);\n      }\n      setUploadedInfo({\n        ...res.data,\n        rotation: uploadRotation,\n        fit_mode: uploadFitMode\n      });\n      setUploadName(\"\");\n      setUploadFile(null);\n      setUploadRotation(0);\n      setUploadFitMode(\"cover\");\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\n      load();\n    } catch (e) {\n      var _e$response3, _e$response3$data;\n      alert((e === null || e === void 0 ? void 0 : (_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.detail) || \"Upload failed\");\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  // Styles\n  const input = {\n    border: \"1px solid #e5e7eb\",\n    borderRadius: 8,\n    padding: \"8px 10px\",\n    fontSize: 14\n  };\n  const btn = {\n    padding: \"8px 12px\",\n    borderRadius: 8,\n    border: \"1px solid #e5e7eb\",\n    background: \"#fff\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    fontWeight: 600\n  };\n  const btnPrimary = {\n    ...btn,\n    background: \"#4f46e5\",\n    color: \"#fff\",\n    borderColor: \"#4f46e5\"\n  };\n  const btnSuccess = {\n    ...btn,\n    background: \"#10b981\",\n    color: \"#fff\",\n    borderColor: \"#10b981\"\n  };\n  const btnDanger = {\n    ...btn,\n    background: \"#dc2626\",\n    color: \"#fff\",\n    borderColor: \"#dc2626\"\n  };\n  const barWrap = {\n    height: 8,\n    background: \"#e5e7eb\",\n    borderRadius: 4,\n    overflow: \"hidden\"\n  };\n  const bar = {\n    height: \"100%\",\n    background: \"#4f46e5\",\n    width: `${pct}%`,\n    transition: \"width 0.2s\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        fontSize: 28,\n        margin: \"0 0 12px\"\n      },\n      children: \"Content Library\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 525,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        background: \"#f8fafc\",\n        borderRadius: 12,\n        padding: 16,\n        marginBottom: 20,\n        border: \"1px solid #e5e7eb\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          margin: \"0 0 12px\",\n          fontSize: 16\n        },\n        children: \"Upload Content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 529,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: 12,\n          color: \"#6b7280\",\n          marginBottom: 12\n        },\n        children: \"Supports: Video (MP4, WebM, MOV), Images (JPG, PNG, GIF, WebP), HTML, PDF\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 530,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"1fr 1fr\",\n          gap: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              color: \"#6b7280\",\n              marginBottom: 4\n            },\n            children: \"Content Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 536,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              ...input,\n              width: \"100%\"\n            },\n            placeholder: \"e.g. promo_video_summer\",\n            value: uploadName,\n            onChange: e => setUploadName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 537,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 535,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              color: \"#6b7280\",\n              marginBottom: 4\n            },\n            children: \"File\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: fileInputRef,\n            type: \"file\",\n            accept: \"video/*,image/*,.html,.htm,.pdf\",\n            onChange: e => {\n              var _e$target$files;\n              return setUploadFile(((_e$target$files = e.target.files) === null || _e$target$files === void 0 ? void 0 : _e$target$files[0]) || null);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 544,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 534,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gridTemplateColumns: \"1fr 1fr 1fr\",\n          gap: 12,\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              color: \"#6b7280\",\n              marginBottom: 4\n            },\n            children: \"Rotation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(RotationSelector, {\n            value: uploadRotation,\n            onChange: setUploadRotation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 558,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 556,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              color: \"#6b7280\",\n              marginBottom: 4\n            },\n            children: \"Fit Mode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            style: {\n              ...input,\n              width: \"100%\"\n            },\n            value: uploadFitMode,\n            onChange: e => setUploadFitMode(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cover\",\n              children: \"Cover (fill screen)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 567,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"contain\",\n              children: \"Contain (show all)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 568,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"fill\",\n              children: \"Fill (stretch)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 569,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"none\",\n              children: \"Original size\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              color: \"#6b7280\",\n              marginBottom: 4\n            },\n            children: \"Duration (for images)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              ...input,\n              width: \"100%\"\n            },\n            type: \"number\",\n            min: \"1\",\n            max: \"300\",\n            value: uploadDuration,\n            onChange: e => setUploadDuration(parseInt(e.target.value) || 10)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 575,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 16,\n          marginTop: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 6,\n            fontSize: 14\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: overwrite,\n            onChange: e => setOverwrite(e.target.checked)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 13\n          }, this), \"Overwrite if exists\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: btnPrimary,\n          disabled: uploading,\n          onClick: handleUpload,\n          children: uploading ? \"Uploading...\" : \"Upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 9\n      }, this), uploading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: barWrap,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: bar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 12,\n            color: \"#6b7280\",\n            marginTop: 4\n          },\n          children: [pct, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 599,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 597,\n        columnNumber: 11\n      }, this), uploadedInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 10,\n          padding: 10,\n          background: \"#ecfdf5\",\n          borderRadius: 8,\n          border: \"1px solid #a7f3d0\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontWeight: 600,\n            color: \"#065f46\",\n            marginBottom: 4\n          },\n          children: \"\\u2713 Upload successful\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 13,\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(ContentTypeBadge, {\n            type: uploadedInfo.content_type || \"video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: uploadedInfo.video_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 15\n          }, this), uploadedInfo.rotation !== 0 && /*#__PURE__*/_jsxDEV(RotationBadge, {\n            rotation: uploadedInfo.rotation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 47\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 604,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        marginBottom: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        style: {\n          ...input,\n          minWidth: 220\n        },\n        placeholder: \"Search content...\",\n        value: q,\n        onChange: e => setQ(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: btn,\n        onClick: load,\n        disabled: loading,\n        children: loading ? \"Loading...\" : \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 623,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: \"1px solid #eee\",\n        borderRadius: 12,\n        overflow: \"hidden\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: {\n          width: \"100%\",\n          borderCollapse: \"collapse\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              background: \"#f8fafc\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: \"left\",\n                padding: 12,\n                borderBottom: \"1px solid #eee\"\n              },\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: \"left\",\n                padding: 12,\n                borderBottom: \"1px solid #eee\",\n                width: 80\n              },\n              children: \"Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 634,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: \"center\",\n                padding: 12,\n                borderBottom: \"1px solid #eee\",\n                width: 120\n              },\n              children: \"Rotation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: \"center\",\n                padding: 12,\n                borderBottom: \"1px solid #eee\",\n                width: 100\n              },\n              children: \"Fit Mode\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: \"right\",\n                padding: 12,\n                borderBottom: \"1px solid #eee\",\n                width: 200\n              },\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 637,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 632,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 631,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [filtered.length === 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: 5,\n              style: {\n                padding: 20,\n                textAlign: \"center\",\n                color: \"#6b7280\"\n              },\n              children: \"No content found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 643,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 642,\n            columnNumber: 15\n          }, this), filtered.map(it => /*#__PURE__*/_jsxDEV(\"tr\", {\n            style: {\n              borderBottom: \"1px solid #f1f5f9\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontWeight: 600\n                },\n                children: it.video_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 651,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 11,\n                  color: \"#6b7280\",\n                  marginTop: 2\n                },\n                children: [\"ID: \", it.id]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 652,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 650,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: 12\n              },\n              children: /*#__PURE__*/_jsxDEV(ContentTypeBadge, {\n                type: it.content_type || \"video\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 655,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 654,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: 12,\n                textAlign: \"center\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  flexDirection: \"column\",\n                  alignItems: \"center\",\n                  gap: 4\n                },\n                children: [/*#__PURE__*/_jsxDEV(RotationBadge, {\n                  rotation: it.rotation || 0\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 659,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  style: {\n                    ...input,\n                    padding: \"4px 8px\",\n                    fontSize: 11,\n                    width: 70\n                  },\n                  value: it.rotation || 0,\n                  onChange: e => setRotation(it.video_name, parseInt(e.target.value)),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 0,\n                    children: \"0\\xB0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 90,\n                    children: \"90\\xB0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 666,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 180,\n                    children: \"180\\xB0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 667,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: 270,\n                    children: \"270\\xB0\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 668,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 660,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 658,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 657,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: 12,\n                textAlign: \"center\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                style: {\n                  ...input,\n                  padding: \"4px 8px\",\n                  fontSize: 12\n                },\n                value: it.fit_mode || \"cover\",\n                onChange: e => setFitMode(it.video_name, e.target.value),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"cover\",\n                  children: \"Cover\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 678,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"contain\",\n                  children: \"Contain\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 679,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"fill\",\n                  children: \"Fill\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 680,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"none\",\n                  children: \"None\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 681,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 672,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              style: {\n                padding: 12,\n                textAlign: \"right\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: \"flex\",\n                  gap: 4,\n                  justifyContent: \"flex-end\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    ...btnSuccess,\n                    padding: \"4px 8px\"\n                  },\n                  onClick: () => setPreview(it),\n                  title: \"Preview video\",\n                  children: \"\\u25B6\\uFE0F Play\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 686,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    ...btn,\n                    padding: \"4px 8px\"\n                  },\n                  onClick: () => openEdit(it),\n                  children: \"Edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 693,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  style: {\n                    ...btnDanger,\n                    padding: \"4px 8px\"\n                  },\n                  onClick: () => remove(it.video_name),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 696,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 685,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 684,\n              columnNumber: 17\n            }, this)]\n          }, it.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 640,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VideoPreviewModal, {\n      open: !!preview,\n      onClose: () => setPreview(null),\n      video: preview\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 708,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      open: !!edit,\n      title: \"Edit Content\",\n      onClose: () => setEdit(null),\n      footer: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: btn,\n          onClick: () => setEdit(null),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 721,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          style: btnPrimary,\n          onClick: saveEdit,\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 722,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true),\n      children: edit && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"grid\",\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: 12,\n              color: \"#6b7280\",\n              display: \"block\",\n              marginBottom: 4\n            },\n            children: \"Content Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 729,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              ...input,\n              width: \"100%\"\n            },\n            value: edit.newName,\n            onChange: e => setEdit(x => ({\n              ...x,\n              newName: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 730,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 728,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: 12,\n              color: \"#6b7280\",\n              display: \"block\",\n              marginBottom: 4\n            },\n            children: \"S3 Link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            style: {\n              ...input,\n              width: \"100%\"\n            },\n            value: edit.newLink,\n            onChange: e => setEdit(x => ({\n              ...x,\n              newLink: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 739,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: 12,\n              color: \"#6b7280\",\n              display: \"block\",\n              marginBottom: 4\n            },\n            children: \"Rotation\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 747,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(RotationSelector, {\n            value: edit.newRotation,\n            onChange: r => setEdit(x => ({\n              ...x,\n              newRotation: r\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: 12,\n              color: \"#6b7280\",\n              display: \"block\",\n              marginBottom: 4\n            },\n            children: \"Fit Mode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 755,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(FitModeSelector, {\n            value: edit.newFitMode,\n            onChange: m => setEdit(x => ({\n              ...x,\n              newFitMode: m\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 756,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 754,\n          columnNumber: 13\n        }, this), edit.content_type !== \"video\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              fontSize: 12,\n              color: \"#6b7280\",\n              display: \"block\",\n              marginBottom: 4\n            },\n            children: \"Display Duration (seconds)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 764,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            style: {\n              ...input,\n              width: 100\n            },\n            min: \"1\",\n            max: \"300\",\n            value: edit.newDuration,\n            onChange: e => setEdit(x => ({\n              ...x,\n              newDuration: parseInt(e.target.value) || 10\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 767,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 763,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 524,\n    columnNumber: 5\n  }, this);\n}\n_s3(Video, \"s8tTOvexa3DKTGbW4LXMplQeyxE=\");\n_c7 = Video;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"Modal\");\n$RefreshReg$(_c2, \"RotationSelector\");\n$RefreshReg$(_c3, \"RotationBadge\");\n$RefreshReg$(_c4, \"FitModeSelector\");\n$RefreshReg$(_c5, \"ContentTypeBadge\");\n$RefreshReg$(_c6, \"VideoPreviewModal\");\n$RefreshReg$(_c7, \"Video\");","map":{"version":3,"names":["React","useEffect","useState","useRef","useMemo","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","VIDEO_BASE","process","env","REACT_APP_VIDEO_API_URL","window","location","protocol","hostname","DVSG_BASE","REACT_APP_API_BASE_URL","videoApi","create","baseURL","timeout","headers","dvsgApi","Modal","open","title","onClose","children","footer","width","_s","onKey","e","key","document","addEventListener","removeEventListener","overlay","position","inset","background","display","placeItems","zIndex","card","borderRadius","boxShadow","overflow","header","padding","borderBottom","alignItems","justifyContent","fontWeight","body","maxHeight","overflowY","footerBox","borderTop","gap","closeBtn","border","cursor","style","onClick","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","_c","RotationSelector","value","onChange","rotations","map","r","type","fontSize","_c2","RotationBadge","rotation","colors","bg","text","c","color","transform","_c3","FitModeSelector","modes","label","desc","m","name","checked","_c4","ContentTypeBadge","video","image","html","pdf","textTransform","_c5","VideoPreviewModal","_s2","videoRef","presignedUrl","setPresignedUrl","loading","setLoading","error","setError","s3_link","fetchPresignedUrl","_res$data","_res$data2","res","get","encodeURIComponent","video_name","data","url","presigned_url","_video$s3_link","startsWith","current","pause","flexDirection","flexWrap","marginBottom","content_type","fit_mode","display_duration","minHeight","ref","src","controls","autoPlay","maxWidth","transition","marginTop","_c6","Video","_s3","items","setItems","q","setQ","edit","setEdit","preview","setPreview","uploadName","setUploadName","uploadFile","setUploadFile","overwrite","setOverwrite","uploadRotation","setUploadRotation","uploadFitMode","setUploadFitMode","uploadDuration","setUploadDuration","pct","setPct","uploading","setUploading","uploadedInfo","setUploadedInfo","fileInputRef","load","params","limit","offset","videoItems","Array","isArray","console","filtered","trim","search","toLowerCase","filter","it","includes","openEdit","newName","newLink","newRotation","newFitMode","newDuration","saveEdit","patch","Object","keys","length","put","_e$response","_e$response$data","alert","response","detail","remove","confirm","delete","_e$response2","_e$response2$data","setRotation","videoName","post","prev","e2","_e2$response","_e2$response$data","setFitMode","fitMode","_e2$response2","_e2$response2$data","handleUpload","replace","formData","FormData","append","toString","onUploadProgress","progressEvent","total","percent","Math","round","loaded","dvsgErr","warn","_e$response3","_e$response3$data","input","btn","btnPrimary","borderColor","btnSuccess","btnDanger","barWrap","height","bar","margin","gridTemplateColumns","placeholder","target","accept","_e$target$files","files","min","max","parseInt","disabled","minWidth","borderCollapse","textAlign","colSpan","id","x","_c7","$RefreshReg$"],"sources":["/home/ubuntu/loadboard/react-video/src/components/Video.js"],"sourcesContent":["// src/components/Video.js\n// Updated with: rotation display, video preview, fixed upload with rotation/fit_mode\nimport React, { useEffect, useState, useRef, useMemo } from \"react\";\nimport axios from \"axios\";\n\n// Video API runs on port 8003\nconst VIDEO_BASE = process.env.REACT_APP_VIDEO_API_URL || \n  `${window.location.protocol}//${window.location.hostname}:8003`;\n\n// DVSG API runs on port 8005 (for rotation/fit_mode updates)\nconst DVSG_BASE = process.env.REACT_APP_API_BASE_URL || \n  `${window.location.protocol}//${window.location.hostname}:8005`;\n\nconst videoApi = axios.create({\n  baseURL: VIDEO_BASE,\n  timeout: 30000,\n  headers: { \"Content-Type\": \"application/json\" },\n});\n\nconst dvsgApi = axios.create({\n  baseURL: DVSG_BASE,\n  timeout: 30000,\n  headers: { \"Content-Type\": \"application/json\" },\n});\n\nfunction Modal({ open, title, onClose, children, footer, width = \"720px\" }) {\n  useEffect(() => {\n    if (!open) return;\n    const onKey = (e) => e.key === \"Escape\" && onClose();\n    document.addEventListener(\"keydown\", onKey);\n    return () => document.removeEventListener(\"keydown\", onKey);\n  }, [open, onClose]);\n\n  const overlay = { position: \"fixed\", inset: 0, background: \"rgba(0,0,0,.45)\", display: open ? \"grid\" : \"none\", placeItems: \"center\", zIndex: 2000 };\n  const card = { width: `min(92vw, ${width})`, background: \"#fff\", borderRadius: 14, boxShadow: \"0 20px 50px rgba(0,0,0,.2)\", overflow: \"hidden\" };\n  const header = { padding: \"12px 16px\", borderBottom: \"1px solid #eee\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", fontWeight: 600 };\n  const body = { padding: 16, maxHeight: \"70vh\", overflowY: \"auto\" };\n  const footerBox = { padding: 16, borderTop: \"1px solid #eee\", display: \"flex\", justifyContent: \"flex-end\", gap: 8 };\n  const closeBtn = { border: \"1px solid #e5e7eb\", background: \"#fff\", borderRadius: 8, padding: \"6px 10px\", cursor: \"pointer\" };\n\n  return (\n    <div style={overlay} onClick={onClose}>\n      <div style={card} onClick={(e) => e.stopPropagation()}>\n        <div style={header}>\n          <span>{title}</span>\n          <button style={closeBtn} onClick={onClose}>âœ•</button>\n        </div>\n        <div style={body}>{children}</div>\n        {footer && <div style={footerBox}>{footer}</div>}\n      </div>\n    </div>\n  );\n}\n\n// Rotation button component\nfunction RotationSelector({ value, onChange }) {\n  const rotations = [0, 90, 180, 270];\n  return (\n    <div style={{ display: \"flex\", gap: 4 }}>\n      {rotations.map((r) => (\n        <button\n          key={r}\n          type=\"button\"\n          onClick={() => onChange(r)}\n          style={{\n            padding: \"4px 8px\",\n            borderRadius: 4,\n            border: value === r ? \"2px solid #4f46e5\" : \"1px solid #e5e7eb\",\n            background: value === r ? \"#eef2ff\" : \"#fff\",\n            cursor: \"pointer\",\n            fontSize: 12,\n            fontWeight: value === r ? 600 : 400,\n          }}\n        >\n          {r}Â°\n        </button>\n      ))}\n    </div>\n  );\n}\n\n// Rotation badge for display\nfunction RotationBadge({ rotation }) {\n  const colors = {\n    0: { bg: \"#f3f4f6\", text: \"#374151\" },\n    90: { bg: \"#dbeafe\", text: \"#1e40af\" },\n    180: { bg: \"#fef3c7\", text: \"#92400e\" },\n    270: { bg: \"#fce7f3\", text: \"#9d174d\" },\n  };\n  const c = colors[rotation] || colors[0];\n  \n  return (\n    <span style={{\n      display: \"inline-flex\",\n      alignItems: \"center\",\n      gap: 4,\n      padding: \"4px 10px\",\n      borderRadius: 6,\n      fontSize: 12,\n      fontWeight: 600,\n      background: c.bg,\n      color: c.text,\n    }}>\n      <span style={{ transform: `rotate(${rotation}deg)`, display: \"inline-block\" }}>â†»</span>\n      {rotation}Â°\n    </span>\n  );\n}\n\n// Fit mode selector\nfunction FitModeSelector({ value, onChange }) {\n  const modes = [\n    { value: \"cover\", label: \"Cover (fill screen)\", desc: \"Video fills screen, may crop edges\" },\n    { value: \"contain\", label: \"Contain (show all)\", desc: \"Shows full video, may have black bars\" },\n    { value: \"fill\", label: \"Fill (stretch)\", desc: \"Stretches to fill, may distort\" },\n    { value: \"none\", label: \"Original size\", desc: \"No scaling applied\" },\n  ];\n  \n  return (\n    <div style={{ display: \"grid\", gap: 8 }}>\n      {modes.map((m) => (\n        <label\n          key={m.value}\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 8,\n            padding: 8,\n            borderRadius: 8,\n            border: value === m.value ? \"2px solid #4f46e5\" : \"1px solid #e5e7eb\",\n            background: value === m.value ? \"#eef2ff\" : \"#fff\",\n            cursor: \"pointer\",\n          }}\n        >\n          <input\n            type=\"radio\"\n            name=\"fitMode\"\n            value={m.value}\n            checked={value === m.value}\n            onChange={() => onChange(m.value)}\n          />\n          <div>\n            <div style={{ fontWeight: 500 }}>{m.label}</div>\n            <div style={{ fontSize: 11, color: \"#6b7280\" }}>{m.desc}</div>\n          </div>\n        </label>\n      ))}\n    </div>\n  );\n}\n\n// Content type badge\nfunction ContentTypeBadge({ type }) {\n  const colors = {\n    video: { bg: \"#dbeafe\", text: \"#1e40af\" },\n    image: { bg: \"#dcfce7\", text: \"#166534\" },\n    html: { bg: \"#fef3c7\", text: \"#92400e\" },\n    pdf: { bg: \"#fee2e2\", text: \"#991b1b\" },\n  };\n  const c = colors[type] || colors.video;\n  \n  return (\n    <span style={{\n      display: \"inline-block\",\n      padding: \"2px 6px\",\n      borderRadius: 4,\n      fontSize: 11,\n      fontWeight: 600,\n      background: c.bg,\n      color: c.text,\n      textTransform: \"uppercase\",\n    }}>\n      {type}\n    </span>\n  );\n}\n\n// Video Preview Modal\nfunction VideoPreviewModal({ open, onClose, video }) {\n  const videoRef = useRef(null);\n  const [presignedUrl, setPresignedUrl] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!open || !video?.s3_link) {\n      setPresignedUrl(null);\n      return;\n    }\n    \n    // Get presigned URL for the video\n    const fetchPresignedUrl = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        // Try to get presigned URL from the downloads endpoint\n        const res = await dvsgApi.get(`/video/${encodeURIComponent(video.video_name)}/presign`);\n        setPresignedUrl(res.data?.url || res.data?.presigned_url);\n      } catch (e) {\n        // If no presign endpoint, try using the s3_link directly if it's an HTTP URL\n        if (video.s3_link?.startsWith('http')) {\n          setPresignedUrl(video.s3_link);\n        } else {\n          setError(\"Could not load video preview\");\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    \n    fetchPresignedUrl();\n  }, [open, video]);\n\n  useEffect(() => {\n    if (!open && videoRef.current) {\n      videoRef.current.pause();\n    }\n  }, [open]);\n\n  const rotation = video?.rotation || 0;\n  \n  return (\n    <Modal\n      open={open}\n      title={`ðŸŽ¬ Preview: ${video?.video_name || \"Video\"}`}\n      onClose={onClose}\n      width=\"900px\"\n      footer={\n        <button \n          style={{ padding: \"8px 16px\", borderRadius: 8, border: \"1px solid #e5e7eb\", background: \"#fff\", cursor: \"pointer\" }}\n          onClick={onClose}\n        >\n          Close\n        </button>\n      }\n    >\n      <div style={{ display: \"flex\", flexDirection: \"column\", gap: 16 }}>\n        {/* Video Info */}\n        <div style={{ display: \"flex\", gap: 16, flexWrap: \"wrap\", padding: 12, background: \"#f8fafc\", borderRadius: 8 }}>\n          <div>\n            <div style={{ fontSize: 11, color: \"#6b7280\", marginBottom: 2 }}>Type</div>\n            <ContentTypeBadge type={video?.content_type || \"video\"} />\n          </div>\n          <div>\n            <div style={{ fontSize: 11, color: \"#6b7280\", marginBottom: 2 }}>Rotation</div>\n            <RotationBadge rotation={rotation} />\n          </div>\n          <div>\n            <div style={{ fontSize: 11, color: \"#6b7280\", marginBottom: 2 }}>Fit Mode</div>\n            <span style={{ fontSize: 13, fontWeight: 500 }}>{video?.fit_mode || \"cover\"}</span>\n          </div>\n          {video?.display_duration && (\n            <div>\n              <div style={{ fontSize: 11, color: \"#6b7280\", marginBottom: 2 }}>Duration</div>\n              <span style={{ fontSize: 13, fontWeight: 500 }}>{video.display_duration}s</span>\n            </div>\n          )}\n        </div>\n\n        {/* Video Player */}\n        <div style={{ \n          background: \"#000\", \n          borderRadius: 8, \n          overflow: \"hidden\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          minHeight: 400,\n        }}>\n          {loading ? (\n            <div style={{ color: \"#fff\", padding: 40 }}>Loading video...</div>\n          ) : error ? (\n            <div style={{ color: \"#ef4444\", padding: 40 }}>{error}</div>\n          ) : presignedUrl ? (\n            <video\n              ref={videoRef}\n              src={presignedUrl}\n              controls\n              autoPlay\n              style={{\n                maxWidth: \"100%\",\n                maxHeight: 500,\n                transform: `rotate(${rotation}deg)`,\n                transition: \"transform 0.3s\",\n              }}\n            />\n          ) : (\n            <div style={{ color: \"#6b7280\", padding: 40 }}>\n              <div style={{ fontSize: 48, marginBottom: 16 }}>ðŸŽ¬</div>\n              <div>Video preview not available</div>\n              <div style={{ fontSize: 12, marginTop: 8 }}>S3 Link: {video?.s3_link || \"Not set\"}</div>\n            </div>\n          )}\n        </div>\n\n        {/* Rotation Preview Note */}\n        {rotation !== 0 && (\n          <div style={{ \n            padding: 10, \n            background: \"#fef3c7\", \n            borderRadius: 8, \n            fontSize: 13, \n            color: \"#92400e\",\n            display: \"flex\",\n            alignItems: \"center\",\n            gap: 8,\n          }}>\n            <span>âš ï¸</span>\n            <span>This video is set to rotate {rotation}Â° on the Android player</span>\n          </div>\n        )}\n      </div>\n    </Modal>\n  );\n}\n\nexport default function Video() {\n  const [items, setItems] = useState([]);\n  const [q, setQ] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  // Edit modal\n  const [edit, setEdit] = useState(null);\n\n  // Preview modal\n  const [preview, setPreview] = useState(null);\n\n  // Upload state\n  const [uploadName, setUploadName] = useState(\"\");\n  const [uploadFile, setUploadFile] = useState(null);\n  const [overwrite, setOverwrite] = useState(true);\n  const [uploadRotation, setUploadRotation] = useState(0);\n  const [uploadFitMode, setUploadFitMode] = useState(\"cover\");\n  const [uploadDuration, setUploadDuration] = useState(10);\n  const [pct, setPct] = useState(0);\n  const [uploading, setUploading] = useState(false);\n  const [uploadedInfo, setUploadedInfo] = useState(null);\n  const fileInputRef = useRef(null);\n\n  useEffect(() => {\n    load();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const load = async () => {\n    setLoading(true);\n    try {\n      const res = await videoApi.get(\"/videos\", { params: { q, limit: 50, offset: 0 } });\n      const data = res.data;\n      // Handle both array and {items: [...]} response formats\n      const videoItems = Array.isArray(data) ? data : data.items || data.data || [];\n      setItems(videoItems);\n    } catch (e) {\n      console.error(\"Failed to load videos:\", e);\n      setItems([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filtered = useMemo(() => {\n    if (!q.trim()) return items;\n    const search = q.toLowerCase();\n    return items.filter((it) => \n      (it.video_name || \"\").toLowerCase().includes(search) ||\n      (it.content_type || \"\").toLowerCase().includes(search)\n    );\n  }, [items, q]);\n\n  const openEdit = (it) => {\n    setEdit({\n      ...it,\n      newName: it.video_name,\n      newLink: it.s3_link,\n      newRotation: it.rotation || 0,\n      newFitMode: it.fit_mode || \"cover\",\n      newDuration: it.display_duration || 10,\n    });\n  };\n\n  const saveEdit = async () => {\n    if (!edit) return;\n    \n    const patch = {};\n    if (edit.newName && edit.newName !== edit.video_name) patch.video_name = edit.newName.trim();\n    if (edit.newLink && edit.newLink !== edit.s3_link) patch.s3_link = edit.newLink.trim();\n    if (edit.newRotation !== edit.rotation) patch.rotation = edit.newRotation;\n    if (edit.newFitMode !== edit.fit_mode) patch.fit_mode = edit.newFitMode;\n    if (edit.newDuration !== edit.display_duration) patch.display_duration = edit.newDuration;\n    \n    if (!Object.keys(patch).length) {\n      setEdit(null);\n      return;\n    }\n    \n    try {\n      await videoApi.put(`/video/${encodeURIComponent(edit.video_name)}`, patch);\n      setEdit(null);\n      load();\n    } catch (e) {\n      alert(e?.response?.data?.detail || \"Update failed\");\n    }\n  };\n\n  const remove = async (name) => {\n    if (!window.confirm(`Delete \"${name}\"?`)) return;\n    try {\n      await videoApi.delete(`/video/${encodeURIComponent(name)}`);\n      load();\n    } catch (e) {\n      alert(e?.response?.data?.detail || \"Delete failed\");\n    }\n  };\n\n  // Update rotation via DVSG API (port 8005)\n  const setRotation = async (videoName, rotation) => {\n    try {\n      await dvsgApi.post(`/video/${encodeURIComponent(videoName)}/rotation`, { rotation });\n      // Also update locally\n      setItems(prev => prev.map(it => \n        it.video_name === videoName ? { ...it, rotation } : it\n      ));\n    } catch (e) {\n      console.error(\"Failed to set rotation via DVSG:\", e);\n      // Fallback to video API\n      try {\n        await videoApi.put(`/video/${encodeURIComponent(videoName)}`, { rotation });\n        load();\n      } catch (e2) {\n        alert(e2?.response?.data?.detail || \"Failed to set rotation\");\n      }\n    }\n  };\n\n  // Update fit_mode via DVSG API (port 8005)\n  const setFitMode = async (videoName, fitMode) => {\n    try {\n      await dvsgApi.post(`/video/${encodeURIComponent(videoName)}/fit_mode`, { fit_mode: fitMode });\n      // Also update locally\n      setItems(prev => prev.map(it => \n        it.video_name === videoName ? { ...it, fit_mode: fitMode } : it\n      ));\n    } catch (e) {\n      console.error(\"Failed to set fit_mode via DVSG:\", e);\n      // Fallback to video API\n      try {\n        await videoApi.put(`/video/${encodeURIComponent(videoName)}`, { fit_mode: fitMode });\n        load();\n      } catch (e2) {\n        alert(e2?.response?.data?.detail || \"Failed to set fit mode\");\n      }\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!uploadFile) {\n      alert(\"Please select a file\");\n      return;\n    }\n    \n    const name = uploadName.trim() || uploadFile.name.replace(/\\.[^/.]+$/, \"\");\n    \n    setUploading(true);\n    setPct(0);\n    setUploadedInfo(null);\n    \n    try {\n      const formData = new FormData();\n      formData.append(\"file\", uploadFile);\n      formData.append(\"video_name\", name);\n      formData.append(\"overwrite\", overwrite ? \"true\" : \"false\");\n      formData.append(\"rotation\", uploadRotation.toString());\n      formData.append(\"fit_mode\", uploadFitMode);\n      formData.append(\"display_duration\", uploadDuration.toString());\n      \n      // Upload to video service\n      const res = await videoApi.post(\"/upload_video\", formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n        timeout: 300000,\n        onUploadProgress: (progressEvent) => {\n          if (progressEvent.total) {\n            const percent = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n            setPct(percent);\n          }\n        },\n      });\n      \n      // After upload, update rotation/fit_mode in DVSG service (port 8005)\n      try {\n        if (uploadRotation !== 0) {\n          await dvsgApi.post(`/video/${encodeURIComponent(name)}/rotation`, { rotation: uploadRotation });\n        }\n        if (uploadFitMode !== \"cover\") {\n          await dvsgApi.post(`/video/${encodeURIComponent(name)}/fit_mode`, { fit_mode: uploadFitMode });\n        }\n      } catch (dvsgErr) {\n        console.warn(\"Could not update rotation/fit_mode in DVSG:\", dvsgErr);\n      }\n      \n      setUploadedInfo({ ...res.data, rotation: uploadRotation, fit_mode: uploadFitMode });\n      setUploadName(\"\");\n      setUploadFile(null);\n      setUploadRotation(0);\n      setUploadFitMode(\"cover\");\n      if (fileInputRef.current) fileInputRef.current.value = \"\";\n      load();\n    } catch (e) {\n      alert(e?.response?.data?.detail || \"Upload failed\");\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  // Styles\n  const input = { border: \"1px solid #e5e7eb\", borderRadius: 8, padding: \"8px 10px\", fontSize: 14 };\n  const btn = { padding: \"8px 12px\", borderRadius: 8, border: \"1px solid #e5e7eb\", background: \"#fff\", cursor: \"pointer\", fontSize: 14, fontWeight: 600 };\n  const btnPrimary = { ...btn, background: \"#4f46e5\", color: \"#fff\", borderColor: \"#4f46e5\" };\n  const btnSuccess = { ...btn, background: \"#10b981\", color: \"#fff\", borderColor: \"#10b981\" };\n  const btnDanger = { ...btn, background: \"#dc2626\", color: \"#fff\", borderColor: \"#dc2626\" };\n  const barWrap = { height: 8, background: \"#e5e7eb\", borderRadius: 4, overflow: \"hidden\" };\n  const bar = { height: \"100%\", background: \"#4f46e5\", width: `${pct}%`, transition: \"width 0.2s\" };\n\n  return (\n    <div>\n      <h2 style={{ fontSize: 28, margin: \"0 0 12px\" }}>Content Library</h2>\n      \n      {/* Upload Section */}\n      <div style={{ background: \"#f8fafc\", borderRadius: 12, padding: 16, marginBottom: 20, border: \"1px solid #e5e7eb\" }}>\n        <h3 style={{ margin: \"0 0 12px\", fontSize: 16 }}>Upload Content</h3>\n        <div style={{ fontSize: 12, color: \"#6b7280\", marginBottom: 12 }}>\n          Supports: Video (MP4, WebM, MOV), Images (JPG, PNG, GIF, WebP), HTML, PDF\n        </div>\n        \n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 12 }}>\n          <div>\n            <div style={{ fontSize: 12, color: \"#6b7280\", marginBottom: 4 }}>Content Name</div>\n            <input\n              style={{ ...input, width: \"100%\" }}\n              placeholder=\"e.g. promo_video_summer\"\n              value={uploadName}\n              onChange={(e) => setUploadName(e.target.value)}\n            />\n          </div>\n          <div>\n            <div style={{ fontSize: 12, color: \"#6b7280\", marginBottom: 4 }}>File</div>\n            <input\n              ref={fileInputRef}\n              type=\"file\"\n              accept=\"video/*,image/*,.html,.htm,.pdf\"\n              onChange={(e) => setUploadFile(e.target.files?.[0] || null)}\n            />\n          </div>\n        </div>\n\n        <div style={{ display: \"grid\", gridTemplateColumns: \"1fr 1fr 1fr\", gap: 12, marginTop: 12 }}>\n          <div>\n            <div style={{ fontSize: 12, color: \"#6b7280\", marginBottom: 4 }}>Rotation</div>\n            <RotationSelector value={uploadRotation} onChange={setUploadRotation} />\n          </div>\n          <div>\n            <div style={{ fontSize: 12, color: \"#6b7280\", marginBottom: 4 }}>Fit Mode</div>\n            <select\n              style={{ ...input, width: \"100%\" }}\n              value={uploadFitMode}\n              onChange={(e) => setUploadFitMode(e.target.value)}\n            >\n              <option value=\"cover\">Cover (fill screen)</option>\n              <option value=\"contain\">Contain (show all)</option>\n              <option value=\"fill\">Fill (stretch)</option>\n              <option value=\"none\">Original size</option>\n            </select>\n          </div>\n          <div>\n            <div style={{ fontSize: 12, color: \"#6b7280\", marginBottom: 4 }}>Duration (for images)</div>\n            <input\n              style={{ ...input, width: \"100%\" }}\n              type=\"number\"\n              min=\"1\"\n              max=\"300\"\n              value={uploadDuration}\n              onChange={(e) => setUploadDuration(parseInt(e.target.value) || 10)}\n            />\n          </div>\n        </div>\n\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: 16, marginTop: 12 }}>\n          <label style={{ display: \"flex\", alignItems: \"center\", gap: 6, fontSize: 14 }}>\n            <input type=\"checkbox\" checked={overwrite} onChange={(e) => setOverwrite(e.target.checked)} />\n            Overwrite if exists\n          </label>\n          <button style={btnPrimary} disabled={uploading} onClick={handleUpload}>\n            {uploading ? \"Uploading...\" : \"Upload\"}\n          </button>\n        </div>\n\n        {uploading && (\n          <div style={{ marginTop: 10 }}>\n            <div style={barWrap}><div style={bar} /></div>\n            <div style={{ fontSize: 12, color: \"#6b7280\", marginTop: 4 }}>{pct}%</div>\n          </div>\n        )}\n\n        {uploadedInfo && (\n          <div style={{ marginTop: 10, padding: 10, background: \"#ecfdf5\", borderRadius: 8, border: \"1px solid #a7f3d0\" }}>\n            <div style={{ fontWeight: 600, color: \"#065f46\", marginBottom: 4 }}>âœ“ Upload successful</div>\n            <div style={{ fontSize: 13, display: \"flex\", alignItems: \"center\", gap: 8 }}>\n              <ContentTypeBadge type={uploadedInfo.content_type || \"video\"} />\n              <span>{uploadedInfo.video_name}</span>\n              {uploadedInfo.rotation !== 0 && <RotationBadge rotation={uploadedInfo.rotation} />}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Search */}\n      <div style={{ display: \"flex\", gap: 8, marginBottom: 10 }}>\n        <input \n          style={{ ...input, minWidth: 220 }} \n          placeholder=\"Search content...\" \n          value={q} \n          onChange={(e) => setQ(e.target.value)} \n        />\n        <button style={btn} onClick={load} disabled={loading}>\n          {loading ? \"Loading...\" : \"Search\"}\n        </button>\n      </div>\n\n      {/* Content List */}\n      <div style={{ border: \"1px solid #eee\", borderRadius: 12, overflow: \"hidden\" }}>\n        <table style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\n          <thead>\n            <tr style={{ background: \"#f8fafc\" }}>\n              <th style={{ textAlign: \"left\", padding: 12, borderBottom: \"1px solid #eee\" }}>Name</th>\n              <th style={{ textAlign: \"left\", padding: 12, borderBottom: \"1px solid #eee\", width: 80 }}>Type</th>\n              <th style={{ textAlign: \"center\", padding: 12, borderBottom: \"1px solid #eee\", width: 120 }}>Rotation</th>\n              <th style={{ textAlign: \"center\", padding: 12, borderBottom: \"1px solid #eee\", width: 100 }}>Fit Mode</th>\n              <th style={{ textAlign: \"right\", padding: 12, borderBottom: \"1px solid #eee\", width: 200 }}>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {filtered.length === 0 && (\n              <tr>\n                <td colSpan={5} style={{ padding: 20, textAlign: \"center\", color: \"#6b7280\" }}>\n                  No content found\n                </td>\n              </tr>\n            )}\n            {filtered.map((it) => (\n              <tr key={it.id} style={{ borderBottom: \"1px solid #f1f5f9\" }}>\n                <td style={{ padding: 12 }}>\n                  <div style={{ fontWeight: 600 }}>{it.video_name}</div>\n                  <div style={{ fontSize: 11, color: \"#6b7280\", marginTop: 2 }}>ID: {it.id}</div>\n                </td>\n                <td style={{ padding: 12 }}>\n                  <ContentTypeBadge type={it.content_type || \"video\"} />\n                </td>\n                <td style={{ padding: 12, textAlign: \"center\" }}>\n                  <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", gap: 4 }}>\n                    <RotationBadge rotation={it.rotation || 0} />\n                    <select\n                      style={{ ...input, padding: \"4px 8px\", fontSize: 11, width: 70 }}\n                      value={it.rotation || 0}\n                      onChange={(e) => setRotation(it.video_name, parseInt(e.target.value))}\n                    >\n                      <option value={0}>0Â°</option>\n                      <option value={90}>90Â°</option>\n                      <option value={180}>180Â°</option>\n                      <option value={270}>270Â°</option>\n                    </select>\n                  </div>\n                </td>\n                <td style={{ padding: 12, textAlign: \"center\" }}>\n                  <select\n                    style={{ ...input, padding: \"4px 8px\", fontSize: 12 }}\n                    value={it.fit_mode || \"cover\"}\n                    onChange={(e) => setFitMode(it.video_name, e.target.value)}\n                  >\n                    <option value=\"cover\">Cover</option>\n                    <option value=\"contain\">Contain</option>\n                    <option value=\"fill\">Fill</option>\n                    <option value=\"none\">None</option>\n                  </select>\n                </td>\n                <td style={{ padding: 12, textAlign: \"right\" }}>\n                  <div style={{ display: \"flex\", gap: 4, justifyContent: \"flex-end\" }}>\n                    <button \n                      style={{ ...btnSuccess, padding: \"4px 8px\" }} \n                      onClick={() => setPreview(it)}\n                      title=\"Preview video\"\n                    >\n                      â–¶ï¸ Play\n                    </button>\n                    <button style={{ ...btn, padding: \"4px 8px\" }} onClick={() => openEdit(it)}>\n                      Edit\n                    </button>\n                    <button style={{ ...btnDanger, padding: \"4px 8px\" }} onClick={() => remove(it.video_name)}>\n                      Delete\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Video Preview Modal */}\n      <VideoPreviewModal\n        open={!!preview}\n        onClose={() => setPreview(null)}\n        video={preview}\n      />\n\n      {/* Edit Modal */}\n      <Modal\n        open={!!edit}\n        title=\"Edit Content\"\n        onClose={() => setEdit(null)}\n        footer={\n          <>\n            <button style={btn} onClick={() => setEdit(null)}>Cancel</button>\n            <button style={btnPrimary} onClick={saveEdit}>Save Changes</button>\n          </>\n        }\n      >\n        {edit && (\n          <div style={{ display: \"grid\", gap: 16 }}>\n            <div>\n              <label style={{ fontSize: 12, color: \"#6b7280\", display: \"block\", marginBottom: 4 }}>Content Name</label>\n              <input\n                style={{ ...input, width: \"100%\" }}\n                value={edit.newName}\n                onChange={(e) => setEdit((x) => ({ ...x, newName: e.target.value }))}\n              />\n            </div>\n            \n            <div>\n              <label style={{ fontSize: 12, color: \"#6b7280\", display: \"block\", marginBottom: 4 }}>S3 Link</label>\n              <input\n                style={{ ...input, width: \"100%\" }}\n                value={edit.newLink}\n                onChange={(e) => setEdit((x) => ({ ...x, newLink: e.target.value }))}\n              />\n            </div>\n            \n            <div>\n              <label style={{ fontSize: 12, color: \"#6b7280\", display: \"block\", marginBottom: 4 }}>Rotation</label>\n              <RotationSelector \n                value={edit.newRotation} \n                onChange={(r) => setEdit((x) => ({ ...x, newRotation: r }))} \n              />\n            </div>\n            \n            <div>\n              <label style={{ fontSize: 12, color: \"#6b7280\", display: \"block\", marginBottom: 4 }}>Fit Mode</label>\n              <FitModeSelector\n                value={edit.newFitMode}\n                onChange={(m) => setEdit((x) => ({ ...x, newFitMode: m }))}\n              />\n            </div>\n            \n            {edit.content_type !== \"video\" && (\n              <div>\n                <label style={{ fontSize: 12, color: \"#6b7280\", display: \"block\", marginBottom: 4 }}>\n                  Display Duration (seconds)\n                </label>\n                <input\n                  type=\"number\"\n                  style={{ ...input, width: 100 }}\n                  min=\"1\"\n                  max=\"300\"\n                  value={edit.newDuration}\n                  onChange={(e) => setEdit((x) => ({ ...x, newDuration: parseInt(e.target.value) || 10 }))}\n                />\n              </div>\n            )}\n          </div>\n        )}\n      </Modal>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}