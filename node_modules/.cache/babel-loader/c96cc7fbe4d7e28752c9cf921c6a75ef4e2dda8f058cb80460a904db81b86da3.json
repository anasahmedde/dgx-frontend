{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/loadboard/react-video/src/components/RecentLinks.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// src/components/RecentLinks.js - Enhanced with Play Video button\nimport React, { useEffect, useMemo, useState, useRef } from \"react\";\nimport { listLinks, deleteLink, createLink, getDeviceOnlineStatus } from \"../api/link\";\nimport { listVideoNames } from \"../api/video\";\nimport axios from \"axios\";\n\n// DVSG API for presigned URLs\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DVSG_BASE = process.env.REACT_APP_API_BASE_URL || `${window.location.protocol}//${window.location.hostname}:8005`;\nconst dvsgApi = axios.create({\n  baseURL: DVSG_BASE,\n  timeout: 30000,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n/* ======================== Styles ======================== */\nconst styles = {\n  card: {\n    background: \"#fff\",\n    borderRadius: 16,\n    overflow: \"hidden\"\n  },\n  header: {\n    padding: \"20px 24px\",\n    borderBottom: \"1px solid #f1f5f9\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    flexWrap: \"wrap\",\n    gap: 16\n  },\n  title: {\n    margin: 0,\n    fontSize: 20,\n    fontWeight: 700,\n    color: \"#1e293b\",\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 10\n  },\n  badge: {\n    background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n    color: \"#fff\",\n    padding: \"4px 10px\",\n    borderRadius: 20,\n    fontSize: 12,\n    fontWeight: 600\n  },\n  btn: {\n    padding: \"10px 18px\",\n    borderRadius: 10,\n    border: \"none\",\n    background: \"#f1f5f9\",\n    color: \"#475569\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    fontWeight: 600,\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 6,\n    transition: \"all 0.2s\"\n  },\n  btnPrimary: {\n    padding: \"10px 18px\",\n    borderRadius: 10,\n    border: \"none\",\n    background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n    color: \"#fff\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    fontWeight: 600,\n    boxShadow: \"0 2px 8px rgba(102, 126, 234, 0.3)\",\n    transition: \"all 0.2s\"\n  },\n  btnSuccess: {\n    padding: \"8px 14px\",\n    borderRadius: 8,\n    border: \"none\",\n    background: \"#10b981\",\n    color: \"#fff\",\n    cursor: \"pointer\",\n    fontSize: 13,\n    fontWeight: 600,\n    transition: \"all 0.2s\"\n  },\n  btnDanger: {\n    padding: \"8px 14px\",\n    borderRadius: 8,\n    border: \"none\",\n    background: \"#fee2e2\",\n    color: \"#dc2626\",\n    cursor: \"pointer\",\n    fontSize: 13,\n    fontWeight: 600,\n    transition: \"all 0.2s\"\n  },\n  input: {\n    padding: \"12px 16px\",\n    borderRadius: 10,\n    border: \"2px solid #e5e7eb\",\n    fontSize: 14,\n    outline: \"none\",\n    width: \"100%\",\n    transition: \"border-color 0.2s, box-shadow 0.2s\"\n  },\n  table: {\n    width: \"100%\",\n    borderCollapse: \"separate\",\n    borderSpacing: 0\n  },\n  th: {\n    textAlign: \"left\",\n    padding: \"14px 16px\",\n    background: \"#f8fafc\",\n    color: \"#64748b\",\n    fontSize: 12,\n    fontWeight: 700,\n    textTransform: \"uppercase\",\n    letterSpacing: \"0.5px\",\n    borderBottom: \"2px solid #e5e7eb\"\n  },\n  td: {\n    padding: \"16px\",\n    borderBottom: \"1px solid #f1f5f9\",\n    verticalAlign: \"top\"\n  }\n};\n\n/* ======================== Video Player Modal ======================== */\nfunction VideoPlayerModal({\n  open,\n  onClose,\n  videos,\n  deviceId,\n  rotation\n}) {\n  _s();\n  const videoRef = useRef(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [presignedUrls, setPresignedUrls] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!open || !(videos !== null && videos !== void 0 && videos.length)) {\n      setPresignedUrls({});\n      setCurrentIndex(0);\n      return;\n    }\n\n    // Fetch presigned URLs for all videos\n    const fetchUrls = async () => {\n      setLoading(true);\n      setError(null);\n      const urls = {};\n      for (const videoName of videos) {\n        try {\n          var _res$data, _res$data2;\n          // Try DVSG presign endpoint\n          const res = await dvsgApi.get(`/video/${encodeURIComponent(videoName)}/presign`);\n          urls[videoName] = ((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.url) || ((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.presigned_url);\n        } catch (e) {\n          console.error(`Failed to get presigned URL for ${videoName}:`, e);\n          // Try to get S3 link from video info\n          try {\n            var _infoRes$data, _infoRes$data$s3_link;\n            const infoRes = await dvsgApi.get(`/video/${encodeURIComponent(videoName)}`);\n            if ((_infoRes$data = infoRes.data) !== null && _infoRes$data !== void 0 && (_infoRes$data$s3_link = _infoRes$data.s3_link) !== null && _infoRes$data$s3_link !== void 0 && _infoRes$data$s3_link.startsWith('http')) {\n              urls[videoName] = infoRes.data.s3_link;\n            }\n          } catch (e2) {\n            console.error(`Also failed to get video info for ${videoName}:`, e2);\n          }\n        }\n      }\n      setPresignedUrls(urls);\n      setLoading(false);\n    };\n    fetchUrls();\n  }, [open, videos]);\n  useEffect(() => {\n    if (!open && videoRef.current) {\n      videoRef.current.pause();\n    }\n  }, [open]);\n  const currentVideo = videos === null || videos === void 0 ? void 0 : videos[currentIndex];\n  const currentUrl = presignedUrls[currentVideo];\n  const videoRotation = rotation || 0;\n  const nextVideo = () => {\n    if ((videos === null || videos === void 0 ? void 0 : videos.length) > 1) {\n      setCurrentIndex(prev => (prev + 1) % videos.length);\n    }\n  };\n  const prevVideo = () => {\n    if ((videos === null || videos === void 0 ? void 0 : videos.length) > 1) {\n      setCurrentIndex(prev => (prev - 1 + videos.length) % videos.length);\n    }\n  };\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClose,\n    style: {\n      position: \"fixed\",\n      inset: 0,\n      background: \"rgba(0,0,0,.75)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      zIndex: 3000,\n      padding: 20\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: e => e.stopPropagation(),\n      style: {\n        width: \"min(95vw, 900px)\",\n        background: \"#000\",\n        borderRadius: 16,\n        overflow: \"hidden\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"12px 16px\",\n          background: \"#1f2937\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#fff\",\n            fontWeight: 600\n          },\n          children: [\"\\uD83C\\uDFAC Playing on Device: \", deviceId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: {\n            width: 32,\n            height: 32,\n            borderRadius: 8,\n            border: \"none\",\n            background: \"rgba(255,255,255,0.1)\",\n            color: \"#fff\",\n            cursor: \"pointer\",\n            fontSize: 16\n          },\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"8px 16px\",\n          background: \"#374151\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#e5e7eb\",\n            fontSize: 14\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: \"#9ca3af\"\n            },\n            children: [\"Video \", currentIndex + 1, \" of \", (videos === null || videos === void 0 ? void 0 : videos.length) || 0, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: currentVideo || \"None\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 11\n        }, this), videoRotation !== 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            padding: \"4px 10px\",\n            background: \"#4f46e5\",\n            borderRadius: 6,\n            color: \"#fff\",\n            fontSize: 12,\n            fontWeight: 600\n          },\n          children: [\"Rotation: \", videoRotation, \"\\xB0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: \"#000\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          minHeight: 400,\n          position: \"relative\"\n        },\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#fff\",\n            padding: 40\n          },\n          children: \"Loading video...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#ef4444\",\n            padding: 40\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 13\n        }, this) : currentUrl ? /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          src: currentUrl,\n          controls: true,\n          autoPlay: true,\n          style: {\n            maxWidth: \"100%\",\n            maxHeight: 500,\n            transform: `rotate(${videoRotation}deg)`,\n            transition: \"transform 0.3s\"\n          },\n          onEnded: nextVideo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#6b7280\",\n            padding: 40,\n            textAlign: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 48,\n              marginBottom: 16\n            },\n            children: \"\\uD83C\\uDFAC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Video not available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              marginTop: 8\n            },\n            children: \"The video may not have a presigned URL or the S3 link is not set.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), (videos === null || videos === void 0 ? void 0 : videos.length) > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"12px 16px\",\n          background: \"#1f2937\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: prevVideo,\n          style: {\n            padding: \"8px 16px\",\n            borderRadius: 8,\n            border: \"none\",\n            background: \"#4f46e5\",\n            color: \"#fff\",\n            cursor: \"pointer\",\n            fontWeight: 600\n          },\n          children: \"\\u25C0 Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 6\n          },\n          children: videos.map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setCurrentIndex(i),\n            style: {\n              width: 10,\n              height: 10,\n              borderRadius: \"50%\",\n              background: i === currentIndex ? \"#4f46e5\" : \"#4b5563\",\n              cursor: \"pointer\"\n            }\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: nextVideo,\n          style: {\n            padding: \"8px 16px\",\n            borderRadius: 8,\n            border: \"none\",\n            background: \"#4f46e5\",\n            color: \"#fff\",\n            cursor: \"pointer\",\n            fontWeight: 600\n          },\n          children: \"Next \\u25B6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n}\n\n/* ======================== Status Indicator ======================== */\n_s(VideoPlayerModal, \"shKwqmOMJUj5DuJx+qQBPUHX9hw=\");\n_c = VideoPlayerModal;\nfunction StatusDot({\n  isOnline\n}) {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      display: \"inline-flex\",\n      alignItems: \"center\",\n      gap: 6,\n      padding: \"4px 10px\",\n      borderRadius: 20,\n      background: isOnline === undefined ? \"#f1f5f9\" : isOnline ? \"#ecfdf5\" : \"#fef2f2\",\n      color: isOnline === undefined ? \"#64748b\" : isOnline ? \"#059669\" : \"#dc2626\",\n      fontSize: 12,\n      fontWeight: 600\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        width: 8,\n        height: 8,\n        borderRadius: \"50%\",\n        background: isOnline === undefined ? \"#9ca3af\" : isOnline ? \"#10b981\" : \"#ef4444\",\n        boxShadow: isOnline ? \"0 0 8px rgba(16, 185, 129, 0.5)\" : \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 7\n    }, this), isOnline === undefined ? \"Unknown\" : isOnline ? \"Online\" : \"Offline\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 383,\n    columnNumber: 5\n  }, this);\n}\n\n/* ======================== Metrics Card ======================== */\n_c2 = StatusDot;\nfunction MetricsCard({\n  temperature,\n  daily,\n  monthly\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      gap: 8,\n      flexWrap: \"wrap\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        padding: \"4px 10px\",\n        borderRadius: 8,\n        background: \"#fef3c7\",\n        color: \"#92400e\",\n        fontSize: 12,\n        fontWeight: 600\n      },\n      children: [\"\\uD83C\\uDF21\\uFE0F \", temperature !== null && temperature !== void 0 ? temperature : 0, \"\\xB0C\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        padding: \"4px 10px\",\n        borderRadius: 8,\n        background: \"#dbeafe\",\n        color: \"#1e40af\",\n        fontSize: 12,\n        fontWeight: 600\n      },\n      children: [\"\\uD83D\\uDCC5 Daily: \", daily !== null && daily !== void 0 ? daily : 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        padding: \"4px 10px\",\n        borderRadius: 8,\n        background: \"#f3e8ff\",\n        color: \"#7c3aed\",\n        fontSize: 12,\n        fontWeight: 600\n      },\n      children: [\"\\uD83D\\uDCC6 Monthly: \", monthly !== null && monthly !== void 0 ? monthly : 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 444,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 413,\n    columnNumber: 5\n  }, this);\n}\n\n/* ======================== Video Tags ======================== */\n_c3 = MetricsCard;\nfunction VideoTags({\n  videos\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      gap: 6\n    },\n    children: videos.map(v => /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        padding: \"5px 10px\",\n        borderRadius: 6,\n        background: \"#f1f5f9\",\n        color: \"#475569\",\n        fontSize: 12,\n        fontWeight: 500\n      },\n      children: [\"\\uD83C\\uDFAC \", v]\n    }, v, true, {\n      fileName: _jsxFileName,\n      lineNumber: 465,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 463,\n    columnNumber: 5\n  }, this);\n}\n\n/* ======================== Group Rows Helper ======================== */\n_c4 = VideoTags;\nfunction groupRows(items) {\n  const map = new Map();\n  for (const it of items || []) {\n    const key = `${it.mobile_id}||${it.gname}||${it.shop_name}`;\n    if (!map.has(key)) {\n      map.set(key, {\n        key,\n        mobile_id: it.mobile_id,\n        gname: it.gname,\n        shop_name: it.shop_name,\n        temperature: it.temperature,\n        daily_count: it.daily_count,\n        monthly_count: it.monthly_count,\n        rotation: it.rotation || 0,\n        originals: []\n      });\n    }\n    map.get(key).originals.push({\n      id: it.id,\n      video_name: it.video_name,\n      rotation: it.rotation || 0\n    });\n  }\n  return Array.from(map.values()).map(row => {\n    var _row$originals$;\n    const videos = row.originals.map(x => x.video_name);\n    const idByVideo = Object.fromEntries(row.originals.map(x => [x.video_name, x.id]));\n    // Use first video's rotation as the main rotation\n    const rotation = ((_row$originals$ = row.originals[0]) === null || _row$originals$ === void 0 ? void 0 : _row$originals$.rotation) || 0;\n    return {\n      ...row,\n      videos,\n      idByVideo,\n      rotation\n    };\n  });\n}\n\n/* ======================== Online Status Helper ======================== */\nfunction extractOnlineFlag(res) {\n  var _res$data3;\n  const payload = (_res$data3 = res === null || res === void 0 ? void 0 : res.data) !== null && _res$data3 !== void 0 ? _res$data3 : res;\n  const candidates = [res === null || res === void 0 ? void 0 : res.online, res === null || res === void 0 ? void 0 : res.is_online, payload === null || payload === void 0 ? void 0 : payload.online, payload === null || payload === void 0 ? void 0 : payload.is_online, payload === null || payload === void 0 ? void 0 : payload.isOnline, payload === null || payload === void 0 ? void 0 : payload.status, payload];\n  for (const v of candidates) {\n    if (typeof v === \"boolean\") return v;\n    if (typeof v === \"number\") return v === 1;\n    if (typeof v === \"string\") {\n      const s = v.trim().toLowerCase();\n      if (s === \"true\" || s === \"1\" || s === \"online\") return true;\n      if (s === \"false\" || s === \"0\" || s === \"offline\") return false;\n    }\n  }\n  return false;\n}\n\n/* ======================== Edit Modal ======================== */\nfunction EditVideosModal({\n  open,\n  onClose,\n  row,\n  onSaved\n}) {\n  _s2();\n  const [allVideoNames, setAllVideoNames] = useState([]);\n  const [typed, setTyped] = useState(\"\");\n  const [list, setList] = useState((row === null || row === void 0 ? void 0 : row.videos) || []);\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n  useEffect(() => {\n    if (!open) return;\n    setTyped(\"\");\n    setList((row === null || row === void 0 ? void 0 : row.videos) || []);\n    setMsg(\"\");\n    (async () => {\n      try {\n        const names = await listVideoNames();\n        setAllVideoNames(Array.isArray(names) ? names : []);\n      } catch {\n        setAllVideoNames([]);\n      }\n    })();\n  }, [open, row]);\n  const add = () => {\n    const v = (typed || \"\").trim();\n    if (!v) return;\n    if (!allVideoNames.includes(v)) {\n      setMsg(`\"${v}\" is not in the video list.`);\n      return;\n    }\n    if (!list.includes(v)) setList([...list, v]);\n    setTyped(\"\");\n    setMsg(\"\");\n  };\n  const remove = v => setList(list.filter(x => x !== v));\n  const save = async () => {\n    if (!row || busy) return;\n    setBusy(true);\n    setMsg(\"\");\n    try {\n      const before = new Set(row.videos || []);\n      const after = new Set(list || []);\n      const toDelete = [...before].filter(v => !after.has(v));\n      const toAdd = [...after].filter(v => !before.has(v));\n      await Promise.all(toDelete.map(v => {\n        var _row$idByVideo;\n        const id = (_row$idByVideo = row.idByVideo) === null || _row$idByVideo === void 0 ? void 0 : _row$idByVideo[v];\n        if (!id) return Promise.resolve();\n        return deleteLink(id);\n      }));\n      await Promise.all(toAdd.map(v => createLink({\n        mobile_id: row.mobile_id,\n        gname: row.gname,\n        shop_name: row.shop_name,\n        video_name: v\n      })));\n      onSaved === null || onSaved === void 0 ? void 0 : onSaved();\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n    } catch (e) {\n      var _e$response, _e$response$data;\n      setMsg((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : (_e$response$data = _e$response.data) === null || _e$response$data === void 0 ? void 0 : _e$response$data.detail) || e.message || \"Failed to save.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClose,\n    style: {\n      position: \"fixed\",\n      inset: 0,\n      background: \"rgba(15, 23, 42, 0.6)\",\n      backdropFilter: \"blur(4px)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      zIndex: 2000,\n      padding: 20\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: e => e.stopPropagation(),\n      style: {\n        width: \"min(95vw, 600px)\",\n        maxHeight: \"90vh\",\n        background: \"#fff\",\n        borderRadius: 20,\n        boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"16px 20px\",\n          background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 0,\n            color: \"#fff\",\n            fontSize: 18,\n            fontWeight: 600\n          },\n          children: \"\\u270F\\uFE0F Edit Videos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 656,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: {\n            width: 32,\n            height: 32,\n            borderRadius: 10,\n            border: \"none\",\n            background: \"rgba(255,255,255,0.2)\",\n            color: \"#fff\",\n            cursor: \"pointer\",\n            fontSize: 18\n          },\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 659,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 20,\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: 14\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#475569\",\n            fontSize: 14\n          },\n          children: [\"Device: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: row === null || row === void 0 ? void 0 : row.mobile_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 21\n          }, this), \" \\u2014 Group: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: row === null || row === void 0 ? void 0 : row.gname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 54\n          }, this), \" \\u2014 Shop: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: row === null || row === void 0 ? void 0 : row.shop_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 679,\n            columnNumber: 82\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 678,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flexWrap: \"wrap\",\n            gap: 8\n          },\n          children: [(list || []).map(v => /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              display: \"inline-flex\",\n              alignItems: \"center\",\n              gap: 8,\n              padding: \"6px 10px\",\n              borderRadius: 10,\n              background: \"#f1f5f9\",\n              color: \"#0f172a\",\n              fontSize: 13,\n              fontWeight: 600\n            },\n            children: [\"\\uD83C\\uDFAC \", v, /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => remove(v),\n              style: {\n                width: 22,\n                height: 22,\n                borderRadius: 8,\n                border: \"none\",\n                background: \"#fee2e2\",\n                color: \"#dc2626\",\n                cursor: \"pointer\",\n                fontSize: 12,\n                fontWeight: 800\n              },\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 700,\n              columnNumber: 17\n            }, this)]\n          }, v, true, {\n            fileName: _jsxFileName,\n            lineNumber: 685,\n            columnNumber: 15\n          }, this)), (!list || list.length === 0) && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: \"#94a3b8\",\n              fontSize: 13\n            },\n            children: \"No videos selected.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 719,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 683,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 10,\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            style: styles.input,\n            placeholder: \"Type video name...\",\n            value: typed,\n            onChange: e => setTyped(e.target.value),\n            list: \"videoNames\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 725,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n            id: \"videoNames\",\n            children: allVideoNames.map(v => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: v\n            }, v, false, {\n              fileName: _jsxFileName,\n              lineNumber: 734,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: add,\n            disabled: !typed,\n            style: styles.btn,\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 737,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 724,\n          columnNumber: 11\n        }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 12,\n            borderRadius: 8,\n            background: \"#fef2f2\",\n            color: \"#dc2626\",\n            fontSize: 13\n          },\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 743,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 12,\n            justifyContent: \"flex-end\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            style: styles.btn,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 758,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: save,\n            disabled: busy,\n            style: styles.btnPrimary,\n            children: busy ? \"Saving...\" : \"Save Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 761,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 757,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 619,\n    columnNumber: 5\n  }, this);\n}\n\n/* ======================== Main Component ======================== */\n_s2(EditVideosModal, \"lsyEnyPQt3xc6lyBHE5AGw9EHxQ=\");\n_c5 = EditVideosModal;\nexport default function RecentLinks({\n  refreshKey\n}) {\n  _s3();\n  const [rowsRaw, setRowsRaw] = useState([]);\n  const [onlineStatus, setOnlineStatus] = useState({});\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n  const [loadedAt, setLoadedAt] = useState(null);\n  const [editing, setEditing] = useState(null);\n  const [playingRow, setPlayingRow] = useState(null);\n\n  // Filters\n  const [fDevice, setFDevice] = useState(\"\");\n  const [fGroup, setFGroup] = useState(\"\");\n  const [fShop, setFShop] = useState(\"\");\n  const [fVideo, setFVideo] = useState(\"\");\n  const load = async () => {\n    setBusy(true);\n    setMsg(\"\");\n    try {\n      var _res$data4;\n      const res = await listLinks({\n        limit: 1000,\n        offset: 0\n      });\n      const items = (res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.items) || (res === null || res === void 0 ? void 0 : res.items) || [];\n      setRowsRaw(items);\n      setLoadedAt(new Date());\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n      setMsg((e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.detail) || e.message || \"Failed to load.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n  useEffect(() => {\n    load();\n  }, [refreshKey]);\n\n  // Auto-refresh every 30 seconds\n  useEffect(() => {\n    const id = setInterval(load, 30000);\n    return () => clearInterval(id);\n  }, []);\n  const rowsGrouped = useMemo(() => groupRows(rowsRaw), [rowsRaw]);\n\n  // Fetch online status\n  useEffect(() => {\n    const devices = Array.from(new Set(rowsGrouped.map(r => r.mobile_id)));\n    if (devices.length === 0) return;\n    let cancelled = false;\n    (async () => {\n      try {\n        const results = await Promise.all(devices.map(mobileId => getDeviceOnlineStatus(mobileId).then(res => ({\n          mobileId,\n          is_online: extractOnlineFlag(res)\n        })).catch(() => ({\n          mobileId,\n          is_online: false\n        }))));\n        if (cancelled) return;\n        setOnlineStatus(prev => {\n          const next = {\n            ...prev\n          };\n          results.forEach(({\n            mobileId,\n            is_online\n          }) => {\n            next[mobileId] = is_online;\n          });\n          return next;\n        });\n      } catch {}\n    })();\n    return () => {\n      cancelled = true;\n    };\n  }, [rowsGrouped]);\n  const rowsFiltered = useMemo(() => {\n    const d = (fDevice || \"\").toLowerCase();\n    const g = (fGroup || \"\").toLowerCase();\n    const s = (fShop || \"\").toLowerCase();\n    const v = (fVideo || \"\").toLowerCase();\n    return rowsGrouped.filter(r => !d || r.mobile_id.toLowerCase().includes(d)).filter(r => !g || (r.gname || \"\").toLowerCase().includes(g)).filter(r => !s || r.shop_name.toLowerCase().includes(s)).filter(r => !v || r.videos.join(\", \").toLowerCase().includes(v));\n  }, [rowsGrouped, fDevice, fGroup, fShop, fVideo]);\n  const clearFilters = () => {\n    setFDevice(\"\");\n    setFGroup(\"\");\n    setFShop(\"\");\n    setFVideo(\"\");\n  };\n  const deleteGroup = async row => {\n    if (!row) return;\n    const ok = window.confirm(`Delete all ${row.originals.length} link(s) for:\\n\\nDevice: ${row.mobile_id}\\nGroup: ${row.gname}\\nShop: ${row.shop_name}?`);\n    if (!ok) return;\n    try {\n      setBusy(true);\n      await Promise.all(row.originals.map(x => deleteLink(x.id)));\n      await load();\n    } catch (e) {\n      var _e$response3, _e$response3$data;\n      setMsg((e === null || e === void 0 ? void 0 : (_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.detail) || e.message || \"Delete failed.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.card,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.title,\n          children: [\"\\uD83D\\uDCCB Recent Links\", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: styles.badge,\n            children: rowsFiltered.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 893,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 891,\n          columnNumber: 11\n        }, this), loadedAt && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 12,\n            color: \"#94a3b8\"\n          },\n          children: [\"Last updated: \", loadedAt.toLocaleTimeString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 896,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 890,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: load,\n        disabled: busy,\n        style: styles.btnPrimary,\n        children: busy ? \"â³ Loading...\" : \"ðŸ”„ Reload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 901,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 889,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"16px 24px\",\n        borderBottom: \"1px solid #f1f5f9\",\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(4, 1fr) auto\",\n        gap: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        style: styles.input,\n        placeholder: \"\\uD83D\\uDD0D Device ID...\",\n        value: fDevice,\n        onChange: e => setFDevice(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 916,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: styles.input,\n        placeholder: \"\\uD83D\\uDC65 Group...\",\n        value: fGroup,\n        onChange: e => setFGroup(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 922,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: styles.input,\n        placeholder: \"\\uD83C\\uDFEA Shop...\",\n        value: fShop,\n        onChange: e => setFShop(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 928,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: styles.input,\n        placeholder: \"\\uD83C\\uDFAC Video...\",\n        value: fVideo,\n        onChange: e => setFVideo(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 934,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearFilters,\n        style: styles.btn,\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 940,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 907,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflowX: \"auto\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: styles.table,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: styles.th,\n              children: \"Device\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 950,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: styles.th,\n              children: \"Group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 951,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: styles.th,\n              children: \"Shop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 952,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: styles.th,\n              children: \"Videos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 953,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                ...styles.th,\n                textAlign: \"right\"\n              },\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 954,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 949,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 948,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: rowsFiltered.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: 5,\n              style: {\n                padding: 40,\n                textAlign: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 48,\n                  marginBottom: 16\n                },\n                children: \"\\uD83D\\uDCED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 961,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: \"#64748b\",\n                  fontSize: 16\n                },\n                children: \"No links found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 962,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: \"#94a3b8\",\n                  fontSize: 14,\n                  marginTop: 8\n                },\n                children: \"Create devices and link them to videos\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 963,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 960,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 959,\n            columnNumber: 15\n          }, this) : rowsFiltered.map(r => {\n            var _r$videos, _r$videos2;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                transition: \"background 0.2s\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    gap: 8\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"code\", {\n                    style: {\n                      fontFamily: \"monospace\",\n                      fontWeight: 600,\n                      fontSize: 14,\n                      color: \"#1e293b\"\n                    },\n                    children: r.mobile_id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 973,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(StatusDot, {\n                    isOnline: onlineStatus[r.mobile_id]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 983,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 972,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 971,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    padding: \"6px 12px\",\n                    borderRadius: 8,\n                    background: \"#f0f9ff\",\n                    color: \"#0369a1\",\n                    fontWeight: 600,\n                    fontSize: 13\n                  },\n                  children: r.gname || \"â€”\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 987,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 986,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    padding: \"6px 12px\",\n                    borderRadius: 8,\n                    background: \"#fdf4ff\",\n                    color: \"#a21caf\",\n                    fontWeight: 600,\n                    fontSize: 13\n                  },\n                  children: r.shop_name || \"â€”\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1001,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1000,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    gap: 10\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(VideoTags, {\n                    videos: r.videos\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1016,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(MetricsCard, {\n                    temperature: r.temperature,\n                    daily: r.daily_count,\n                    monthly: r.monthly_count\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1017,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1015,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1014,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  ...styles.td,\n                  textAlign: \"right\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    gap: 8,\n                    justifyContent: \"flex-end\",\n                    flexWrap: \"wrap\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setPlayingRow(r),\n                    disabled: busy || !((_r$videos = r.videos) !== null && _r$videos !== void 0 && _r$videos.length),\n                    style: {\n                      ...styles.btnSuccess,\n                      opacity: (_r$videos2 = r.videos) !== null && _r$videos2 !== void 0 && _r$videos2.length ? 1 : 0.5\n                    },\n                    title: \"Play current videos\",\n                    children: \"\\u25B6\\uFE0F Play\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1026,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setEditing(r),\n                    disabled: busy,\n                    style: styles.btn,\n                    children: \"\\u270F\\uFE0F Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1037,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => deleteGroup(r),\n                    disabled: busy,\n                    style: styles.btnDanger,\n                    children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1040,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1025,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1024,\n                columnNumber: 19\n              }, this)]\n            }, r.key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 970,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 957,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 947,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 946,\n      columnNumber: 7\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: 16,\n        padding: 14,\n        borderRadius: 12,\n        background: \"#fff7ed\",\n        border: \"1px solid #fed7aa\",\n        color: \"#9a3412\",\n        fontSize: 14\n      },\n      children: [\"\\u26A0\\uFE0F \", msg]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1054,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(EditVideosModal, {\n      open: !!editing,\n      row: editing,\n      onClose: () => setEditing(null),\n      onSaved: () => {\n        setEditing(null);\n        load();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1070,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VideoPlayerModal, {\n      open: !!playingRow,\n      onClose: () => setPlayingRow(null),\n      videos: (playingRow === null || playingRow === void 0 ? void 0 : playingRow.videos) || [],\n      deviceId: playingRow === null || playingRow === void 0 ? void 0 : playingRow.mobile_id,\n      rotation: playingRow === null || playingRow === void 0 ? void 0 : playingRow.rotation\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1081,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 887,\n    columnNumber: 5\n  }, this);\n}\n_s3(RecentLinks, \"EkkeNFAaVaBeTum8ydL8PKiNP4E=\");\n_c6 = RecentLinks;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"VideoPlayerModal\");\n$RefreshReg$(_c2, \"StatusDot\");\n$RefreshReg$(_c3, \"MetricsCard\");\n$RefreshReg$(_c4, \"VideoTags\");\n$RefreshReg$(_c5, \"EditVideosModal\");\n$RefreshReg$(_c6, \"RecentLinks\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useRef","listLinks","deleteLink","createLink","getDeviceOnlineStatus","listVideoNames","axios","jsxDEV","_jsxDEV","DVSG_BASE","process","env","REACT_APP_API_BASE_URL","window","location","protocol","hostname","dvsgApi","create","baseURL","timeout","headers","styles","card","background","borderRadius","overflow","header","padding","borderBottom","display","alignItems","justifyContent","flexWrap","gap","title","margin","fontSize","fontWeight","color","badge","btn","border","cursor","transition","btnPrimary","boxShadow","btnSuccess","btnDanger","input","outline","width","table","borderCollapse","borderSpacing","th","textAlign","textTransform","letterSpacing","td","verticalAlign","VideoPlayerModal","open","onClose","videos","deviceId","rotation","_s","videoRef","currentIndex","setCurrentIndex","presignedUrls","setPresignedUrls","loading","setLoading","error","setError","length","fetchUrls","urls","videoName","_res$data","_res$data2","res","get","encodeURIComponent","data","url","presigned_url","e","console","_infoRes$data","_infoRes$data$s3_link","infoRes","s3_link","startsWith","e2","current","pause","currentVideo","currentUrl","videoRotation","nextVideo","prev","prevVideo","onClick","style","position","inset","zIndex","children","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","height","minHeight","ref","src","controls","autoPlay","maxWidth","maxHeight","transform","onEnded","marginBottom","marginTop","map","_","i","_c","StatusDot","isOnline","undefined","_c2","MetricsCard","temperature","daily","monthly","_c3","VideoTags","v","_c4","groupRows","items","Map","it","key","mobile_id","gname","shop_name","has","set","daily_count","monthly_count","originals","push","id","video_name","Array","from","values","row","_row$originals$","x","idByVideo","Object","fromEntries","extractOnlineFlag","_res$data3","payload","candidates","online","is_online","status","s","trim","toLowerCase","EditVideosModal","onSaved","_s2","allVideoNames","setAllVideoNames","typed","setTyped","list","setList","busy","setBusy","msg","setMsg","names","isArray","add","includes","remove","filter","save","before","Set","after","toDelete","toAdd","Promise","all","_row$idByVideo","resolve","_e$response","_e$response$data","response","detail","message","backdropFilter","flexDirection","placeholder","value","onChange","target","disabled","_c5","RecentLinks","refreshKey","_s3","rowsRaw","setRowsRaw","onlineStatus","setOnlineStatus","loadedAt","setLoadedAt","editing","setEditing","playingRow","setPlayingRow","fDevice","setFDevice","fGroup","setFGroup","fShop","setFShop","fVideo","setFVideo","load","_res$data4","limit","offset","Date","_e$response2","_e$response2$data","setInterval","clearInterval","rowsGrouped","devices","r","cancelled","results","mobileId","then","catch","next","forEach","rowsFiltered","d","g","join","clearFilters","deleteGroup","ok","confirm","_e$response3","_e$response3$data","toLocaleTimeString","gridTemplateColumns","overflowX","colSpan","_r$videos","_r$videos2","fontFamily","opacity","_c6","$RefreshReg$"],"sources":["/home/ubuntu/loadboard/react-video/src/components/RecentLinks.js"],"sourcesContent":["// src/components/RecentLinks.js - Enhanced with Play Video button\nimport React, { useEffect, useMemo, useState, useRef } from \"react\";\nimport { listLinks, deleteLink, createLink, getDeviceOnlineStatus } from \"../api/link\";\nimport { listVideoNames } from \"../api/video\";\nimport axios from \"axios\";\n\n// DVSG API for presigned URLs\nconst DVSG_BASE = process.env.REACT_APP_API_BASE_URL || \n  `${window.location.protocol}//${window.location.hostname}:8005`;\n\nconst dvsgApi = axios.create({\n  baseURL: DVSG_BASE,\n  timeout: 30000,\n  headers: { \"Content-Type\": \"application/json\" },\n});\n\n/* ======================== Styles ======================== */\nconst styles = {\n  card: {\n    background: \"#fff\",\n    borderRadius: 16,\n    overflow: \"hidden\",\n  },\n  header: {\n    padding: \"20px 24px\",\n    borderBottom: \"1px solid #f1f5f9\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    flexWrap: \"wrap\",\n    gap: 16,\n  },\n  title: {\n    margin: 0,\n    fontSize: 20,\n    fontWeight: 700,\n    color: \"#1e293b\",\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 10,\n  },\n  badge: {\n    background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n    color: \"#fff\",\n    padding: \"4px 10px\",\n    borderRadius: 20,\n    fontSize: 12,\n    fontWeight: 600,\n  },\n  btn: {\n    padding: \"10px 18px\",\n    borderRadius: 10,\n    border: \"none\",\n    background: \"#f1f5f9\",\n    color: \"#475569\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    fontWeight: 600,\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 6,\n    transition: \"all 0.2s\",\n  },\n  btnPrimary: {\n    padding: \"10px 18px\",\n    borderRadius: 10,\n    border: \"none\",\n    background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n    color: \"#fff\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    fontWeight: 600,\n    boxShadow: \"0 2px 8px rgba(102, 126, 234, 0.3)\",\n    transition: \"all 0.2s\",\n  },\n  btnSuccess: {\n    padding: \"8px 14px\",\n    borderRadius: 8,\n    border: \"none\",\n    background: \"#10b981\",\n    color: \"#fff\",\n    cursor: \"pointer\",\n    fontSize: 13,\n    fontWeight: 600,\n    transition: \"all 0.2s\",\n  },\n  btnDanger: {\n    padding: \"8px 14px\",\n    borderRadius: 8,\n    border: \"none\",\n    background: \"#fee2e2\",\n    color: \"#dc2626\",\n    cursor: \"pointer\",\n    fontSize: 13,\n    fontWeight: 600,\n    transition: \"all 0.2s\",\n  },\n  input: {\n    padding: \"12px 16px\",\n    borderRadius: 10,\n    border: \"2px solid #e5e7eb\",\n    fontSize: 14,\n    outline: \"none\",\n    width: \"100%\",\n    transition: \"border-color 0.2s, box-shadow 0.2s\",\n  },\n  table: {\n    width: \"100%\",\n    borderCollapse: \"separate\",\n    borderSpacing: 0,\n  },\n  th: {\n    textAlign: \"left\",\n    padding: \"14px 16px\",\n    background: \"#f8fafc\",\n    color: \"#64748b\",\n    fontSize: 12,\n    fontWeight: 700,\n    textTransform: \"uppercase\",\n    letterSpacing: \"0.5px\",\n    borderBottom: \"2px solid #e5e7eb\",\n  },\n  td: {\n    padding: \"16px\",\n    borderBottom: \"1px solid #f1f5f9\",\n    verticalAlign: \"top\",\n  },\n};\n\n/* ======================== Video Player Modal ======================== */\nfunction VideoPlayerModal({ open, onClose, videos, deviceId, rotation }) {\n  const videoRef = useRef(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [presignedUrls, setPresignedUrls] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!open || !videos?.length) {\n      setPresignedUrls({});\n      setCurrentIndex(0);\n      return;\n    }\n    \n    // Fetch presigned URLs for all videos\n    const fetchUrls = async () => {\n      setLoading(true);\n      setError(null);\n      const urls = {};\n      \n      for (const videoName of videos) {\n        try {\n          // Try DVSG presign endpoint\n          const res = await dvsgApi.get(`/video/${encodeURIComponent(videoName)}/presign`);\n          urls[videoName] = res.data?.url || res.data?.presigned_url;\n        } catch (e) {\n          console.error(`Failed to get presigned URL for ${videoName}:`, e);\n          // Try to get S3 link from video info\n          try {\n            const infoRes = await dvsgApi.get(`/video/${encodeURIComponent(videoName)}`);\n            if (infoRes.data?.s3_link?.startsWith('http')) {\n              urls[videoName] = infoRes.data.s3_link;\n            }\n          } catch (e2) {\n            console.error(`Also failed to get video info for ${videoName}:`, e2);\n          }\n        }\n      }\n      \n      setPresignedUrls(urls);\n      setLoading(false);\n    };\n    \n    fetchUrls();\n  }, [open, videos]);\n\n  useEffect(() => {\n    if (!open && videoRef.current) {\n      videoRef.current.pause();\n    }\n  }, [open]);\n\n  const currentVideo = videos?.[currentIndex];\n  const currentUrl = presignedUrls[currentVideo];\n  const videoRotation = rotation || 0;\n\n  const nextVideo = () => {\n    if (videos?.length > 1) {\n      setCurrentIndex((prev) => (prev + 1) % videos.length);\n    }\n  };\n\n  const prevVideo = () => {\n    if (videos?.length > 1) {\n      setCurrentIndex((prev) => (prev - 1 + videos.length) % videos.length);\n    }\n  };\n\n  if (!open) return null;\n\n  return (\n    <div\n      onClick={onClose}\n      style={{\n        position: \"fixed\",\n        inset: 0,\n        background: \"rgba(0,0,0,.75)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        zIndex: 3000,\n        padding: 20,\n      }}\n    >\n      <div\n        onClick={(e) => e.stopPropagation()}\n        style={{\n          width: \"min(95vw, 900px)\",\n          background: \"#000\",\n          borderRadius: 16,\n          overflow: \"hidden\",\n        }}\n      >\n        {/* Header */}\n        <div style={{ \n          padding: \"12px 16px\", \n          background: \"#1f2937\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n        }}>\n          <div style={{ color: \"#fff\", fontWeight: 600 }}>\n            ðŸŽ¬ Playing on Device: {deviceId}\n          </div>\n          <button\n            onClick={onClose}\n            style={{\n              width: 32,\n              height: 32,\n              borderRadius: 8,\n              border: \"none\",\n              background: \"rgba(255,255,255,0.1)\",\n              color: \"#fff\",\n              cursor: \"pointer\",\n              fontSize: 16,\n            }}\n          >\n            âœ•\n          </button>\n        </div>\n\n        {/* Video info */}\n        <div style={{ \n          padding: \"8px 16px\", \n          background: \"#374151\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          gap: 16,\n        }}>\n          <div style={{ color: \"#e5e7eb\", fontSize: 14 }}>\n            <span style={{ color: \"#9ca3af\" }}>Video {currentIndex + 1} of {videos?.length || 0}:</span>{\" \"}\n            <strong>{currentVideo || \"None\"}</strong>\n          </div>\n          {videoRotation !== 0 && (\n            <span style={{ \n              padding: \"4px 10px\", \n              background: \"#4f46e5\", \n              borderRadius: 6, \n              color: \"#fff\",\n              fontSize: 12,\n              fontWeight: 600,\n            }}>\n              Rotation: {videoRotation}Â°\n            </span>\n          )}\n        </div>\n\n        {/* Video Player */}\n        <div style={{ \n          background: \"#000\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          minHeight: 400,\n          position: \"relative\",\n        }}>\n          {loading ? (\n            <div style={{ color: \"#fff\", padding: 40 }}>Loading video...</div>\n          ) : error ? (\n            <div style={{ color: \"#ef4444\", padding: 40 }}>{error}</div>\n          ) : currentUrl ? (\n            <video\n              ref={videoRef}\n              src={currentUrl}\n              controls\n              autoPlay\n              style={{\n                maxWidth: \"100%\",\n                maxHeight: 500,\n                transform: `rotate(${videoRotation}deg)`,\n                transition: \"transform 0.3s\",\n              }}\n              onEnded={nextVideo}\n            />\n          ) : (\n            <div style={{ color: \"#6b7280\", padding: 40, textAlign: \"center\" }}>\n              <div style={{ fontSize: 48, marginBottom: 16 }}>ðŸŽ¬</div>\n              <div>Video not available</div>\n              <div style={{ fontSize: 12, marginTop: 8 }}>\n                The video may not have a presigned URL or the S3 link is not set.\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Navigation */}\n        {videos?.length > 1 && (\n          <div style={{ \n            padding: \"12px 16px\", \n            background: \"#1f2937\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            gap: 16,\n          }}>\n            <button\n              onClick={prevVideo}\n              style={{\n                padding: \"8px 16px\",\n                borderRadius: 8,\n                border: \"none\",\n                background: \"#4f46e5\",\n                color: \"#fff\",\n                cursor: \"pointer\",\n                fontWeight: 600,\n              }}\n            >\n              â—€ Previous\n            </button>\n            <div style={{ \n              display: \"flex\", \n              gap: 6,\n            }}>\n              {videos.map((_, i) => (\n                <div\n                  key={i}\n                  onClick={() => setCurrentIndex(i)}\n                  style={{\n                    width: 10,\n                    height: 10,\n                    borderRadius: \"50%\",\n                    background: i === currentIndex ? \"#4f46e5\" : \"#4b5563\",\n                    cursor: \"pointer\",\n                  }}\n                />\n              ))}\n            </div>\n            <button\n              onClick={nextVideo}\n              style={{\n                padding: \"8px 16px\",\n                borderRadius: 8,\n                border: \"none\",\n                background: \"#4f46e5\",\n                color: \"#fff\",\n                cursor: \"pointer\",\n                fontWeight: 600,\n              }}\n            >\n              Next â–¶\n            </button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n/* ======================== Status Indicator ======================== */\nfunction StatusDot({ isOnline }) {\n  return (\n    <span\n      style={{\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        gap: 6,\n        padding: \"4px 10px\",\n        borderRadius: 20,\n        background: isOnline === undefined ? \"#f1f5f9\" : isOnline ? \"#ecfdf5\" : \"#fef2f2\",\n        color: isOnline === undefined ? \"#64748b\" : isOnline ? \"#059669\" : \"#dc2626\",\n        fontSize: 12,\n        fontWeight: 600,\n      }}\n    >\n      <span\n        style={{\n          width: 8,\n          height: 8,\n          borderRadius: \"50%\",\n          background: isOnline === undefined ? \"#9ca3af\" : isOnline ? \"#10b981\" : \"#ef4444\",\n          boxShadow: isOnline ? \"0 0 8px rgba(16, 185, 129, 0.5)\" : \"none\",\n        }}\n      />\n      {isOnline === undefined ? \"Unknown\" : isOnline ? \"Online\" : \"Offline\"}\n    </span>\n  );\n}\n\n/* ======================== Metrics Card ======================== */\nfunction MetricsCard({ temperature, daily, monthly }) {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        gap: 8,\n        flexWrap: \"wrap\",\n      }}\n    >\n      <span\n        style={{\n          padding: \"4px 10px\",\n          borderRadius: 8,\n          background: \"#fef3c7\",\n          color: \"#92400e\",\n          fontSize: 12,\n          fontWeight: 600,\n        }}\n      >\n        ðŸŒ¡ï¸ {temperature ?? 0}Â°C\n      </span>\n      <span\n        style={{\n          padding: \"4px 10px\",\n          borderRadius: 8,\n          background: \"#dbeafe\",\n          color: \"#1e40af\",\n          fontSize: 12,\n          fontWeight: 600,\n        }}\n      >\n        ðŸ“… Daily: {daily ?? 0}\n      </span>\n      <span\n        style={{\n          padding: \"4px 10px\",\n          borderRadius: 8,\n          background: \"#f3e8ff\",\n          color: \"#7c3aed\",\n          fontSize: 12,\n          fontWeight: 600,\n        }}\n      >\n        ðŸ“† Monthly: {monthly ?? 0}\n      </span>\n    </div>\n  );\n}\n\n/* ======================== Video Tags ======================== */\nfunction VideoTags({ videos }) {\n  return (\n    <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 6 }}>\n      {videos.map((v) => (\n        <span\n          key={v}\n          style={{\n            padding: \"5px 10px\",\n            borderRadius: 6,\n            background: \"#f1f5f9\",\n            color: \"#475569\",\n            fontSize: 12,\n            fontWeight: 500,\n          }}\n        >\n          ðŸŽ¬ {v}\n        </span>\n      ))}\n    </div>\n  );\n}\n\n/* ======================== Group Rows Helper ======================== */\nfunction groupRows(items) {\n  const map = new Map();\n  for (const it of items || []) {\n    const key = `${it.mobile_id}||${it.gname}||${it.shop_name}`;\n    if (!map.has(key)) {\n      map.set(key, {\n        key,\n        mobile_id: it.mobile_id,\n        gname: it.gname,\n        shop_name: it.shop_name,\n        temperature: it.temperature,\n        daily_count: it.daily_count,\n        monthly_count: it.monthly_count,\n        rotation: it.rotation || 0,\n        originals: [],\n      });\n    }\n    map.get(key).originals.push({ id: it.id, video_name: it.video_name, rotation: it.rotation || 0 });\n  }\n\n  return Array.from(map.values()).map((row) => {\n    const videos = row.originals.map((x) => x.video_name);\n    const idByVideo = Object.fromEntries(row.originals.map((x) => [x.video_name, x.id]));\n    // Use first video's rotation as the main rotation\n    const rotation = row.originals[0]?.rotation || 0;\n    return { ...row, videos, idByVideo, rotation };\n  });\n}\n\n/* ======================== Online Status Helper ======================== */\nfunction extractOnlineFlag(res) {\n  const payload = res?.data ?? res;\n\n  const candidates = [\n    res?.online,\n    res?.is_online,\n    payload?.online,\n    payload?.is_online,\n    payload?.isOnline,\n    payload?.status,\n    payload,\n  ];\n\n  for (const v of candidates) {\n    if (typeof v === \"boolean\") return v;\n    if (typeof v === \"number\") return v === 1;\n    if (typeof v === \"string\") {\n      const s = v.trim().toLowerCase();\n      if (s === \"true\" || s === \"1\" || s === \"online\") return true;\n      if (s === \"false\" || s === \"0\" || s === \"offline\") return false;\n    }\n  }\n\n  return false;\n}\n\n/* ======================== Edit Modal ======================== */\nfunction EditVideosModal({ open, onClose, row, onSaved }) {\n  const [allVideoNames, setAllVideoNames] = useState([]);\n  const [typed, setTyped] = useState(\"\");\n  const [list, setList] = useState(row?.videos || []);\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n\n  useEffect(() => {\n    if (!open) return;\n    setTyped(\"\");\n    setList(row?.videos || []);\n    setMsg(\"\");\n    (async () => {\n      try {\n        const names = await listVideoNames();\n        setAllVideoNames(Array.isArray(names) ? names : []);\n      } catch {\n        setAllVideoNames([]);\n      }\n    })();\n  }, [open, row]);\n\n  const add = () => {\n    const v = (typed || \"\").trim();\n    if (!v) return;\n    if (!allVideoNames.includes(v)) {\n      setMsg(`\"${v}\" is not in the video list.`);\n      return;\n    }\n    if (!list.includes(v)) setList([...list, v]);\n    setTyped(\"\");\n    setMsg(\"\");\n  };\n\n  const remove = (v) => setList(list.filter((x) => x !== v));\n\n  const save = async () => {\n    if (!row || busy) return;\n    setBusy(true);\n    setMsg(\"\");\n\n    try {\n      const before = new Set(row.videos || []);\n      const after = new Set(list || []);\n      const toDelete = [...before].filter((v) => !after.has(v));\n      const toAdd = [...after].filter((v) => !before.has(v));\n\n      await Promise.all(\n        toDelete.map((v) => {\n          const id = row.idByVideo?.[v];\n          if (!id) return Promise.resolve();\n          return deleteLink(id);\n        })\n      );\n\n      await Promise.all(\n        toAdd.map((v) =>\n          createLink({\n            mobile_id: row.mobile_id,\n            gname: row.gname,\n            shop_name: row.shop_name,\n            video_name: v,\n          })\n        )\n      );\n\n      onSaved?.();\n      onClose?.();\n    } catch (e) {\n      setMsg(e?.response?.data?.detail || e.message || \"Failed to save.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  if (!open) return null;\n\n  return (\n    <div\n      onClick={onClose}\n      style={{\n        position: \"fixed\",\n        inset: 0,\n        background: \"rgba(15, 23, 42, 0.6)\",\n        backdropFilter: \"blur(4px)\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        zIndex: 2000,\n        padding: 20,\n      }}\n    >\n      <div\n        onClick={(e) => e.stopPropagation()}\n        style={{\n          width: \"min(95vw, 600px)\",\n          maxHeight: \"90vh\",\n          background: \"#fff\",\n          borderRadius: 20,\n          boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\n          overflow: \"hidden\",\n          display: \"flex\",\n          flexDirection: \"column\",\n        }}\n      >\n        {/* Header */}\n        <div\n          style={{\n            padding: \"16px 20px\",\n            background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <h3 style={{ margin: 0, color: \"#fff\", fontSize: 18, fontWeight: 600 }}>\n            âœï¸ Edit Videos\n          </h3>\n          <button\n            onClick={onClose}\n            style={{\n              width: 32,\n              height: 32,\n              borderRadius: 10,\n              border: \"none\",\n              background: \"rgba(255,255,255,0.2)\",\n              color: \"#fff\",\n              cursor: \"pointer\",\n              fontSize: 18,\n            }}\n          >\n            âœ•\n          </button>\n        </div>\n\n        {/* Body */}\n        <div style={{ padding: 20, display: \"flex\", flexDirection: \"column\", gap: 14 }}>\n          <div style={{ color: \"#475569\", fontSize: 14 }}>\n            Device: <b>{row?.mobile_id}</b> â€” Group: <b>{row?.gname}</b> â€” Shop: <b>{row?.shop_name}</b>\n          </div>\n\n          {/* Current */}\n          <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 8 }}>\n            {(list || []).map((v) => (\n              <span\n                key={v}\n                style={{\n                  display: \"inline-flex\",\n                  alignItems: \"center\",\n                  gap: 8,\n                  padding: \"6px 10px\",\n                  borderRadius: 10,\n                  background: \"#f1f5f9\",\n                  color: \"#0f172a\",\n                  fontSize: 13,\n                  fontWeight: 600,\n                }}\n              >\n                ðŸŽ¬ {v}\n                <button\n                  onClick={() => remove(v)}\n                  style={{\n                    width: 22,\n                    height: 22,\n                    borderRadius: 8,\n                    border: \"none\",\n                    background: \"#fee2e2\",\n                    color: \"#dc2626\",\n                    cursor: \"pointer\",\n                    fontSize: 12,\n                    fontWeight: 800,\n                  }}\n                >\n                  âœ•\n                </button>\n              </span>\n            ))}\n            {(!list || list.length === 0) && (\n              <span style={{ color: \"#94a3b8\", fontSize: 13 }}>No videos selected.</span>\n            )}\n          </div>\n\n          {/* Add */}\n          <div style={{ display: \"flex\", gap: 10, alignItems: \"center\" }}>\n            <input\n              style={styles.input}\n              placeholder=\"Type video name...\"\n              value={typed}\n              onChange={(e) => setTyped(e.target.value)}\n              list=\"videoNames\"\n            />\n            <datalist id=\"videoNames\">\n              {allVideoNames.map((v) => (\n                <option key={v} value={v} />\n              ))}\n            </datalist>\n            <button onClick={add} disabled={!typed} style={styles.btn}>\n              Add\n            </button>\n          </div>\n\n          {msg && (\n            <div\n              style={{\n                padding: 12,\n                borderRadius: 8,\n                background: \"#fef2f2\",\n                color: \"#dc2626\",\n                fontSize: 13,\n              }}\n            >\n              {msg}\n            </div>\n          )}\n\n          {/* Actions */}\n          <div style={{ display: \"flex\", gap: 12, justifyContent: \"flex-end\" }}>\n            <button onClick={onClose} style={styles.btn}>\n              Cancel\n            </button>\n            <button onClick={save} disabled={busy} style={styles.btnPrimary}>\n              {busy ? \"Saving...\" : \"Save Changes\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ======================== Main Component ======================== */\nexport default function RecentLinks({ refreshKey }) {\n  const [rowsRaw, setRowsRaw] = useState([]);\n  const [onlineStatus, setOnlineStatus] = useState({});\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n  const [loadedAt, setLoadedAt] = useState(null);\n  const [editing, setEditing] = useState(null);\n  const [playingRow, setPlayingRow] = useState(null);\n\n  // Filters\n  const [fDevice, setFDevice] = useState(\"\");\n  const [fGroup, setFGroup] = useState(\"\");\n  const [fShop, setFShop] = useState(\"\");\n  const [fVideo, setFVideo] = useState(\"\");\n\n  const load = async () => {\n    setBusy(true);\n    setMsg(\"\");\n    try {\n      const res = await listLinks({ limit: 1000, offset: 0 });\n      const items = res?.data?.items || res?.items || [];\n      setRowsRaw(items);\n      setLoadedAt(new Date());\n    } catch (e) {\n      setMsg(e?.response?.data?.detail || e.message || \"Failed to load.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  useEffect(() => {\n    load();\n  }, [refreshKey]);\n\n  // Auto-refresh every 30 seconds\n  useEffect(() => {\n    const id = setInterval(load, 30000);\n    return () => clearInterval(id);\n  }, []);\n\n  const rowsGrouped = useMemo(() => groupRows(rowsRaw), [rowsRaw]);\n\n  // Fetch online status\n  useEffect(() => {\n    const devices = Array.from(new Set(rowsGrouped.map((r) => r.mobile_id)));\n    if (devices.length === 0) return;\n\n    let cancelled = false;\n\n    (async () => {\n      try {\n        const results = await Promise.all(\n          devices.map((mobileId) =>\n            getDeviceOnlineStatus(mobileId)\n              .then((res) => ({ mobileId, is_online: extractOnlineFlag(res) }))\n              .catch(() => ({ mobileId, is_online: false }))\n          )\n        );\n\n        if (cancelled) return;\n\n        setOnlineStatus((prev) => {\n          const next = { ...prev };\n          results.forEach(({ mobileId, is_online }) => {\n            next[mobileId] = is_online;\n          });\n          return next;\n        });\n      } catch {}\n    })();\n\n    return () => {\n      cancelled = true;\n    };\n  }, [rowsGrouped]);\n\n  const rowsFiltered = useMemo(() => {\n    const d = (fDevice || \"\").toLowerCase();\n    const g = (fGroup || \"\").toLowerCase();\n    const s = (fShop || \"\").toLowerCase();\n    const v = (fVideo || \"\").toLowerCase();\n\n    return rowsGrouped\n      .filter((r) => !d || r.mobile_id.toLowerCase().includes(d))\n      .filter((r) => !g || (r.gname || \"\").toLowerCase().includes(g))\n      .filter((r) => !s || r.shop_name.toLowerCase().includes(s))\n      .filter((r) => !v || r.videos.join(\", \").toLowerCase().includes(v));\n  }, [rowsGrouped, fDevice, fGroup, fShop, fVideo]);\n\n  const clearFilters = () => {\n    setFDevice(\"\");\n    setFGroup(\"\");\n    setFShop(\"\");\n    setFVideo(\"\");\n  };\n\n  const deleteGroup = async (row) => {\n    if (!row) return;\n    const ok = window.confirm(\n      `Delete all ${row.originals.length} link(s) for:\\n\\nDevice: ${row.mobile_id}\\nGroup: ${row.gname}\\nShop: ${row.shop_name}?`\n    );\n    if (!ok) return;\n\n    try {\n      setBusy(true);\n      await Promise.all(row.originals.map((x) => deleteLink(x.id)));\n      await load();\n    } catch (e) {\n      setMsg(e?.response?.data?.detail || e.message || \"Delete failed.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  return (\n    <div style={styles.card}>\n      {/* Header */}\n      <div style={styles.header}>\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: 16 }}>\n          <h2 style={styles.title}>\n            ðŸ“‹ Recent Links\n            <span style={styles.badge}>{rowsFiltered.length}</span>\n          </h2>\n          {loadedAt && (\n            <span style={{ fontSize: 12, color: \"#94a3b8\" }}>\n              Last updated: {loadedAt.toLocaleTimeString()}\n            </span>\n          )}\n        </div>\n        <button onClick={load} disabled={busy} style={styles.btnPrimary}>\n          {busy ? \"â³ Loading...\" : \"ðŸ”„ Reload\"}\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div\n        style={{\n          padding: \"16px 24px\",\n          borderBottom: \"1px solid #f1f5f9\",\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(4, 1fr) auto\",\n          gap: 12,\n        }}\n      >\n        <input\n          style={styles.input}\n          placeholder=\"ðŸ” Device ID...\"\n          value={fDevice}\n          onChange={(e) => setFDevice(e.target.value)}\n        />\n        <input\n          style={styles.input}\n          placeholder=\"ðŸ‘¥ Group...\"\n          value={fGroup}\n          onChange={(e) => setFGroup(e.target.value)}\n        />\n        <input\n          style={styles.input}\n          placeholder=\"ðŸª Shop...\"\n          value={fShop}\n          onChange={(e) => setFShop(e.target.value)}\n        />\n        <input\n          style={styles.input}\n          placeholder=\"ðŸŽ¬ Video...\"\n          value={fVideo}\n          onChange={(e) => setFVideo(e.target.value)}\n        />\n        <button onClick={clearFilters} style={styles.btn}>\n          Clear\n        </button>\n      </div>\n\n      {/* Table */}\n      <div style={{ overflowX: \"auto\" }}>\n        <table style={styles.table}>\n          <thead>\n            <tr>\n              <th style={styles.th}>Device</th>\n              <th style={styles.th}>Group</th>\n              <th style={styles.th}>Shop</th>\n              <th style={styles.th}>Videos</th>\n              <th style={{ ...styles.th, textAlign: \"right\" }}>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {rowsFiltered.length === 0 ? (\n              <tr>\n                <td colSpan={5} style={{ padding: 40, textAlign: \"center\" }}>\n                  <div style={{ fontSize: 48, marginBottom: 16 }}>ðŸ“­</div>\n                  <div style={{ color: \"#64748b\", fontSize: 16 }}>No links found</div>\n                  <div style={{ color: \"#94a3b8\", fontSize: 14, marginTop: 8 }}>\n                    Create devices and link them to videos\n                  </div>\n                </td>\n              </tr>\n            ) : (\n              rowsFiltered.map((r) => (\n                <tr key={r.key} style={{ transition: \"background 0.2s\" }}>\n                  <td style={styles.td}>\n                    <div style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}>\n                      <code\n                        style={{\n                          fontFamily: \"monospace\",\n                          fontWeight: 600,\n                          fontSize: 14,\n                          color: \"#1e293b\",\n                        }}\n                      >\n                        {r.mobile_id}\n                      </code>\n                      <StatusDot isOnline={onlineStatus[r.mobile_id]} />\n                    </div>\n                  </td>\n                  <td style={styles.td}>\n                    <span\n                      style={{\n                        padding: \"6px 12px\",\n                        borderRadius: 8,\n                        background: \"#f0f9ff\",\n                        color: \"#0369a1\",\n                        fontWeight: 600,\n                        fontSize: 13,\n                      }}\n                    >\n                      {r.gname || \"â€”\"}\n                    </span>\n                  </td>\n                  <td style={styles.td}>\n                    <span\n                      style={{\n                        padding: \"6px 12px\",\n                        borderRadius: 8,\n                        background: \"#fdf4ff\",\n                        color: \"#a21caf\",\n                        fontWeight: 600,\n                        fontSize: 13,\n                      }}\n                    >\n                      {r.shop_name || \"â€”\"}\n                    </span>\n                  </td>\n                  <td style={styles.td}>\n                    <div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}>\n                      <VideoTags videos={r.videos} />\n                      <MetricsCard\n                        temperature={r.temperature}\n                        daily={r.daily_count}\n                        monthly={r.monthly_count}\n                      />\n                    </div>\n                  </td>\n                  <td style={{ ...styles.td, textAlign: \"right\" }}>\n                    <div style={{ display: \"flex\", gap: 8, justifyContent: \"flex-end\", flexWrap: \"wrap\" }}>\n                      <button \n                        onClick={() => setPlayingRow(r)} \n                        disabled={busy || !r.videos?.length}\n                        style={{\n                          ...styles.btnSuccess,\n                          opacity: r.videos?.length ? 1 : 0.5,\n                        }}\n                        title=\"Play current videos\"\n                      >\n                        â–¶ï¸ Play\n                      </button>\n                      <button onClick={() => setEditing(r)} disabled={busy} style={styles.btn}>\n                        âœï¸ Edit\n                      </button>\n                      <button onClick={() => deleteGroup(r)} disabled={busy} style={styles.btnDanger}>\n                        ðŸ—‘ï¸ Delete\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Error Message */}\n      {msg && (\n        <div\n          style={{\n            margin: 16,\n            padding: 14,\n            borderRadius: 12,\n            background: \"#fff7ed\",\n            border: \"1px solid #fed7aa\",\n            color: \"#9a3412\",\n            fontSize: 14,\n          }}\n        >\n          âš ï¸ {msg}\n        </div>\n      )}\n\n      {/* Edit Modal */}\n      <EditVideosModal\n        open={!!editing}\n        row={editing}\n        onClose={() => setEditing(null)}\n        onSaved={() => {\n          setEditing(null);\n          load();\n        }}\n      />\n\n      {/* Video Player Modal */}\n      <VideoPlayerModal\n        open={!!playingRow}\n        onClose={() => setPlayingRow(null)}\n        videos={playingRow?.videos || []}\n        deviceId={playingRow?.mobile_id}\n        rotation={playingRow?.rotation}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}