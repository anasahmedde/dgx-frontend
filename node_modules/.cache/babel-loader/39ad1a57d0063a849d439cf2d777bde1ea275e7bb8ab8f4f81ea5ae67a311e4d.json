{"ast":null,"code":"// src/api/group.js\nimport httpFactory from \"./httpFactory\";\nconst BASE = process.env.REACT_APP_GROUP_API || \"http://34.248.112.237:8001\";\nconst http = httpFactory(BASE);\n\n/** Create */\nexport const insertGroup = gname => http.post(\"/insert_group\", {\n  gname\n});\n\n/** Read one */\nexport const getGroup = gname => http.get(`/group/${encodeURIComponent(gname)}`);\n\n/** List (supports { q, limit, offset }) */\nexport const listGroups = (params = {}) => http.get(\"/groups\", {\n  params\n});\n\n/** Update */\nexport const updateGroup = (gname, patch) => http.put(`/group/${encodeURIComponent(gname)}`, patch);\n\n/** Delete */\nexport const deleteGroup = gname => http.delete(`/group/${encodeURIComponent(gname)}`);\n\n/* ---------------- Optional helpers for Autocomplete ---------------- */\n\nexport const listGroupsSafe = async (params = {}) => {\n  const caps = [200, 100, 50];\n  for (const cap of caps) {\n    try {\n      return await listGroups({\n        limit: cap,\n        offset: 0,\n        ...params\n      });\n    } catch (e) {\n      var _e$response;\n      if ((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.status) !== 422) throw e;\n    }\n  }\n  return listGroups();\n};\nexport const listGroupNames = async (params = {}) => {\n  var _r$data;\n  const r = await listGroupsSafe(params);\n  return (((_r$data = r.data) === null || _r$data === void 0 ? void 0 : _r$data.items) || []).map(x => x === null || x === void 0 ? void 0 : x.gname).filter(Boolean);\n};","map":{"version":3,"names":["httpFactory","BASE","process","env","REACT_APP_GROUP_API","http","insertGroup","gname","post","getGroup","get","encodeURIComponent","listGroups","params","updateGroup","patch","put","deleteGroup","delete","listGroupsSafe","caps","cap","limit","offset","e","_e$response","response","status","listGroupNames","_r$data","r","data","items","map","x","filter","Boolean"],"sources":["/home/ubuntu/loadboard/react-video/src/api/group.js"],"sourcesContent":["// src/api/group.js\nimport httpFactory from \"./httpFactory\";\n\nconst BASE = process.env.REACT_APP_GROUP_API || \"http://34.248.112.237:8001\";\nconst http = httpFactory(BASE);\n\n/** Create */\nexport const insertGroup = (gname) =>\n  http.post(\"/insert_group\", { gname });\n\n/** Read one */\nexport const getGroup = (gname) =>\n  http.get(`/group/${encodeURIComponent(gname)}`);\n\n/** List (supports { q, limit, offset }) */\nexport const listGroups = (params = {}) =>\n  http.get(\"/groups\", { params });\n\n/** Update */\nexport const updateGroup = (gname, patch) =>\n  http.put(`/group/${encodeURIComponent(gname)}`, patch);\n\n/** Delete */\nexport const deleteGroup = (gname) =>\n  http.delete(`/group/${encodeURIComponent(gname)}`);\n\n/* ---------------- Optional helpers for Autocomplete ---------------- */\n\nexport const listGroupsSafe = async (params = {}) => {\n  const caps = [200, 100, 50];\n  for (const cap of caps) {\n    try {\n      return await listGroups({ limit: cap, offset: 0, ...params });\n    } catch (e) {\n      if (e?.response?.status !== 422) throw e;\n    }\n  }\n  return listGroups();\n};\n\nexport const listGroupNames = async (params = {}) => {\n  const r = await listGroupsSafe(params);\n  return (r.data?.items || []).map((x) => x?.gname).filter(Boolean);\n};\n\n"],"mappings":"AAAA;AACA,OAAOA,WAAW,MAAM,eAAe;AAEvC,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,mBAAmB,IAAI,4BAA4B;AAC5E,MAAMC,IAAI,GAAGL,WAAW,CAACC,IAAI,CAAC;;AAE9B;AACA,OAAO,MAAMK,WAAW,GAAIC,KAAK,IAC/BF,IAAI,CAACG,IAAI,CAAC,eAAe,EAAE;EAAED;AAAM,CAAC,CAAC;;AAEvC;AACA,OAAO,MAAME,QAAQ,GAAIF,KAAK,IAC5BF,IAAI,CAACK,GAAG,CAAC,UAAUC,kBAAkB,CAACJ,KAAK,CAAC,EAAE,CAAC;;AAEjD;AACA,OAAO,MAAMK,UAAU,GAAGA,CAACC,MAAM,GAAG,CAAC,CAAC,KACpCR,IAAI,CAACK,GAAG,CAAC,SAAS,EAAE;EAAEG;AAAO,CAAC,CAAC;;AAEjC;AACA,OAAO,MAAMC,WAAW,GAAGA,CAACP,KAAK,EAAEQ,KAAK,KACtCV,IAAI,CAACW,GAAG,CAAC,UAAUL,kBAAkB,CAACJ,KAAK,CAAC,EAAE,EAAEQ,KAAK,CAAC;;AAExD;AACA,OAAO,MAAME,WAAW,GAAIV,KAAK,IAC/BF,IAAI,CAACa,MAAM,CAAC,UAAUP,kBAAkB,CAACJ,KAAK,CAAC,EAAE,CAAC;;AAEpD;;AAEA,OAAO,MAAMY,cAAc,GAAG,MAAAA,CAAON,MAAM,GAAG,CAAC,CAAC,KAAK;EACnD,MAAMO,IAAI,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC;EAC3B,KAAK,MAAMC,GAAG,IAAID,IAAI,EAAE;IACtB,IAAI;MACF,OAAO,MAAMR,UAAU,CAAC;QAAEU,KAAK,EAAED,GAAG;QAAEE,MAAM,EAAE,CAAC;QAAE,GAAGV;MAAO,CAAC,CAAC;IAC/D,CAAC,CAAC,OAAOW,CAAC,EAAE;MAAA,IAAAC,WAAA;MACV,IAAI,CAAAD,CAAC,aAADA,CAAC,wBAAAC,WAAA,GAADD,CAAC,CAAEE,QAAQ,cAAAD,WAAA,uBAAXA,WAAA,CAAaE,MAAM,MAAK,GAAG,EAAE,MAAMH,CAAC;IAC1C;EACF;EACA,OAAOZ,UAAU,CAAC,CAAC;AACrB,CAAC;AAED,OAAO,MAAMgB,cAAc,GAAG,MAAAA,CAAOf,MAAM,GAAG,CAAC,CAAC,KAAK;EAAA,IAAAgB,OAAA;EACnD,MAAMC,CAAC,GAAG,MAAMX,cAAc,CAACN,MAAM,CAAC;EACtC,OAAO,CAAC,EAAAgB,OAAA,GAAAC,CAAC,CAACC,IAAI,cAAAF,OAAA,uBAANA,OAAA,CAAQG,KAAK,KAAI,EAAE,EAAEC,GAAG,CAAEC,CAAC,IAAKA,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAE3B,KAAK,CAAC,CAAC4B,MAAM,CAACC,OAAO,CAAC;AACnE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}