{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/loadboard/react-video/src/components/RecentLinks.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\n// src/components/RecentLinks.js - Enhanced with Play, Report, Download buttons\nimport React, { useEffect, useMemo, useState, useRef } from \"react\";\nimport { listLinks, deleteLink, createLink, getDeviceOnlineStatus } from \"../api/link\";\nimport { listVideoNames } from \"../api/video\";\nimport axios from \"axios\";\n\n// DVSG API for presigned URLs\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DVSG_BASE = process.env.REACT_APP_API_BASE_URL || `${window.location.protocol}//${window.location.hostname}:8005`;\nconst dvsgApi = axios.create({\n  baseURL: DVSG_BASE,\n  timeout: 30000,\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\n\n/* ======================== Styles ======================== */\nconst styles = {\n  card: {\n    background: \"#fff\",\n    borderRadius: 16,\n    overflow: \"hidden\"\n  },\n  header: {\n    padding: \"20px 24px\",\n    borderBottom: \"1px solid #f1f5f9\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    flexWrap: \"wrap\",\n    gap: 16\n  },\n  title: {\n    margin: 0,\n    fontSize: 20,\n    fontWeight: 700,\n    color: \"#1e293b\",\n    display: \"flex\",\n    alignItems: \"center\",\n    gap: 10\n  },\n  badge: {\n    background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n    color: \"#fff\",\n    padding: \"4px 10px\",\n    borderRadius: 20,\n    fontSize: 12,\n    fontWeight: 600\n  },\n  btn: {\n    padding: \"8px 14px\",\n    borderRadius: 8,\n    border: \"none\",\n    background: \"#f1f5f9\",\n    color: \"#475569\",\n    cursor: \"pointer\",\n    fontSize: 13,\n    fontWeight: 600,\n    display: \"inline-flex\",\n    alignItems: \"center\",\n    gap: 4,\n    transition: \"all 0.2s\"\n  },\n  btnPrimary: {\n    padding: \"10px 18px\",\n    borderRadius: 10,\n    border: \"none\",\n    background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n    color: \"#fff\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    fontWeight: 600,\n    boxShadow: \"0 2px 8px rgba(102, 126, 234, 0.3)\",\n    transition: \"all 0.2s\"\n  },\n  btnSuccess: {\n    padding: \"6px 10px\",\n    borderRadius: 6,\n    border: \"none\",\n    background: \"#10b981\",\n    color: \"#fff\",\n    cursor: \"pointer\",\n    fontSize: 12,\n    fontWeight: 600,\n    transition: \"all 0.2s\"\n  },\n  btnWarning: {\n    padding: \"6px 10px\",\n    borderRadius: 6,\n    border: \"none\",\n    background: \"#f59e0b\",\n    color: \"#fff\",\n    cursor: \"pointer\",\n    fontSize: 12,\n    fontWeight: 600,\n    transition: \"all 0.2s\"\n  },\n  btnInfo: {\n    padding: \"6px 10px\",\n    borderRadius: 6,\n    border: \"none\",\n    background: \"#3b82f6\",\n    color: \"#fff\",\n    cursor: \"pointer\",\n    fontSize: 12,\n    fontWeight: 600,\n    transition: \"all 0.2s\"\n  },\n  btnDanger: {\n    padding: \"6px 10px\",\n    borderRadius: 6,\n    border: \"none\",\n    background: \"#fee2e2\",\n    color: \"#dc2626\",\n    cursor: \"pointer\",\n    fontSize: 12,\n    fontWeight: 600,\n    transition: \"all 0.2s\"\n  },\n  input: {\n    padding: \"12px 16px\",\n    borderRadius: 10,\n    border: \"2px solid #e5e7eb\",\n    fontSize: 14,\n    outline: \"none\",\n    width: \"100%\",\n    transition: \"border-color 0.2s, box-shadow 0.2s\"\n  },\n  table: {\n    width: \"100%\",\n    borderCollapse: \"separate\",\n    borderSpacing: 0\n  },\n  th: {\n    textAlign: \"left\",\n    padding: \"14px 16px\",\n    background: \"#f8fafc\",\n    color: \"#64748b\",\n    fontSize: 12,\n    fontWeight: 700,\n    textTransform: \"uppercase\",\n    letterSpacing: \"0.5px\",\n    borderBottom: \"2px solid #e5e7eb\"\n  },\n  td: {\n    padding: \"16px\",\n    borderBottom: \"1px solid #f1f5f9\",\n    verticalAlign: \"top\"\n  }\n};\n\n/* ======================== Video Player Modal ======================== */\nfunction VideoPlayerModal({\n  open,\n  onClose,\n  deviceId,\n  videos\n}) {\n  _s();\n  const videoRef = useRef(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [videoUrls, setVideoUrls] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!open || !deviceId || !(videos !== null && videos !== void 0 && videos.length)) {\n      setVideoUrls([]);\n      setCurrentIndex(0);\n      setError(null);\n      return;\n    }\n    const fetchUrls = async () => {\n      setLoading(true);\n      setError(null);\n      try {\n        var _res$data, _res$data$items;\n        const res = await dvsgApi.get(`/device/${encodeURIComponent(deviceId)}/videos/downloads`);\n        if (((_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$items = _res$data.items) === null || _res$data$items === void 0 ? void 0 : _res$data$items.length) > 0) {\n          setVideoUrls(res.data.items);\n        } else {\n          setError(\"No downloadable videos found for this device\");\n        }\n      } catch (e) {\n        var _e$response, _e$response2, _e$response2$data;\n        console.error(\"Failed to fetch video URLs:\", e);\n        setError((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.status) === 404 ? \"No videos linked to this device or videos have no S3 links\" : `Failed to load videos: ${(e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.detail) || e.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUrls();\n  }, [open, deviceId, videos]);\n  useEffect(() => {\n    if (!open && videoRef.current) videoRef.current.pause();\n  }, [open]);\n  const currentVideo = videoUrls[currentIndex];\n  const videoRotation = (currentVideo === null || currentVideo === void 0 ? void 0 : currentVideo.rotation) || 0;\n  const nextVideo = () => {\n    if (videoUrls.length > 1) setCurrentIndex(prev => (prev + 1) % videoUrls.length);\n  };\n  const prevVideo = () => {\n    if (videoUrls.length > 1) setCurrentIndex(prev => (prev - 1 + videoUrls.length) % videoUrls.length);\n  };\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClose,\n    style: {\n      position: \"fixed\",\n      inset: 0,\n      background: \"rgba(0,0,0,.75)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      zIndex: 3000,\n      padding: 20\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: e => e.stopPropagation(),\n      style: {\n        width: \"min(95vw, 900px)\",\n        background: \"#000\",\n        borderRadius: 16,\n        overflow: \"hidden\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"12px 16px\",\n          background: \"#1f2937\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#fff\",\n            fontWeight: 600\n          },\n          children: [\"\\uD83C\\uDFAC Playing on Device: \", deviceId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: {\n            width: 32,\n            height: 32,\n            borderRadius: 8,\n            border: \"none\",\n            background: \"rgba(255,255,255,0.1)\",\n            color: \"#fff\",\n            cursor: \"pointer\",\n            fontSize: 16\n          },\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), currentVideo && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"8px 16px\",\n          background: \"#374151\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\",\n          gap: 16,\n          flexWrap: \"wrap\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#e5e7eb\",\n            fontSize: 14\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: \"#9ca3af\"\n            },\n            children: [\"Video \", currentIndex + 1, \" of \", videoUrls.length, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: currentVideo.video_name || currentVideo.filename || \"Unknown\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this), videoRotation !== 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            padding: \"4px 10px\",\n            background: \"#4f46e5\",\n            borderRadius: 6,\n            color: \"#fff\",\n            fontSize: 12,\n            fontWeight: 600\n          },\n          children: [\"Rotation: \", videoRotation, \"\\xB0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 37\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: \"#000\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          minHeight: 400,\n          position: \"relative\"\n        },\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#fff\",\n            padding: 40\n          },\n          children: \"Loading videos...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 22\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#fff\",\n            padding: 40,\n            textAlign: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 48,\n              marginBottom: 16\n            },\n            children: \"\\uD83C\\uDFAC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 86\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: \"#ef4444\",\n              marginBottom: 8\n            },\n            children: \"Video not available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 142\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 12,\n              color: \"#9ca3af\"\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 218\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this) : currentVideo !== null && currentVideo !== void 0 && currentVideo.url ? /*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          src: currentVideo.url,\n          controls: true,\n          autoPlay: true,\n          style: {\n            maxWidth: \"100%\",\n            maxHeight: 500,\n            transform: `rotate(${videoRotation}deg)`,\n            transition: \"transform 0.3s\"\n          },\n          onEnded: nextVideo,\n          onError: () => setError(\"Failed to play video. The URL may have expired.\")\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 33\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#6b7280\",\n            padding: 40,\n            textAlign: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              fontSize: 48,\n              marginBottom: 16\n            },\n            children: \"\\uD83C\\uDFAC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 81\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"No video URL available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 137\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), videoUrls.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"12px 16px\",\n          background: \"#1f2937\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: prevVideo,\n          style: {\n            padding: \"8px 16px\",\n            borderRadius: 8,\n            border: \"none\",\n            background: \"#4f46e5\",\n            color: \"#fff\",\n            cursor: \"pointer\",\n            fontWeight: 600\n          },\n          children: \"\\u25C0 Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 6\n          },\n          children: videoUrls.map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => setCurrentIndex(i),\n            style: {\n              width: 10,\n              height: 10,\n              borderRadius: \"50%\",\n              background: i === currentIndex ? \"#4f46e5\" : \"#4b5563\",\n              cursor: \"pointer\"\n            }\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 80\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: nextVideo,\n          style: {\n            padding: \"8px 16px\",\n            borderRadius: 8,\n            border: \"none\",\n            background: \"#4f46e5\",\n            color: \"#fff\",\n            cursor: \"pointer\",\n            fontWeight: 600\n          },\n          children: \"Next \\u25B6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n\n/* ======================== Report Modal ======================== */\n_s(VideoPlayerModal, \"cSqWSBz2085TS6TylbG4BnqcJZ0=\");\n_c = VideoPlayerModal;\nfunction ReportModal({\n  open,\n  onClose,\n  deviceId\n}) {\n  _s2();\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const [timeRange, setTimeRange] = useState(\"24h\");\n  useEffect(() => {\n    if (!open || !deviceId) {\n      setData(null);\n      setError(null);\n      return;\n    }\n    loadReport(timeRange);\n    // eslint-disable-next-line\n  }, [open, deviceId]);\n  const loadReport = async range => {\n    setLoading(true);\n    setError(null);\n    setTimeRange(range);\n    try {\n      var _res$data2;\n      const now = new Date();\n      let startTime = new Date();\n      switch (range) {\n        case \"1h\":\n          startTime.setHours(now.getHours() - 1);\n          break;\n        case \"6h\":\n          startTime.setHours(now.getHours() - 6);\n          break;\n        case \"24h\":\n          startTime.setDate(now.getDate() - 1);\n          break;\n        case \"7d\":\n          startTime.setDate(now.getDate() - 7);\n          break;\n        case \"30d\":\n          startTime.setDate(now.getDate() - 30);\n          break;\n        default:\n          startTime.setDate(now.getDate() - 1);\n      }\n      const params = {\n        start_date: startTime.toISOString().split('T')[0],\n        end_date: now.toISOString().split('T')[0],\n        limit: 5000\n      };\n      const res = await dvsgApi.get(`/device/${encodeURIComponent(deviceId)}/logs`, {\n        params\n      });\n      setData(((_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : _res$data2.items) || []);\n    } catch (e) {\n      var _e$response3, _e$response3$data;\n      console.error(\"Failed to load report:\", e);\n      setError((e === null || e === void 0 ? void 0 : (_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.detail) || e.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const downloadCSV = () => {\n    let url = `${DVSG_BASE}/device/${encodeURIComponent(deviceId)}/logs/download`;\n    const now = new Date();\n    let startTime = new Date();\n    switch (timeRange) {\n      case \"1h\":\n        startTime.setHours(now.getHours() - 1);\n        break;\n      case \"6h\":\n        startTime.setHours(now.getHours() - 6);\n        break;\n      case \"24h\":\n        startTime.setDate(now.getDate() - 1);\n        break;\n      case \"7d\":\n        startTime.setDate(now.getDate() - 7);\n        break;\n      case \"30d\":\n        startTime.setDate(now.getDate() - 30);\n        break;\n      default:\n        startTime.setDate(now.getDate() - 1);\n    }\n    const params = new URLSearchParams({\n      start_date: startTime.toISOString().split('T')[0],\n      end_date: now.toISOString().split('T')[0]\n    });\n    window.open(`${url}?${params.toString()}`, \"_blank\");\n  };\n\n  // Calculate statistics\n  const stats = useMemo(() => {\n    if (!data || data.length === 0) return null;\n    const temps = data.filter(d => d.log_type === 'temperature' && d.value != null).map(d => parseFloat(d.value));\n    const doors = data.filter(d => d.log_type === 'door_open').length;\n    if (temps.length === 0) return {\n      temps: [],\n      doors,\n      avg: null,\n      min: null,\n      max: null,\n      current: null\n    };\n    return {\n      temps,\n      doors,\n      avg: (temps.reduce((a, b) => a + b, 0) / temps.length).toFixed(1),\n      min: Math.min(...temps).toFixed(1),\n      max: Math.max(...temps).toFixed(1),\n      current: temps[temps.length - 1].toFixed(1)\n    };\n  }, [data]);\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClose,\n    style: {\n      position: \"fixed\",\n      inset: 0,\n      background: \"rgba(0,0,0,.5)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      zIndex: 3000,\n      padding: 20\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: e => e.stopPropagation(),\n      style: {\n        width: \"min(95vw, 700px)\",\n        background: \"#fff\",\n        borderRadius: 16,\n        overflow: \"hidden\",\n        maxHeight: \"90vh\",\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"14px 18px\",\n          background: \"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#fff\",\n            fontWeight: 700,\n            fontSize: 16\n          },\n          children: [\"\\uD83D\\uDCCA Device Report: \", deviceId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: {\n            width: 32,\n            height: 32,\n            borderRadius: 8,\n            border: \"none\",\n            background: \"rgba(255,255,255,0.2)\",\n            color: \"#fff\",\n            cursor: \"pointer\",\n            fontSize: 16\n          },\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 16,\n          overflowY: \"auto\",\n          flex: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 16,\n            display: \"flex\",\n            gap: 8,\n            flexWrap: \"wrap\",\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontSize: 13,\n              fontWeight: 600,\n              marginRight: 8\n            },\n            children: \"Time Range:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), [{\n            v: \"1h\",\n            l: \"1 Hour\"\n          }, {\n            v: \"6h\",\n            l: \"6 Hours\"\n          }, {\n            v: \"24h\",\n            l: \"24 Hours\"\n          }, {\n            v: \"7d\",\n            l: \"7 Days\"\n          }, {\n            v: \"30d\",\n            l: \"30 Days\"\n          }].map(opt => /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => loadReport(opt.v),\n            style: {\n              ...styles.btn,\n              padding: \"6px 12px\",\n              background: timeRange === opt.v ? \"#f59e0b\" : \"#f1f5f9\",\n              color: timeRange === opt.v ? \"#fff\" : \"#475569\"\n            },\n            children: opt.l\n          }, opt.v, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: downloadCSV,\n            style: {\n              ...styles.btnInfo,\n              marginLeft: \"auto\"\n            },\n            children: \"\\uD83D\\uDCE5 Download CSV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 40,\n            textAlign: \"center\",\n            color: \"#6b7280\"\n          },\n          children: \"Loading report data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 22\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 20,\n            background: \"#fef2f2\",\n            borderRadius: 8,\n            color: \"#dc2626\"\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this) : stats ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\",\n              gap: 12,\n              marginBottom: 16,\n              flexWrap: \"wrap\"\n            },\n            children: [stats.current && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: \"10px 16px\",\n                background: \"#dbeafe\",\n                borderRadius: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 11,\n                  color: \"#1e40af\"\n                },\n                children: \"Current\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 113\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 20,\n                  fontWeight: 700,\n                  color: \"#1e40af\"\n                },\n                children: [stats.current, \"\\xB0C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 174\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 35\n            }, this), stats.avg && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: \"10px 16px\",\n                background: \"#dcfce7\",\n                borderRadius: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 11,\n                  color: \"#166534\"\n                },\n                children: \"Average\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 109\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 20,\n                  fontWeight: 700,\n                  color: \"#166534\"\n                },\n                children: [stats.avg, \"\\xB0C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 170\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 31\n            }, this), stats.min && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: \"10px 16px\",\n                background: \"#fef3c7\",\n                borderRadius: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 11,\n                  color: \"#92400e\"\n                },\n                children: \"Min\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 109\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 20,\n                  fontWeight: 700,\n                  color: \"#92400e\"\n                },\n                children: [stats.min, \"\\xB0C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 166\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 31\n            }, this), stats.max && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: \"10px 16px\",\n                background: \"#fee2e2\",\n                borderRadius: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 11,\n                  color: \"#991b1b\"\n                },\n                children: \"Max\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 109\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 20,\n                  fontWeight: 700,\n                  color: \"#991b1b\"\n                },\n                children: [stats.max, \"\\xB0C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 166\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 31\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: \"10px 16px\",\n                background: \"#f3e8ff\",\n                borderRadius: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 11,\n                  color: \"#7c3aed\"\n                },\n                children: \"Door Opens\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 95\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 20,\n                  fontWeight: 700,\n                  color: \"#7c3aed\"\n                },\n                children: stats.doors\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 159\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: \"10px 16px\",\n                background: \"#e0e7ff\",\n                borderRadius: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 11,\n                  color: \"#4338ca\"\n                },\n                children: \"Data Points\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 95\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 20,\n                  fontWeight: 700,\n                  color: \"#4338ca\"\n                },\n                children: (data === null || data === void 0 ? void 0 : data.length) || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 160\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              border: \"1px solid #e5e7eb\",\n              borderRadius: 8,\n              overflow: \"hidden\",\n              maxHeight: 300,\n              overflowY: \"auto\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"table\", {\n              style: {\n                width: \"100%\",\n                borderCollapse: \"collapse\",\n                fontSize: 12\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                style: {\n                  position: \"sticky\",\n                  top: 0,\n                  background: \"#f8fafc\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      padding: 8,\n                      textAlign: \"left\",\n                      borderBottom: \"1px solid #e5e7eb\"\n                    },\n                    children: \"Type\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 229,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      padding: 8,\n                      textAlign: \"center\",\n                      borderBottom: \"1px solid #e5e7eb\"\n                    },\n                    children: \"Value\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      padding: 8,\n                      textAlign: \"right\",\n                      borderBottom: \"1px solid #e5e7eb\"\n                    },\n                    children: \"Time\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 231,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: [(data || []).slice(0, 100).map((log, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  style: {\n                    borderBottom: \"1px solid #f1f5f9\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: 8\n                    },\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        display: \"inline-block\",\n                        padding: \"2px 6px\",\n                        borderRadius: 4,\n                        fontSize: 10,\n                        fontWeight: 600,\n                        background: log.log_type === \"temperature\" ? \"#fef3c7\" : \"#dbeafe\",\n                        color: log.log_type === \"temperature\" ? \"#92400e\" : \"#1e40af\"\n                      },\n                      children: log.log_type\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: 8,\n                      textAlign: \"center\",\n                      fontFamily: \"monospace\"\n                    },\n                    children: log.log_type === \"temperature\" ? `${log.value}Â°C` : log.value\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      padding: 8,\n                      textAlign: \"right\",\n                      color: \"#6b7280\"\n                    },\n                    children: new Date(log.logged_at).toLocaleString()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 241,\n                    columnNumber: 25\n                  }, this)]\n                }, log.id || i, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 23\n                }, this)), (!data || data.length === 0) && /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: /*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: 3,\n                    style: {\n                      padding: 20,\n                      textAlign: \"center\",\n                      color: \"#6b7280\"\n                    },\n                    children: \"No data for selected period\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 244,\n                    columnNumber: 58\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 54\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 40,\n            textAlign: \"center\",\n            color: \"#6b7280\"\n          },\n          children: \"No data available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }, this);\n}\n\n/* ======================== Download Modal ======================== */\n_s2(ReportModal, \"VjrTbmeH3CX6qm2GFt+cxcTrX9w=\");\n_c2 = ReportModal;\nfunction DownloadModal({\n  open,\n  onClose,\n  deviceId\n}) {\n  _s3();\n  const [timeRange, setTimeRange] = useState(\"24h\");\n  const downloadCSV = () => {\n    const now = new Date();\n    let startTime = new Date();\n    switch (timeRange) {\n      case \"1h\":\n        startTime.setHours(now.getHours() - 1);\n        break;\n      case \"6h\":\n        startTime.setHours(now.getHours() - 6);\n        break;\n      case \"24h\":\n        startTime.setDate(now.getDate() - 1);\n        break;\n      case \"7d\":\n        startTime.setDate(now.getDate() - 7);\n        break;\n      case \"30d\":\n        startTime.setDate(now.getDate() - 30);\n        break;\n      case \"all\":\n        startTime = new Date(2020, 0, 1);\n        break;\n      default:\n        startTime.setDate(now.getDate() - 1);\n    }\n    const params = new URLSearchParams({\n      start_date: startTime.toISOString().split('T')[0],\n      end_date: now.toISOString().split('T')[0]\n    });\n    window.open(`${DVSG_BASE}/device/${encodeURIComponent(deviceId)}/logs/download?${params.toString()}`, \"_blank\");\n    onClose();\n  };\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClose,\n    style: {\n      position: \"fixed\",\n      inset: 0,\n      background: \"rgba(0,0,0,.5)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      zIndex: 3000,\n      padding: 20\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: e => e.stopPropagation(),\n      style: {\n        width: \"min(95vw, 400px)\",\n        background: \"#fff\",\n        borderRadius: 16,\n        overflow: \"hidden\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"14px 18px\",\n          background: \"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#fff\",\n            fontWeight: 700,\n            fontSize: 16\n          },\n          children: [\"\\uD83D\\uDCE5 Download Logs: \", deviceId]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: {\n            width: 32,\n            height: 32,\n            borderRadius: 8,\n            border: \"none\",\n            background: \"rgba(255,255,255,0.2)\",\n            color: \"#fff\",\n            cursor: \"pointer\",\n            fontSize: 16\n          },\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: \"block\",\n              marginBottom: 8,\n              fontWeight: 600,\n              fontSize: 14\n            },\n            children: \"Select Time Range:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: timeRange,\n            onChange: e => setTimeRange(e.target.value),\n            style: {\n              ...styles.input,\n              cursor: \"pointer\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"1h\",\n              children: \"Last 1 Hour\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"6h\",\n              children: \"Last 6 Hours\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"24h\",\n              children: \"Last 24 Hours\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"7d\",\n              children: \"Last 7 Days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"30d\",\n              children: \"Last 30 Days\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"All Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 12,\n            justifyContent: \"flex-end\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            style: styles.btn,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: downloadCSV,\n            style: {\n              ...styles.btnInfo,\n              padding: \"10px 20px\"\n            },\n            children: \"\\uD83D\\uDCE5 Download CSV\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 5\n  }, this);\n}\n_s3(DownloadModal, \"31EqsDOrpd0hZXT/r8pXuFGcJb0=\");\n_c3 = DownloadModal;\nfunction StatusDot({\n  isOnline\n}) {\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    style: {\n      display: \"inline-flex\",\n      alignItems: \"center\",\n      gap: 6,\n      padding: \"4px 10px\",\n      borderRadius: 20,\n      background: isOnline === undefined ? \"#f1f5f9\" : isOnline ? \"#ecfdf5\" : \"#fef2f2\",\n      color: isOnline === undefined ? \"#64748b\" : isOnline ? \"#059669\" : \"#dc2626\",\n      fontSize: 12,\n      fontWeight: 600\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        width: 8,\n        height: 8,\n        borderRadius: \"50%\",\n        background: isOnline === undefined ? \"#9ca3af\" : isOnline ? \"#10b981\" : \"#ef4444\",\n        boxShadow: isOnline ? \"0 0 8px rgba(16, 185, 129, 0.5)\" : \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this), isOnline === undefined ? \"Unknown\" : isOnline ? \"Online\" : \"Offline\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n}\n_c4 = StatusDot;\nfunction MetricsCard({\n  temperature,\n  daily,\n  monthly\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      gap: 8,\n      flexWrap: \"wrap\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        padding: \"4px 10px\",\n        borderRadius: 8,\n        background: \"#fef3c7\",\n        color: \"#92400e\",\n        fontSize: 12,\n        fontWeight: 600\n      },\n      children: [\"\\uD83C\\uDF21\\uFE0F \", temperature !== null && temperature !== void 0 ? temperature : 0, \"\\xB0C\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        padding: \"4px 10px\",\n        borderRadius: 8,\n        background: \"#dbeafe\",\n        color: \"#1e40af\",\n        fontSize: 12,\n        fontWeight: 600\n      },\n      children: [\"\\uD83D\\uDCC5 Daily: \", daily !== null && daily !== void 0 ? daily : 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        padding: \"4px 10px\",\n        borderRadius: 8,\n        background: \"#f3e8ff\",\n        color: \"#7c3aed\",\n        fontSize: 12,\n        fontWeight: 600\n      },\n      children: [\"\\uD83D\\uDCC6 Monthly: \", monthly !== null && monthly !== void 0 ? monthly : 0]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 325,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 322,\n    columnNumber: 5\n  }, this);\n}\n_c5 = MetricsCard;\nfunction VideoTags({\n  videos\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\",\n      gap: 6\n    },\n    children: videos.map(v => /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        padding: \"5px 10px\",\n        borderRadius: 6,\n        background: \"#f1f5f9\",\n        color: \"#475569\",\n        fontSize: 12,\n        fontWeight: 500\n      },\n      children: [\"\\uD83C\\uDFAC \", v]\n    }, v, true, {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 27\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 332,\n    columnNumber: 5\n  }, this);\n}\n_c6 = VideoTags;\nfunction groupRows(items) {\n  const map = new Map();\n  for (const it of items || []) {\n    const key = `${it.mobile_id}||${it.gname}||${it.shop_name}`;\n    if (!map.has(key)) {\n      map.set(key, {\n        key,\n        mobile_id: it.mobile_id,\n        gname: it.gname,\n        shop_name: it.shop_name,\n        temperature: it.temperature,\n        daily_count: it.daily_count,\n        monthly_count: it.monthly_count,\n        rotation: it.rotation || 0,\n        originals: []\n      });\n    }\n    map.get(key).originals.push({\n      id: it.id,\n      video_name: it.video_name,\n      rotation: it.rotation || 0\n    });\n  }\n  return Array.from(map.values()).map(row => {\n    const videos = row.originals.map(x => x.video_name);\n    const idByVideo = Object.fromEntries(row.originals.map(x => [x.video_name, x.id]));\n    return {\n      ...row,\n      videos,\n      idByVideo\n    };\n  });\n}\nfunction extractOnlineFlag(res) {\n  var _res$data3;\n  const payload = (_res$data3 = res === null || res === void 0 ? void 0 : res.data) !== null && _res$data3 !== void 0 ? _res$data3 : res;\n  const candidates = [res === null || res === void 0 ? void 0 : res.online, res === null || res === void 0 ? void 0 : res.is_online, payload === null || payload === void 0 ? void 0 : payload.online, payload === null || payload === void 0 ? void 0 : payload.is_online, payload === null || payload === void 0 ? void 0 : payload.isOnline, payload === null || payload === void 0 ? void 0 : payload.status, payload];\n  for (const v of candidates) {\n    if (typeof v === \"boolean\") return v;\n    if (typeof v === \"number\") return v === 1;\n    if (typeof v === \"string\") {\n      const s = v.trim().toLowerCase();\n      if (s === \"true\" || s === \"1\" || s === \"online\") return true;\n      if (s === \"false\" || s === \"0\" || s === \"offline\") return false;\n    }\n  }\n  return false;\n}\nfunction EditVideosModal({\n  open,\n  onClose,\n  row,\n  onSaved\n}) {\n  _s4();\n  const [allVideoNames, setAllVideoNames] = useState([]);\n  const [typed, setTyped] = useState(\"\");\n  const [list, setList] = useState((row === null || row === void 0 ? void 0 : row.videos) || []);\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n  useEffect(() => {\n    if (!open) return;\n    setTyped(\"\");\n    setList((row === null || row === void 0 ? void 0 : row.videos) || []);\n    setMsg(\"\");\n    (async () => {\n      try {\n        const names = await listVideoNames();\n        setAllVideoNames(Array.isArray(names) ? names : []);\n      } catch {\n        setAllVideoNames([]);\n      }\n    })();\n  }, [open, row]);\n  const add = () => {\n    const v = (typed || \"\").trim();\n    if (!v) return;\n    if (!allVideoNames.includes(v)) {\n      setMsg(`\"${v}\" is not in the video list.`);\n      return;\n    }\n    if (!list.includes(v)) setList([...list, v]);\n    setTyped(\"\");\n    setMsg(\"\");\n  };\n  const remove = v => setList(list.filter(x => x !== v));\n  const save = async () => {\n    if (!row || busy) return;\n    setBusy(true);\n    setMsg(\"\");\n    try {\n      const before = new Set(row.videos || []);\n      const after = new Set(list || []);\n      const toDelete = [...before].filter(v => !after.has(v));\n      const toAdd = [...after].filter(v => !before.has(v));\n      await Promise.all(toDelete.map(v => {\n        var _row$idByVideo;\n        const id = (_row$idByVideo = row.idByVideo) === null || _row$idByVideo === void 0 ? void 0 : _row$idByVideo[v];\n        if (!id) return Promise.resolve();\n        return deleteLink(id);\n      }));\n      await Promise.all(toAdd.map(v => createLink({\n        mobile_id: row.mobile_id,\n        gname: row.gname,\n        shop_name: row.shop_name,\n        video_name: v\n      })));\n      onSaved === null || onSaved === void 0 ? void 0 : onSaved();\n      onClose === null || onClose === void 0 ? void 0 : onClose();\n    } catch (e) {\n      var _e$response4, _e$response4$data;\n      setMsg((e === null || e === void 0 ? void 0 : (_e$response4 = e.response) === null || _e$response4 === void 0 ? void 0 : (_e$response4$data = _e$response4.data) === null || _e$response4$data === void 0 ? void 0 : _e$response4$data.detail) || e.message || \"Failed to save.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    onClick: onClose,\n    style: {\n      position: \"fixed\",\n      inset: 0,\n      background: \"rgba(15, 23, 42, 0.6)\",\n      backdropFilter: \"blur(4px)\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      zIndex: 2000,\n      padding: 20\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: e => e.stopPropagation(),\n      style: {\n        width: \"min(95vw, 600px)\",\n        maxHeight: \"90vh\",\n        background: \"#fff\",\n        borderRadius: 20,\n        boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\",\n        overflow: \"hidden\",\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: \"16px 20px\",\n          background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\",\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: 0,\n            color: \"#fff\",\n            fontSize: 18,\n            fontWeight: 600\n          },\n          children: \"\\u270F\\uFE0F Edit Videos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          style: {\n            width: 32,\n            height: 32,\n            borderRadius: 10,\n            border: \"none\",\n            background: \"rgba(255,255,255,0.2)\",\n            color: \"#fff\",\n            cursor: \"pointer\",\n            fontSize: 18\n          },\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: 20,\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: 14\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: \"#475569\",\n            fontSize: 14\n          },\n          children: [\"Device: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: row === null || row === void 0 ? void 0 : row.mobile_id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 67\n          }, this), \" \\u2014 Group: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: row === null || row === void 0 ? void 0 : row.gname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 100\n          }, this), \" \\u2014 Shop: \", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: row === null || row === void 0 ? void 0 : row.shop_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 128\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            flexWrap: \"wrap\",\n            gap: 8\n          },\n          children: [(list || []).map(v => /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              display: \"inline-flex\",\n              alignItems: \"center\",\n              gap: 8,\n              padding: \"6px 10px\",\n              borderRadius: 10,\n              background: \"#f1f5f9\",\n              color: \"#0f172a\",\n              fontSize: 13,\n              fontWeight: 600\n            },\n            children: [\"\\uD83C\\uDFAC \", v, /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => remove(v),\n              style: {\n                width: 22,\n                height: 22,\n                borderRadius: 8,\n                border: \"none\",\n                background: \"#fee2e2\",\n                color: \"#dc2626\",\n                cursor: \"pointer\",\n                fontSize: 12,\n                fontWeight: 800\n              },\n              children: \"\\u2715\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this)]\n          }, v, true, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this)), (!list || list.length === 0) && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: \"#94a3b8\",\n              fontSize: 13\n            },\n            children: \"No videos selected.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 417,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 10,\n            alignItems: \"center\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            style: styles.input,\n            placeholder: \"Type video name...\",\n            value: typed,\n            onChange: e => setTyped(e.target.value),\n            list: \"videoNames\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"datalist\", {\n            id: \"videoNames\",\n            children: allVideoNames.map(v => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: v\n            }, v, false, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 66\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: add,\n            disabled: !typed,\n            style: styles.btn,\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 11\n        }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            padding: 12,\n            borderRadius: 8,\n            background: \"#fef2f2\",\n            color: \"#dc2626\",\n            fontSize: 13\n          },\n          children: msg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: 12,\n            justifyContent: \"flex-end\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            style: styles.btn,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: save,\n            disabled: busy,\n            style: styles.btnPrimary,\n            children: busy ? \"Saving...\" : \"Save Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 402,\n    columnNumber: 5\n  }, this);\n}\n_s4(EditVideosModal, \"lsyEnyPQt3xc6lyBHE5AGw9EHxQ=\");\n_c7 = EditVideosModal;\nexport default function RecentLinks({\n  refreshKey\n}) {\n  _s5();\n  const [rowsRaw, setRowsRaw] = useState([]);\n  const [onlineStatus, setOnlineStatus] = useState({});\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n  const [loadedAt, setLoadedAt] = useState(null);\n  const [editing, setEditing] = useState(null);\n  const [playingRow, setPlayingRow] = useState(null);\n  const [reportDevice, setReportDevice] = useState(null);\n  const [downloadDevice, setDownloadDevice] = useState(null);\n  const [fDevice, setFDevice] = useState(\"\");\n  const [fGroup, setFGroup] = useState(\"\");\n  const [fShop, setFShop] = useState(\"\");\n  const [fVideo, setFVideo] = useState(\"\");\n  const load = async () => {\n    setBusy(true);\n    setMsg(\"\");\n    try {\n      var _res$data4;\n      const res = await listLinks({\n        limit: 1000,\n        offset: 0\n      });\n      const items = (res === null || res === void 0 ? void 0 : (_res$data4 = res.data) === null || _res$data4 === void 0 ? void 0 : _res$data4.items) || (res === null || res === void 0 ? void 0 : res.items) || [];\n      setRowsRaw(items);\n      setLoadedAt(new Date());\n    } catch (e) {\n      var _e$response5, _e$response5$data;\n      setMsg((e === null || e === void 0 ? void 0 : (_e$response5 = e.response) === null || _e$response5 === void 0 ? void 0 : (_e$response5$data = _e$response5.data) === null || _e$response5$data === void 0 ? void 0 : _e$response5$data.detail) || e.message || \"Failed to load.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n  useEffect(() => {\n    load();\n  }, [refreshKey]);\n  useEffect(() => {\n    const id = setInterval(load, 30000);\n    return () => clearInterval(id);\n  }, []);\n  const rowsGrouped = useMemo(() => groupRows(rowsRaw), [rowsRaw]);\n  useEffect(() => {\n    const devices = Array.from(new Set(rowsGrouped.map(r => r.mobile_id)));\n    if (devices.length === 0) return;\n    let cancelled = false;\n    (async () => {\n      try {\n        const results = await Promise.all(devices.map(mobileId => getDeviceOnlineStatus(mobileId).then(res => ({\n          mobileId,\n          is_online: extractOnlineFlag(res)\n        })).catch(() => ({\n          mobileId,\n          is_online: false\n        }))));\n        if (cancelled) return;\n        setOnlineStatus(prev => {\n          const next = {\n            ...prev\n          };\n          results.forEach(({\n            mobileId,\n            is_online\n          }) => {\n            next[mobileId] = is_online;\n          });\n          return next;\n        });\n      } catch {}\n    })();\n    return () => {\n      cancelled = true;\n    };\n  }, [rowsGrouped]);\n  const rowsFiltered = useMemo(() => {\n    const d = (fDevice || \"\").toLowerCase(),\n      g = (fGroup || \"\").toLowerCase(),\n      s = (fShop || \"\").toLowerCase(),\n      v = (fVideo || \"\").toLowerCase();\n    return rowsGrouped.filter(r => !d || r.mobile_id.toLowerCase().includes(d)).filter(r => !g || (r.gname || \"\").toLowerCase().includes(g)).filter(r => !s || r.shop_name.toLowerCase().includes(s)).filter(r => !v || r.videos.join(\", \").toLowerCase().includes(v));\n  }, [rowsGrouped, fDevice, fGroup, fShop, fVideo]);\n  const clearFilters = () => {\n    setFDevice(\"\");\n    setFGroup(\"\");\n    setFShop(\"\");\n    setFVideo(\"\");\n  };\n  const deleteGroup = async row => {\n    if (!row) return;\n    const ok = window.confirm(`Delete all ${row.originals.length} link(s) for:\\n\\nDevice: ${row.mobile_id}\\nGroup: ${row.gname}\\nShop: ${row.shop_name}?`);\n    if (!ok) return;\n    try {\n      setBusy(true);\n      await Promise.all(row.originals.map(x => deleteLink(x.id)));\n      await load();\n    } catch (e) {\n      var _e$response6, _e$response6$data;\n      setMsg((e === null || e === void 0 ? void 0 : (_e$response6 = e.response) === null || _e$response6 === void 0 ? void 0 : (_e$response6$data = _e$response6.data) === null || _e$response6$data === void 0 ? void 0 : _e$response6$data.detail) || e.message || \"Delete failed.\");\n    } finally {\n      setBusy(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.card,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.header,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: styles.title,\n          children: [\"\\uD83D\\uDCCB Recent Links\", /*#__PURE__*/_jsxDEV(\"span\", {\n            style: styles.badge,\n            children: rowsFiltered.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), loadedAt && /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: 12,\n            color: \"#94a3b8\"\n          },\n          children: [\"Last updated: \", loadedAt.toLocaleTimeString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 496,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: load,\n        disabled: busy,\n        style: styles.btnPrimary,\n        children: busy ? \"â³ Loading...\" : \"ð Reload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"16px 24px\",\n        borderBottom: \"1px solid #f1f5f9\",\n        display: \"grid\",\n        gridTemplateColumns: \"repeat(4, 1fr) auto\",\n        gap: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        style: styles.input,\n        placeholder: \"\\uD83D\\uDD0D Device ID...\",\n        value: fDevice,\n        onChange: e => setFDevice(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: styles.input,\n        placeholder: \"\\uD83D\\uDC65 Group...\",\n        value: fGroup,\n        onChange: e => setFGroup(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: styles.input,\n        placeholder: \"\\uD83C\\uDFEA Shop...\",\n        value: fShop,\n        onChange: e => setFShop(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: styles.input,\n        placeholder: \"\\uD83C\\uDFAC Video...\",\n        value: fVideo,\n        onChange: e => setFVideo(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: clearFilters,\n        style: styles.btn,\n        children: \"Clear\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        overflowX: \"auto\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        style: styles.table,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: styles.th,\n              children: \"Device\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: styles.th,\n              children: \"Group\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 50\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: styles.th,\n              children: \"Shop\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 82\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: styles.th,\n              children: \"Videos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 113\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                ...styles.th,\n                textAlign: \"right\"\n              },\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 146\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 512,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 511,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: rowsFiltered.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: 5,\n              style: {\n                padding: 40,\n                textAlign: \"center\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 48,\n                  marginBottom: 16\n                },\n                children: \"\\uD83D\\uDCED\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 80\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: \"#64748b\",\n                  fontSize: 16\n                },\n                children: \"No links found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 516,\n                columnNumber: 136\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 516,\n            columnNumber: 15\n          }, this) : rowsFiltered.map(r => {\n            var _r$videos;\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                transition: \"background 0.2s\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    gap: 8\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"code\", {\n                    style: {\n                      fontFamily: \"monospace\",\n                      fontWeight: 600,\n                      fontSize: 14,\n                      color: \"#1e293b\"\n                    },\n                    children: r.mobile_id\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 107\n                  }, this), /*#__PURE__*/_jsxDEV(StatusDot, {\n                    isOnline: onlineStatus[r.mobile_id]\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 520,\n                    columnNumber: 218\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 520,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    padding: \"6px 12px\",\n                    borderRadius: 8,\n                    background: \"#f0f9ff\",\n                    color: \"#0369a1\",\n                    fontWeight: 600,\n                    fontSize: 13\n                  },\n                  children: r.gname || \"â\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 521,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 521,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    padding: \"6px 12px\",\n                    borderRadius: 8,\n                    background: \"#fdf4ff\",\n                    color: \"#a21caf\",\n                    fontWeight: 600,\n                    fontSize: 13\n                  },\n                  children: r.shop_name || \"â\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 522,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: styles.td,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    flexDirection: \"column\",\n                    gap: 10\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(VideoTags, {\n                    videos: r.videos\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 108\n                  }, this), /*#__PURE__*/_jsxDEV(MetricsCard, {\n                    temperature: r.temperature,\n                    daily: r.daily_count,\n                    monthly: r.monthly_count\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 523,\n                    columnNumber: 139\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  ...styles.td,\n                  textAlign: \"right\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: \"flex\",\n                    gap: 6,\n                    justifyContent: \"flex-end\",\n                    flexWrap: \"wrap\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    style: styles.btnSuccess,\n                    onClick: () => setPlayingRow(r),\n                    disabled: busy || !((_r$videos = r.videos) !== null && _r$videos !== void 0 && _r$videos.length),\n                    title: \"Play videos\",\n                    children: \"\\u25B6\\uFE0F Play\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 526,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: styles.btnWarning,\n                    onClick: () => setReportDevice(r.mobile_id),\n                    title: \"View report\",\n                    children: \"\\uD83D\\uDCCA Report\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    style: styles.btnInfo,\n                    onClick: () => setDownloadDevice(r.mobile_id),\n                    title: \"Download logs\",\n                    children: \"\\uD83D\\uDCE5 Download\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => setEditing(r),\n                    disabled: busy,\n                    style: styles.btn,\n                    children: \"\\u270F\\uFE0F Edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 529,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => deleteGroup(r),\n                    disabled: busy,\n                    style: styles.btnDanger,\n                    children: \"\\uD83D\\uDDD1\\uFE0F Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 530,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 19\n              }, this)]\n            }, r.key, true, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 509,\n      columnNumber: 7\n    }, this), msg && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: 16,\n        padding: 14,\n        borderRadius: 12,\n        background: \"#fff7ed\",\n        border: \"1px solid #fed7aa\",\n        color: \"#9a3412\",\n        fontSize: 14\n      },\n      children: [\"\\u26A0\\uFE0F \", msg]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(EditVideosModal, {\n      open: !!editing,\n      row: editing,\n      onClose: () => setEditing(null),\n      onSaved: () => {\n        setEditing(null);\n        load();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 540,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VideoPlayerModal, {\n      open: !!playingRow,\n      onClose: () => setPlayingRow(null),\n      deviceId: playingRow === null || playingRow === void 0 ? void 0 : playingRow.mobile_id,\n      videos: (playingRow === null || playingRow === void 0 ? void 0 : playingRow.videos) || []\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 541,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReportModal, {\n      open: !!reportDevice,\n      onClose: () => setReportDevice(null),\n      deviceId: reportDevice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DownloadModal, {\n      open: !!downloadDevice,\n      onClose: () => setDownloadDevice(null),\n      deviceId: downloadDevice\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 543,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 494,\n    columnNumber: 5\n  }, this);\n}\n_s5(RecentLinks, \"00VBJqNtkHJKtANxHHURV3hCiJA=\");\n_c8 = RecentLinks;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"VideoPlayerModal\");\n$RefreshReg$(_c2, \"ReportModal\");\n$RefreshReg$(_c3, \"DownloadModal\");\n$RefreshReg$(_c4, \"StatusDot\");\n$RefreshReg$(_c5, \"MetricsCard\");\n$RefreshReg$(_c6, \"VideoTags\");\n$RefreshReg$(_c7, \"EditVideosModal\");\n$RefreshReg$(_c8, \"RecentLinks\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","useRef","listLinks","deleteLink","createLink","getDeviceOnlineStatus","listVideoNames","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","DVSG_BASE","process","env","REACT_APP_API_BASE_URL","window","location","protocol","hostname","dvsgApi","create","baseURL","timeout","headers","styles","card","background","borderRadius","overflow","header","padding","borderBottom","display","alignItems","justifyContent","flexWrap","gap","title","margin","fontSize","fontWeight","color","badge","btn","border","cursor","transition","btnPrimary","boxShadow","btnSuccess","btnWarning","btnInfo","btnDanger","input","outline","width","table","borderCollapse","borderSpacing","th","textAlign","textTransform","letterSpacing","td","verticalAlign","VideoPlayerModal","open","onClose","deviceId","videos","_s","videoRef","currentIndex","setCurrentIndex","videoUrls","setVideoUrls","loading","setLoading","error","setError","length","fetchUrls","_res$data","_res$data$items","res","get","encodeURIComponent","data","items","e","_e$response","_e$response2","_e$response2$data","console","response","status","detail","message","current","pause","currentVideo","videoRotation","rotation","nextVideo","prev","prevVideo","onClick","style","position","inset","zIndex","children","stopPropagation","fileName","_jsxFileName","lineNumber","columnNumber","height","video_name","filename","minHeight","marginBottom","url","ref","src","controls","autoPlay","maxWidth","maxHeight","transform","onEnded","onError","map","_","i","_c","ReportModal","_s2","setData","timeRange","setTimeRange","loadReport","range","_res$data2","now","Date","startTime","setHours","getHours","setDate","getDate","params","start_date","toISOString","split","end_date","limit","_e$response3","_e$response3$data","downloadCSV","URLSearchParams","toString","stats","temps","filter","d","log_type","value","parseFloat","doors","avg","min","max","reduce","a","b","toFixed","Math","flexDirection","overflowY","flex","marginRight","v","l","opt","marginLeft","top","slice","log","fontFamily","logged_at","toLocaleString","id","colSpan","_c2","DownloadModal","_s3","onChange","target","_c3","StatusDot","isOnline","undefined","_c4","MetricsCard","temperature","daily","monthly","_c5","VideoTags","_c6","groupRows","Map","it","key","mobile_id","gname","shop_name","has","set","daily_count","monthly_count","originals","push","Array","from","values","row","x","idByVideo","Object","fromEntries","extractOnlineFlag","_res$data3","payload","candidates","online","is_online","s","trim","toLowerCase","EditVideosModal","onSaved","_s4","allVideoNames","setAllVideoNames","typed","setTyped","list","setList","busy","setBusy","msg","setMsg","names","isArray","add","includes","remove","save","before","Set","after","toDelete","toAdd","Promise","all","_row$idByVideo","resolve","_e$response4","_e$response4$data","backdropFilter","placeholder","disabled","_c7","RecentLinks","refreshKey","_s5","rowsRaw","setRowsRaw","onlineStatus","setOnlineStatus","loadedAt","setLoadedAt","editing","setEditing","playingRow","setPlayingRow","reportDevice","setReportDevice","downloadDevice","setDownloadDevice","fDevice","setFDevice","fGroup","setFGroup","fShop","setFShop","fVideo","setFVideo","load","_res$data4","offset","_e$response5","_e$response5$data","setInterval","clearInterval","rowsGrouped","devices","r","cancelled","results","mobileId","then","catch","next","forEach","rowsFiltered","g","join","clearFilters","deleteGroup","ok","confirm","_e$response6","_e$response6$data","toLocaleTimeString","gridTemplateColumns","overflowX","_r$videos","_c8","$RefreshReg$"],"sources":["/home/ubuntu/loadboard/react-video/src/components/RecentLinks.js"],"sourcesContent":["// src/components/RecentLinks.js - Enhanced with Play, Report, Download buttons\nimport React, { useEffect, useMemo, useState, useRef } from \"react\";\nimport { listLinks, deleteLink, createLink, getDeviceOnlineStatus } from \"../api/link\";\nimport { listVideoNames } from \"../api/video\";\nimport axios from \"axios\";\n\n// DVSG API for presigned URLs\nconst DVSG_BASE = process.env.REACT_APP_API_BASE_URL || \n  `${window.location.protocol}//${window.location.hostname}:8005`;\n\nconst dvsgApi = axios.create({\n  baseURL: DVSG_BASE,\n  timeout: 30000,\n  headers: { \"Content-Type\": \"application/json\" },\n});\n\n/* ======================== Styles ======================== */\nconst styles = {\n  card: { background: \"#fff\", borderRadius: 16, overflow: \"hidden\" },\n  header: { padding: \"20px 24px\", borderBottom: \"1px solid #f1f5f9\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", flexWrap: \"wrap\", gap: 16 },\n  title: { margin: 0, fontSize: 20, fontWeight: 700, color: \"#1e293b\", display: \"flex\", alignItems: \"center\", gap: 10 },\n  badge: { background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\", color: \"#fff\", padding: \"4px 10px\", borderRadius: 20, fontSize: 12, fontWeight: 600 },\n  btn: { padding: \"8px 14px\", borderRadius: 8, border: \"none\", background: \"#f1f5f9\", color: \"#475569\", cursor: \"pointer\", fontSize: 13, fontWeight: 600, display: \"inline-flex\", alignItems: \"center\", gap: 4, transition: \"all 0.2s\" },\n  btnPrimary: { padding: \"10px 18px\", borderRadius: 10, border: \"none\", background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\", color: \"#fff\", cursor: \"pointer\", fontSize: 14, fontWeight: 600, boxShadow: \"0 2px 8px rgba(102, 126, 234, 0.3)\", transition: \"all 0.2s\" },\n  btnSuccess: { padding: \"6px 10px\", borderRadius: 6, border: \"none\", background: \"#10b981\", color: \"#fff\", cursor: \"pointer\", fontSize: 12, fontWeight: 600, transition: \"all 0.2s\" },\n  btnWarning: { padding: \"6px 10px\", borderRadius: 6, border: \"none\", background: \"#f59e0b\", color: \"#fff\", cursor: \"pointer\", fontSize: 12, fontWeight: 600, transition: \"all 0.2s\" },\n  btnInfo: { padding: \"6px 10px\", borderRadius: 6, border: \"none\", background: \"#3b82f6\", color: \"#fff\", cursor: \"pointer\", fontSize: 12, fontWeight: 600, transition: \"all 0.2s\" },\n  btnDanger: { padding: \"6px 10px\", borderRadius: 6, border: \"none\", background: \"#fee2e2\", color: \"#dc2626\", cursor: \"pointer\", fontSize: 12, fontWeight: 600, transition: \"all 0.2s\" },\n  input: { padding: \"12px 16px\", borderRadius: 10, border: \"2px solid #e5e7eb\", fontSize: 14, outline: \"none\", width: \"100%\", transition: \"border-color 0.2s, box-shadow 0.2s\" },\n  table: { width: \"100%\", borderCollapse: \"separate\", borderSpacing: 0 },\n  th: { textAlign: \"left\", padding: \"14px 16px\", background: \"#f8fafc\", color: \"#64748b\", fontSize: 12, fontWeight: 700, textTransform: \"uppercase\", letterSpacing: \"0.5px\", borderBottom: \"2px solid #e5e7eb\" },\n  td: { padding: \"16px\", borderBottom: \"1px solid #f1f5f9\", verticalAlign: \"top\" },\n};\n\n/* ======================== Video Player Modal ======================== */\nfunction VideoPlayerModal({ open, onClose, deviceId, videos }) {\n  const videoRef = useRef(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [videoUrls, setVideoUrls] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!open || !deviceId || !videos?.length) {\n      setVideoUrls([]); setCurrentIndex(0); setError(null);\n      return;\n    }\n    const fetchUrls = async () => {\n      setLoading(true); setError(null);\n      try {\n        const res = await dvsgApi.get(`/device/${encodeURIComponent(deviceId)}/videos/downloads`);\n        if (res.data?.items?.length > 0) {\n          setVideoUrls(res.data.items);\n        } else {\n          setError(\"No downloadable videos found for this device\");\n        }\n      } catch (e) {\n        console.error(\"Failed to fetch video URLs:\", e);\n        setError(e?.response?.status === 404 ? \"No videos linked to this device or videos have no S3 links\" : `Failed to load videos: ${e?.response?.data?.detail || e.message}`);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUrls();\n  }, [open, deviceId, videos]);\n\n  useEffect(() => {\n    if (!open && videoRef.current) videoRef.current.pause();\n  }, [open]);\n\n  const currentVideo = videoUrls[currentIndex];\n  const videoRotation = currentVideo?.rotation || 0;\n  const nextVideo = () => { if (videoUrls.length > 1) setCurrentIndex((prev) => (prev + 1) % videoUrls.length); };\n  const prevVideo = () => { if (videoUrls.length > 1) setCurrentIndex((prev) => (prev - 1 + videoUrls.length) % videoUrls.length); };\n\n  if (!open) return null;\n\n  return (\n    <div onClick={onClose} style={{ position: \"fixed\", inset: 0, background: \"rgba(0,0,0,.75)\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", zIndex: 3000, padding: 20 }}>\n      <div onClick={(e) => e.stopPropagation()} style={{ width: \"min(95vw, 900px)\", background: \"#000\", borderRadius: 16, overflow: \"hidden\" }}>\n        <div style={{ padding: \"12px 16px\", background: \"#1f2937\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n          <div style={{ color: \"#fff\", fontWeight: 600 }}>ð¬ Playing on Device: {deviceId}</div>\n          <button onClick={onClose} style={{ width: 32, height: 32, borderRadius: 8, border: \"none\", background: \"rgba(255,255,255,0.1)\", color: \"#fff\", cursor: \"pointer\", fontSize: 16 }}>â</button>\n        </div>\n        {currentVideo && (\n          <div style={{ padding: \"8px 16px\", background: \"#374151\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\", gap: 16, flexWrap: \"wrap\" }}>\n            <div style={{ color: \"#e5e7eb\", fontSize: 14 }}>\n              <span style={{ color: \"#9ca3af\" }}>Video {currentIndex + 1} of {videoUrls.length}:</span>{\" \"}\n              <strong>{currentVideo.video_name || currentVideo.filename || \"Unknown\"}</strong>\n            </div>\n            {videoRotation !== 0 && <span style={{ padding: \"4px 10px\", background: \"#4f46e5\", borderRadius: 6, color: \"#fff\", fontSize: 12, fontWeight: 600 }}>Rotation: {videoRotation}Â°</span>}\n          </div>\n        )}\n        <div style={{ background: \"#000\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", minHeight: 400, position: \"relative\" }}>\n          {loading ? <div style={{ color: \"#fff\", padding: 40 }}>Loading videos...</div>\n          : error ? <div style={{ color: \"#fff\", padding: 40, textAlign: \"center\" }}><div style={{ fontSize: 48, marginBottom: 16 }}>ð¬</div><div style={{ color: \"#ef4444\", marginBottom: 8 }}>Video not available</div><div style={{ fontSize: 12, color: \"#9ca3af\" }}>{error}</div></div>\n          : currentVideo?.url ? <video ref={videoRef} src={currentVideo.url} controls autoPlay style={{ maxWidth: \"100%\", maxHeight: 500, transform: `rotate(${videoRotation}deg)`, transition: \"transform 0.3s\" }} onEnded={nextVideo} onError={() => setError(\"Failed to play video. The URL may have expired.\")} />\n          : <div style={{ color: \"#6b7280\", padding: 40, textAlign: \"center\" }}><div style={{ fontSize: 48, marginBottom: 16 }}>ð¬</div><div>No video URL available</div></div>}\n        </div>\n        {videoUrls.length > 1 && (\n          <div style={{ padding: \"12px 16px\", background: \"#1f2937\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", gap: 16 }}>\n            <button onClick={prevVideo} style={{ padding: \"8px 16px\", borderRadius: 8, border: \"none\", background: \"#4f46e5\", color: \"#fff\", cursor: \"pointer\", fontWeight: 600 }}>â Previous</button>\n            <div style={{ display: \"flex\", gap: 6 }}>{videoUrls.map((_, i) => (<div key={i} onClick={() => setCurrentIndex(i)} style={{ width: 10, height: 10, borderRadius: \"50%\", background: i === currentIndex ? \"#4f46e5\" : \"#4b5563\", cursor: \"pointer\" }} />))}</div>\n            <button onClick={nextVideo} style={{ padding: \"8px 16px\", borderRadius: 8, border: \"none\", background: \"#4f46e5\", color: \"#fff\", cursor: \"pointer\", fontWeight: 600 }}>Next â¶</button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\n/* ======================== Report Modal ======================== */\nfunction ReportModal({ open, onClose, deviceId }) {\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const [timeRange, setTimeRange] = useState(\"24h\");\n\n  useEffect(() => {\n    if (!open || !deviceId) {\n      setData(null); setError(null);\n      return;\n    }\n    loadReport(timeRange);\n    // eslint-disable-next-line\n  }, [open, deviceId]);\n\n  const loadReport = async (range) => {\n    setLoading(true); setError(null); setTimeRange(range);\n    try {\n      const now = new Date();\n      let startTime = new Date();\n      switch (range) {\n        case \"1h\": startTime.setHours(now.getHours() - 1); break;\n        case \"6h\": startTime.setHours(now.getHours() - 6); break;\n        case \"24h\": startTime.setDate(now.getDate() - 1); break;\n        case \"7d\": startTime.setDate(now.getDate() - 7); break;\n        case \"30d\": startTime.setDate(now.getDate() - 30); break;\n        default: startTime.setDate(now.getDate() - 1);\n      }\n      const params = {\n        start_date: startTime.toISOString().split('T')[0],\n        end_date: now.toISOString().split('T')[0],\n        limit: 5000,\n      };\n      const res = await dvsgApi.get(`/device/${encodeURIComponent(deviceId)}/logs`, { params });\n      setData(res.data?.items || []);\n    } catch (e) {\n      console.error(\"Failed to load report:\", e);\n      setError(e?.response?.data?.detail || e.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const downloadCSV = () => {\n    let url = `${DVSG_BASE}/device/${encodeURIComponent(deviceId)}/logs/download`;\n    const now = new Date();\n    let startTime = new Date();\n    switch (timeRange) {\n      case \"1h\": startTime.setHours(now.getHours() - 1); break;\n      case \"6h\": startTime.setHours(now.getHours() - 6); break;\n      case \"24h\": startTime.setDate(now.getDate() - 1); break;\n      case \"7d\": startTime.setDate(now.getDate() - 7); break;\n      case \"30d\": startTime.setDate(now.getDate() - 30); break;\n      default: startTime.setDate(now.getDate() - 1);\n    }\n    const params = new URLSearchParams({\n      start_date: startTime.toISOString().split('T')[0],\n      end_date: now.toISOString().split('T')[0],\n    });\n    window.open(`${url}?${params.toString()}`, \"_blank\");\n  };\n\n  // Calculate statistics\n  const stats = useMemo(() => {\n    if (!data || data.length === 0) return null;\n    const temps = data.filter(d => d.log_type === 'temperature' && d.value != null).map(d => parseFloat(d.value));\n    const doors = data.filter(d => d.log_type === 'door_open').length;\n    if (temps.length === 0) return { temps: [], doors, avg: null, min: null, max: null, current: null };\n    return {\n      temps,\n      doors,\n      avg: (temps.reduce((a, b) => a + b, 0) / temps.length).toFixed(1),\n      min: Math.min(...temps).toFixed(1),\n      max: Math.max(...temps).toFixed(1),\n      current: temps[temps.length - 1].toFixed(1),\n    };\n  }, [data]);\n\n  if (!open) return null;\n\n  return (\n    <div onClick={onClose} style={{ position: \"fixed\", inset: 0, background: \"rgba(0,0,0,.5)\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", zIndex: 3000, padding: 20 }}>\n      <div onClick={(e) => e.stopPropagation()} style={{ width: \"min(95vw, 700px)\", background: \"#fff\", borderRadius: 16, overflow: \"hidden\", maxHeight: \"90vh\", display: \"flex\", flexDirection: \"column\" }}>\n        <div style={{ padding: \"14px 18px\", background: \"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n          <div style={{ color: \"#fff\", fontWeight: 700, fontSize: 16 }}>ð Device Report: {deviceId}</div>\n          <button onClick={onClose} style={{ width: 32, height: 32, borderRadius: 8, border: \"none\", background: \"rgba(255,255,255,0.2)\", color: \"#fff\", cursor: \"pointer\", fontSize: 16 }}>â</button>\n        </div>\n        <div style={{ padding: 16, overflowY: \"auto\", flex: 1 }}>\n          {/* Time Range Selector */}\n          <div style={{ marginBottom: 16, display: \"flex\", gap: 8, flexWrap: \"wrap\", alignItems: \"center\" }}>\n            <span style={{ fontSize: 13, fontWeight: 600, marginRight: 8 }}>Time Range:</span>\n            {[{ v: \"1h\", l: \"1 Hour\" }, { v: \"6h\", l: \"6 Hours\" }, { v: \"24h\", l: \"24 Hours\" }, { v: \"7d\", l: \"7 Days\" }, { v: \"30d\", l: \"30 Days\" }].map(opt => (\n              <button key={opt.v} onClick={() => loadReport(opt.v)} style={{ ...styles.btn, padding: \"6px 12px\", background: timeRange === opt.v ? \"#f59e0b\" : \"#f1f5f9\", color: timeRange === opt.v ? \"#fff\" : \"#475569\" }}>{opt.l}</button>\n            ))}\n            <button onClick={downloadCSV} style={{ ...styles.btnInfo, marginLeft: \"auto\" }}>ð¥ Download CSV</button>\n          </div>\n          \n          {loading ? <div style={{ padding: 40, textAlign: \"center\", color: \"#6b7280\" }}>Loading report data...</div>\n          : error ? <div style={{ padding: 20, background: \"#fef2f2\", borderRadius: 8, color: \"#dc2626\" }}>{error}</div>\n          : stats ? (\n            <>\n              {/* Stats Cards */}\n              <div style={{ display: \"flex\", gap: 12, marginBottom: 16, flexWrap: \"wrap\" }}>\n                {stats.current && <div style={{ padding: \"10px 16px\", background: \"#dbeafe\", borderRadius: 8 }}><div style={{ fontSize: 11, color: \"#1e40af\" }}>Current</div><div style={{ fontSize: 20, fontWeight: 700, color: \"#1e40af\" }}>{stats.current}Â°C</div></div>}\n                {stats.avg && <div style={{ padding: \"10px 16px\", background: \"#dcfce7\", borderRadius: 8 }}><div style={{ fontSize: 11, color: \"#166534\" }}>Average</div><div style={{ fontSize: 20, fontWeight: 700, color: \"#166534\" }}>{stats.avg}Â°C</div></div>}\n                {stats.min && <div style={{ padding: \"10px 16px\", background: \"#fef3c7\", borderRadius: 8 }}><div style={{ fontSize: 11, color: \"#92400e\" }}>Min</div><div style={{ fontSize: 20, fontWeight: 700, color: \"#92400e\" }}>{stats.min}Â°C</div></div>}\n                {stats.max && <div style={{ padding: \"10px 16px\", background: \"#fee2e2\", borderRadius: 8 }}><div style={{ fontSize: 11, color: \"#991b1b\" }}>Max</div><div style={{ fontSize: 20, fontWeight: 700, color: \"#991b1b\" }}>{stats.max}Â°C</div></div>}\n                <div style={{ padding: \"10px 16px\", background: \"#f3e8ff\", borderRadius: 8 }}><div style={{ fontSize: 11, color: \"#7c3aed\" }}>Door Opens</div><div style={{ fontSize: 20, fontWeight: 700, color: \"#7c3aed\" }}>{stats.doors}</div></div>\n                <div style={{ padding: \"10px 16px\", background: \"#e0e7ff\", borderRadius: 8 }}><div style={{ fontSize: 11, color: \"#4338ca\" }}>Data Points</div><div style={{ fontSize: 20, fontWeight: 700, color: \"#4338ca\" }}>{data?.length || 0}</div></div>\n              </div>\n              \n              {/* Log Table */}\n              <div style={{ border: \"1px solid #e5e7eb\", borderRadius: 8, overflow: \"hidden\", maxHeight: 300, overflowY: \"auto\" }}>\n                <table style={{ width: \"100%\", borderCollapse: \"collapse\", fontSize: 12 }}>\n                  <thead style={{ position: \"sticky\", top: 0, background: \"#f8fafc\" }}>\n                    <tr>\n                      <th style={{ padding: 8, textAlign: \"left\", borderBottom: \"1px solid #e5e7eb\" }}>Type</th>\n                      <th style={{ padding: 8, textAlign: \"center\", borderBottom: \"1px solid #e5e7eb\" }}>Value</th>\n                      <th style={{ padding: 8, textAlign: \"right\", borderBottom: \"1px solid #e5e7eb\" }}>Time</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    {(data || []).slice(0, 100).map((log, i) => (\n                      <tr key={log.id || i} style={{ borderBottom: \"1px solid #f1f5f9\" }}>\n                        <td style={{ padding: 8 }}>\n                          <span style={{ display: \"inline-block\", padding: \"2px 6px\", borderRadius: 4, fontSize: 10, fontWeight: 600, background: log.log_type === \"temperature\" ? \"#fef3c7\" : \"#dbeafe\", color: log.log_type === \"temperature\" ? \"#92400e\" : \"#1e40af\" }}>{log.log_type}</span>\n                        </td>\n                        <td style={{ padding: 8, textAlign: \"center\", fontFamily: \"monospace\" }}>{log.log_type === \"temperature\" ? `${log.value}Â°C` : log.value}</td>\n                        <td style={{ padding: 8, textAlign: \"right\", color: \"#6b7280\" }}>{new Date(log.logged_at).toLocaleString()}</td>\n                      </tr>\n                    ))}\n                    {(!data || data.length === 0) && <tr><td colSpan={3} style={{ padding: 20, textAlign: \"center\", color: \"#6b7280\" }}>No data for selected period</td></tr>}\n                  </tbody>\n                </table>\n              </div>\n            </>\n          ) : <div style={{ padding: 40, textAlign: \"center\", color: \"#6b7280\" }}>No data available</div>}\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* ======================== Download Modal ======================== */\nfunction DownloadModal({ open, onClose, deviceId }) {\n  const [timeRange, setTimeRange] = useState(\"24h\");\n\n  const downloadCSV = () => {\n    const now = new Date();\n    let startTime = new Date();\n    switch (timeRange) {\n      case \"1h\": startTime.setHours(now.getHours() - 1); break;\n      case \"6h\": startTime.setHours(now.getHours() - 6); break;\n      case \"24h\": startTime.setDate(now.getDate() - 1); break;\n      case \"7d\": startTime.setDate(now.getDate() - 7); break;\n      case \"30d\": startTime.setDate(now.getDate() - 30); break;\n      case \"all\": startTime = new Date(2020, 0, 1); break;\n      default: startTime.setDate(now.getDate() - 1);\n    }\n    const params = new URLSearchParams({\n      start_date: startTime.toISOString().split('T')[0],\n      end_date: now.toISOString().split('T')[0],\n    });\n    window.open(`${DVSG_BASE}/device/${encodeURIComponent(deviceId)}/logs/download?${params.toString()}`, \"_blank\");\n    onClose();\n  };\n\n  if (!open) return null;\n\n  return (\n    <div onClick={onClose} style={{ position: \"fixed\", inset: 0, background: \"rgba(0,0,0,.5)\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", zIndex: 3000, padding: 20 }}>\n      <div onClick={(e) => e.stopPropagation()} style={{ width: \"min(95vw, 400px)\", background: \"#fff\", borderRadius: 16, overflow: \"hidden\" }}>\n        <div style={{ padding: \"14px 18px\", background: \"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n          <div style={{ color: \"#fff\", fontWeight: 700, fontSize: 16 }}>ð¥ Download Logs: {deviceId}</div>\n          <button onClick={onClose} style={{ width: 32, height: 32, borderRadius: 8, border: \"none\", background: \"rgba(255,255,255,0.2)\", color: \"#fff\", cursor: \"pointer\", fontSize: 16 }}>â</button>\n        </div>\n        <div style={{ padding: 20 }}>\n          <div style={{ marginBottom: 16 }}>\n            <label style={{ display: \"block\", marginBottom: 8, fontWeight: 600, fontSize: 14 }}>Select Time Range:</label>\n            <select value={timeRange} onChange={(e) => setTimeRange(e.target.value)} style={{ ...styles.input, cursor: \"pointer\" }}>\n              <option value=\"1h\">Last 1 Hour</option>\n              <option value=\"6h\">Last 6 Hours</option>\n              <option value=\"24h\">Last 24 Hours</option>\n              <option value=\"7d\">Last 7 Days</option>\n              <option value=\"30d\">Last 30 Days</option>\n              <option value=\"all\">All Time</option>\n            </select>\n          </div>\n          <div style={{ display: \"flex\", gap: 12, justifyContent: \"flex-end\" }}>\n            <button onClick={onClose} style={styles.btn}>Cancel</button>\n            <button onClick={downloadCSV} style={{ ...styles.btnInfo, padding: \"10px 20px\" }}>ð¥ Download CSV</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction StatusDot({ isOnline }) {\n  return (\n    <span style={{ display: \"inline-flex\", alignItems: \"center\", gap: 6, padding: \"4px 10px\", borderRadius: 20, background: isOnline === undefined ? \"#f1f5f9\" : isOnline ? \"#ecfdf5\" : \"#fef2f2\", color: isOnline === undefined ? \"#64748b\" : isOnline ? \"#059669\" : \"#dc2626\", fontSize: 12, fontWeight: 600 }}>\n      <span style={{ width: 8, height: 8, borderRadius: \"50%\", background: isOnline === undefined ? \"#9ca3af\" : isOnline ? \"#10b981\" : \"#ef4444\", boxShadow: isOnline ? \"0 0 8px rgba(16, 185, 129, 0.5)\" : \"none\" }} />\n      {isOnline === undefined ? \"Unknown\" : isOnline ? \"Online\" : \"Offline\"}\n    </span>\n  );\n}\n\nfunction MetricsCard({ temperature, daily, monthly }) {\n  return (\n    <div style={{ display: \"flex\", gap: 8, flexWrap: \"wrap\" }}>\n      <span style={{ padding: \"4px 10px\", borderRadius: 8, background: \"#fef3c7\", color: \"#92400e\", fontSize: 12, fontWeight: 600 }}>ð¡ï¸ {temperature ?? 0}Â°C</span>\n      <span style={{ padding: \"4px 10px\", borderRadius: 8, background: \"#dbeafe\", color: \"#1e40af\", fontSize: 12, fontWeight: 600 }}>ð Daily: {daily ?? 0}</span>\n      <span style={{ padding: \"4px 10px\", borderRadius: 8, background: \"#f3e8ff\", color: \"#7c3aed\", fontSize: 12, fontWeight: 600 }}>ð Monthly: {monthly ?? 0}</span>\n    </div>\n  );\n}\n\nfunction VideoTags({ videos }) {\n  return (\n    <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 6 }}>\n      {videos.map((v) => (<span key={v} style={{ padding: \"5px 10px\", borderRadius: 6, background: \"#f1f5f9\", color: \"#475569\", fontSize: 12, fontWeight: 500 }}>ð¬ {v}</span>))}\n    </div>\n  );\n}\n\nfunction groupRows(items) {\n  const map = new Map();\n  for (const it of items || []) {\n    const key = `${it.mobile_id}||${it.gname}||${it.shop_name}`;\n    if (!map.has(key)) {\n      map.set(key, { key, mobile_id: it.mobile_id, gname: it.gname, shop_name: it.shop_name, temperature: it.temperature, daily_count: it.daily_count, monthly_count: it.monthly_count, rotation: it.rotation || 0, originals: [] });\n    }\n    map.get(key).originals.push({ id: it.id, video_name: it.video_name, rotation: it.rotation || 0 });\n  }\n  return Array.from(map.values()).map((row) => {\n    const videos = row.originals.map((x) => x.video_name);\n    const idByVideo = Object.fromEntries(row.originals.map((x) => [x.video_name, x.id]));\n    return { ...row, videos, idByVideo };\n  });\n}\n\nfunction extractOnlineFlag(res) {\n  const payload = res?.data ?? res;\n  const candidates = [res?.online, res?.is_online, payload?.online, payload?.is_online, payload?.isOnline, payload?.status, payload];\n  for (const v of candidates) {\n    if (typeof v === \"boolean\") return v;\n    if (typeof v === \"number\") return v === 1;\n    if (typeof v === \"string\") { const s = v.trim().toLowerCase(); if (s === \"true\" || s === \"1\" || s === \"online\") return true; if (s === \"false\" || s === \"0\" || s === \"offline\") return false; }\n  }\n  return false;\n}\n\nfunction EditVideosModal({ open, onClose, row, onSaved }) {\n  const [allVideoNames, setAllVideoNames] = useState([]);\n  const [typed, setTyped] = useState(\"\");\n  const [list, setList] = useState(row?.videos || []);\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n\n  useEffect(() => {\n    if (!open) return;\n    setTyped(\"\"); setList(row?.videos || []); setMsg(\"\");\n    (async () => { try { const names = await listVideoNames(); setAllVideoNames(Array.isArray(names) ? names : []); } catch { setAllVideoNames([]); } })();\n  }, [open, row]);\n\n  const add = () => {\n    const v = (typed || \"\").trim();\n    if (!v) return;\n    if (!allVideoNames.includes(v)) { setMsg(`\"${v}\" is not in the video list.`); return; }\n    if (!list.includes(v)) setList([...list, v]);\n    setTyped(\"\"); setMsg(\"\");\n  };\n  const remove = (v) => setList(list.filter((x) => x !== v));\n  const save = async () => {\n    if (!row || busy) return;\n    setBusy(true); setMsg(\"\");\n    try {\n      const before = new Set(row.videos || []);\n      const after = new Set(list || []);\n      const toDelete = [...before].filter((v) => !after.has(v));\n      const toAdd = [...after].filter((v) => !before.has(v));\n      await Promise.all(toDelete.map((v) => { const id = row.idByVideo?.[v]; if (!id) return Promise.resolve(); return deleteLink(id); }));\n      await Promise.all(toAdd.map((v) => createLink({ mobile_id: row.mobile_id, gname: row.gname, shop_name: row.shop_name, video_name: v })));\n      onSaved?.(); onClose?.();\n    } catch (e) { setMsg(e?.response?.data?.detail || e.message || \"Failed to save.\"); } finally { setBusy(false); }\n  };\n\n  if (!open) return null;\n  return (\n    <div onClick={onClose} style={{ position: \"fixed\", inset: 0, background: \"rgba(15, 23, 42, 0.6)\", backdropFilter: \"blur(4px)\", display: \"flex\", alignItems: \"center\", justifyContent: \"center\", zIndex: 2000, padding: 20 }}>\n      <div onClick={(e) => e.stopPropagation()} style={{ width: \"min(95vw, 600px)\", maxHeight: \"90vh\", background: \"#fff\", borderRadius: 20, boxShadow: \"0 25px 50px -12px rgba(0, 0, 0, 0.25)\", overflow: \"hidden\", display: \"flex\", flexDirection: \"column\" }}>\n        <div style={{ padding: \"16px 20px\", background: \"linear-gradient(135deg, #667eea 0%, #764ba2 100%)\", display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n          <h3 style={{ margin: 0, color: \"#fff\", fontSize: 18, fontWeight: 600 }}>âï¸ Edit Videos</h3>\n          <button onClick={onClose} style={{ width: 32, height: 32, borderRadius: 10, border: \"none\", background: \"rgba(255,255,255,0.2)\", color: \"#fff\", cursor: \"pointer\", fontSize: 18 }}>â</button>\n        </div>\n        <div style={{ padding: 20, display: \"flex\", flexDirection: \"column\", gap: 14 }}>\n          <div style={{ color: \"#475569\", fontSize: 14 }}>Device: <b>{row?.mobile_id}</b> â Group: <b>{row?.gname}</b> â Shop: <b>{row?.shop_name}</b></div>\n          <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 8 }}>\n            {(list || []).map((v) => (\n              <span key={v} style={{ display: \"inline-flex\", alignItems: \"center\", gap: 8, padding: \"6px 10px\", borderRadius: 10, background: \"#f1f5f9\", color: \"#0f172a\", fontSize: 13, fontWeight: 600 }}>\n                ð¬ {v}\n                <button onClick={() => remove(v)} style={{ width: 22, height: 22, borderRadius: 8, border: \"none\", background: \"#fee2e2\", color: \"#dc2626\", cursor: \"pointer\", fontSize: 12, fontWeight: 800 }}>â</button>\n              </span>\n            ))}\n            {(!list || list.length === 0) && <span style={{ color: \"#94a3b8\", fontSize: 13 }}>No videos selected.</span>}\n          </div>\n          <div style={{ display: \"flex\", gap: 10, alignItems: \"center\" }}>\n            <input style={styles.input} placeholder=\"Type video name...\" value={typed} onChange={(e) => setTyped(e.target.value)} list=\"videoNames\" />\n            <datalist id=\"videoNames\">{allVideoNames.map((v) => (<option key={v} value={v} />))}</datalist>\n            <button onClick={add} disabled={!typed} style={styles.btn}>Add</button>\n          </div>\n          {msg && <div style={{ padding: 12, borderRadius: 8, background: \"#fef2f2\", color: \"#dc2626\", fontSize: 13 }}>{msg}</div>}\n          <div style={{ display: \"flex\", gap: 12, justifyContent: \"flex-end\" }}>\n            <button onClick={onClose} style={styles.btn}>Cancel</button>\n            <button onClick={save} disabled={busy} style={styles.btnPrimary}>{busy ? \"Saving...\" : \"Save Changes\"}</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default function RecentLinks({ refreshKey }) {\n  const [rowsRaw, setRowsRaw] = useState([]);\n  const [onlineStatus, setOnlineStatus] = useState({});\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n  const [loadedAt, setLoadedAt] = useState(null);\n  const [editing, setEditing] = useState(null);\n  const [playingRow, setPlayingRow] = useState(null);\n  const [reportDevice, setReportDevice] = useState(null);\n  const [downloadDevice, setDownloadDevice] = useState(null);\n  const [fDevice, setFDevice] = useState(\"\");\n  const [fGroup, setFGroup] = useState(\"\");\n  const [fShop, setFShop] = useState(\"\");\n  const [fVideo, setFVideo] = useState(\"\");\n\n  const load = async () => {\n    setBusy(true); setMsg(\"\");\n    try {\n      const res = await listLinks({ limit: 1000, offset: 0 });\n      const items = res?.data?.items || res?.items || [];\n      setRowsRaw(items);\n      setLoadedAt(new Date());\n    } catch (e) { setMsg(e?.response?.data?.detail || e.message || \"Failed to load.\"); } finally { setBusy(false); }\n  };\n\n  useEffect(() => { load(); }, [refreshKey]);\n  useEffect(() => { const id = setInterval(load, 30000); return () => clearInterval(id); }, []);\n\n  const rowsGrouped = useMemo(() => groupRows(rowsRaw), [rowsRaw]);\n\n  useEffect(() => {\n    const devices = Array.from(new Set(rowsGrouped.map((r) => r.mobile_id)));\n    if (devices.length === 0) return;\n    let cancelled = false;\n    (async () => {\n      try {\n        const results = await Promise.all(devices.map((mobileId) => getDeviceOnlineStatus(mobileId).then((res) => ({ mobileId, is_online: extractOnlineFlag(res) })).catch(() => ({ mobileId, is_online: false }))));\n        if (cancelled) return;\n        setOnlineStatus((prev) => { const next = { ...prev }; results.forEach(({ mobileId, is_online }) => { next[mobileId] = is_online; }); return next; });\n      } catch {}\n    })();\n    return () => { cancelled = true; };\n  }, [rowsGrouped]);\n\n  const rowsFiltered = useMemo(() => {\n    const d = (fDevice || \"\").toLowerCase(), g = (fGroup || \"\").toLowerCase(), s = (fShop || \"\").toLowerCase(), v = (fVideo || \"\").toLowerCase();\n    return rowsGrouped.filter((r) => !d || r.mobile_id.toLowerCase().includes(d)).filter((r) => !g || (r.gname || \"\").toLowerCase().includes(g)).filter((r) => !s || r.shop_name.toLowerCase().includes(s)).filter((r) => !v || r.videos.join(\", \").toLowerCase().includes(v));\n  }, [rowsGrouped, fDevice, fGroup, fShop, fVideo]);\n\n  const clearFilters = () => { setFDevice(\"\"); setFGroup(\"\"); setFShop(\"\"); setFVideo(\"\"); };\n\n  const deleteGroup = async (row) => {\n    if (!row) return;\n    const ok = window.confirm(`Delete all ${row.originals.length} link(s) for:\\n\\nDevice: ${row.mobile_id}\\nGroup: ${row.gname}\\nShop: ${row.shop_name}?`);\n    if (!ok) return;\n    try { setBusy(true); await Promise.all(row.originals.map((x) => deleteLink(x.id))); await load(); } catch (e) { setMsg(e?.response?.data?.detail || e.message || \"Delete failed.\"); } finally { setBusy(false); }\n  };\n\n  return (\n    <div style={styles.card}>\n      <div style={styles.header}>\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: 16 }}>\n          <h2 style={styles.title}>ð Recent Links<span style={styles.badge}>{rowsFiltered.length}</span></h2>\n          {loadedAt && <span style={{ fontSize: 12, color: \"#94a3b8\" }}>Last updated: {loadedAt.toLocaleTimeString()}</span>}\n        </div>\n        <button onClick={load} disabled={busy} style={styles.btnPrimary}>{busy ? \"â³ Loading...\" : \"ð Reload\"}</button>\n      </div>\n      <div style={{ padding: \"16px 24px\", borderBottom: \"1px solid #f1f5f9\", display: \"grid\", gridTemplateColumns: \"repeat(4, 1fr) auto\", gap: 12 }}>\n        <input style={styles.input} placeholder=\"ð Device ID...\" value={fDevice} onChange={(e) => setFDevice(e.target.value)} />\n        <input style={styles.input} placeholder=\"ð¥ Group...\" value={fGroup} onChange={(e) => setFGroup(e.target.value)} />\n        <input style={styles.input} placeholder=\"ðª Shop...\" value={fShop} onChange={(e) => setFShop(e.target.value)} />\n        <input style={styles.input} placeholder=\"ð¬ Video...\" value={fVideo} onChange={(e) => setFVideo(e.target.value)} />\n        <button onClick={clearFilters} style={styles.btn}>Clear</button>\n      </div>\n      <div style={{ overflowX: \"auto\" }}>\n        <table style={styles.table}>\n          <thead>\n            <tr><th style={styles.th}>Device</th><th style={styles.th}>Group</th><th style={styles.th}>Shop</th><th style={styles.th}>Videos</th><th style={{ ...styles.th, textAlign: \"right\" }}>Actions</th></tr>\n          </thead>\n          <tbody>\n            {rowsFiltered.length === 0 ? (\n              <tr><td colSpan={5} style={{ padding: 40, textAlign: \"center\" }}><div style={{ fontSize: 48, marginBottom: 16 }}>ð­</div><div style={{ color: \"#64748b\", fontSize: 16 }}>No links found</div></td></tr>\n            ) : (\n              rowsFiltered.map((r) => (\n                <tr key={r.key} style={{ transition: \"background 0.2s\" }}>\n                  <td style={styles.td}><div style={{ display: \"flex\", flexDirection: \"column\", gap: 8 }}><code style={{ fontFamily: \"monospace\", fontWeight: 600, fontSize: 14, color: \"#1e293b\" }}>{r.mobile_id}</code><StatusDot isOnline={onlineStatus[r.mobile_id]} /></div></td>\n                  <td style={styles.td}><span style={{ padding: \"6px 12px\", borderRadius: 8, background: \"#f0f9ff\", color: \"#0369a1\", fontWeight: 600, fontSize: 13 }}>{r.gname || \"â\"}</span></td>\n                  <td style={styles.td}><span style={{ padding: \"6px 12px\", borderRadius: 8, background: \"#fdf4ff\", color: \"#a21caf\", fontWeight: 600, fontSize: 13 }}>{r.shop_name || \"â\"}</span></td>\n                  <td style={styles.td}><div style={{ display: \"flex\", flexDirection: \"column\", gap: 10 }}><VideoTags videos={r.videos} /><MetricsCard temperature={r.temperature} daily={r.daily_count} monthly={r.monthly_count} /></div></td>\n                  <td style={{ ...styles.td, textAlign: \"right\" }}>\n                    <div style={{ display: \"flex\", gap: 6, justifyContent: \"flex-end\", flexWrap: \"wrap\" }}>\n                      <button style={styles.btnSuccess} onClick={() => setPlayingRow(r)} disabled={busy || !r.videos?.length} title=\"Play videos\">â¶ï¸ Play</button>\n                      <button style={styles.btnWarning} onClick={() => setReportDevice(r.mobile_id)} title=\"View report\">ð Report</button>\n                      <button style={styles.btnInfo} onClick={() => setDownloadDevice(r.mobile_id)} title=\"Download logs\">ð¥ Download</button>\n                      <button onClick={() => setEditing(r)} disabled={busy} style={styles.btn}>âï¸ Edit</button>\n                      <button onClick={() => deleteGroup(r)} disabled={busy} style={styles.btnDanger}>ðï¸ Delete</button>\n                    </div>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n      {msg && <div style={{ margin: 16, padding: 14, borderRadius: 12, background: \"#fff7ed\", border: \"1px solid #fed7aa\", color: \"#9a3412\", fontSize: 14 }}>â ï¸ {msg}</div>}\n      <EditVideosModal open={!!editing} row={editing} onClose={() => setEditing(null)} onSaved={() => { setEditing(null); load(); }} />\n      <VideoPlayerModal open={!!playingRow} onClose={() => setPlayingRow(null)} deviceId={playingRow?.mobile_id} videos={playingRow?.videos || []} />\n      <ReportModal open={!!reportDevice} onClose={() => setReportDevice(null)} deviceId={reportDevice} />\n      <DownloadModal open={!!downloadDevice} onClose={() => setDownloadDevice(null)} deviceId={downloadDevice} />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}