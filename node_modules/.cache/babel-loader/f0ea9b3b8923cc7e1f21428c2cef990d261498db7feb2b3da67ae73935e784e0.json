{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/loadboard/react-video/src/components/Linker.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// src/components/Linker.js\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { listDevices } from \"../api/device\";\nimport { listGroups } from \"../api/group\";\nimport { listShops } from \"../api/shop\";\nimport { listVideos } from \"../api/video\";\nimport { createLink } from \"../api/link\";\n\n// MUI\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport TextField from \"@mui/material/TextField\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\n\n/** simple debounce hook */\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction useDebouncedValue(value, delay = 300) {\n  _s();\n  const [debounced, setDebounced] = useState(value);\n  useEffect(() => {\n    const t = setTimeout(() => setDebounced(value), delay);\n    return () => clearTimeout(t);\n  }, [value, delay]);\n  return debounced;\n}\n_s(useDebouncedValue, \"33bQBlXg6j7MFSTRBeGy5/ui5G8=\");\nexport default function Linker() {\n  _s2();\n  // selected values (what you will POST)\n  const [mobileId, setMobileId] = useState(\"\");\n  const [gname, setGname] = useState(\"\");\n  const [shopName, setShopName] = useState(\"\");\n  const [videoName, setVideoName] = useState(\"\");\n\n  // input text in each autocomplete\n  const [mobileIdInput, setMobileIdInput] = useState(\"\");\n  const [gnameInput, setGnameInput] = useState(\"\");\n  const [shopNameInput, setShopNameInput] = useState(\"\");\n  const [videoNameInput, setVideoNameInput] = useState(\"\");\n\n  // debounced input (to avoid spamming API)\n  const dMobile = useDebouncedValue(mobileIdInput, 300);\n  const dGroup = useDebouncedValue(gnameInput, 300);\n  const dShop = useDebouncedValue(shopNameInput, 300);\n  const dVideo = useDebouncedValue(videoNameInput, 300);\n\n  // option lists (strings)\n  const [deviceOpts, setDeviceOpts] = useState([]);\n  const [groupOpts, setGroupOpts] = useState([]);\n  const [shopOpts, setShopOpts] = useState([]);\n  const [videoOpts, setVideoOpts] = useState([]);\n\n  // loading flags per field\n  const [loadingDevice, setLoadingDevice] = useState(false);\n  const [loadingGroup, setLoadingGroup] = useState(false);\n  const [loadingShop, setLoadingShop] = useState(false);\n  const [loadingVideo, setLoadingVideo] = useState(false);\n\n  // global UI\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n\n  // cache last queries to avoid duplicate in-flight\n  const lastQ = useRef({\n    device: null,\n    group: null,\n    shop: null,\n    video: null\n  });\n\n  // initial load of defaults (top items)\n  useEffect(() => {\n    reloadAll();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const safeMap = (arr, key) => (arr || []).map(x => typeof x === \"string\" ? x : x === null || x === void 0 ? void 0 : x[key]).filter(Boolean);\n  const withLimitFallback = async (fn, params, caps = [100, 50]) => {\n    try {\n      const r = await fn(params);\n      return r.data.items || [];\n    } catch (e) {\n      var _e$response;\n      if ((e === null || e === void 0 ? void 0 : (_e$response = e.response) === null || _e$response === void 0 ? void 0 : _e$response.status) === 422 && params !== null && params !== void 0 && params.limit) {\n        for (const cap of caps) {\n          try {\n            const r2 = await fn({\n              ...params,\n              limit: cap\n            });\n            return r2.data.items || [];\n          } catch (e2) {\n            var _e2$response;\n            if ((e2 === null || e2 === void 0 ? void 0 : (_e2$response = e2.response) === null || _e2$response === void 0 ? void 0 : _e2$response.status) !== 422) throw e2;\n          }\n        }\n        const r3 = await fn({});\n        return r3.data.items || [];\n      }\n      throw e;\n    }\n  };\n  const reloadAll = async () => {\n    setBusy(true);\n    setMsg(\"\");\n    try {\n      const MAX = 50; // default slice for initial options\n      const [d, g, s, v] = await Promise.all([listDevices({\n        limit: MAX,\n        offset: 0\n      }).then(r => r.data.items || []), withLimitFallback(listGroups, {\n        limit: MAX,\n        offset: 0\n      }), withLimitFallback(listShops, {\n        limit: MAX,\n        offset: 0\n      }), withLimitFallback(listVideos, {\n        limit: MAX,\n        offset: 0\n      })]);\n      setDeviceOpts(safeMap(d, \"mobile_id\"));\n      setGroupOpts(safeMap(g, \"gname\"));\n      setShopOpts(safeMap(s, \"shop_name\"));\n      setVideoOpts(safeMap(v, \"video_name\"));\n    } catch (e) {\n      var _e$response2, _e$response2$data;\n      setMsg(`Failed to load lists: ${(e === null || e === void 0 ? void 0 : (_e$response2 = e.response) === null || _e$response2 === void 0 ? void 0 : (_e$response2$data = _e$response2.data) === null || _e$response2$data === void 0 ? void 0 : _e$response2$data.detail) || e.message}`);\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  // === server-side filtering per field (debounced) ===\n  useEffect(() => {\n    const q = (dMobile === null || dMobile === void 0 ? void 0 : dMobile.trim()) || \"\";\n    if (q === lastQ.current.device) return;\n    lastQ.current.device = q;\n    setLoadingDevice(true);\n    listDevices({\n      q,\n      limit: 50,\n      offset: 0\n    }).then(r => setDeviceOpts(safeMap(r.data.items || [], \"mobile_id\"))).catch(() => {}) // keep prior opts on error\n    .finally(() => setLoadingDevice(false));\n  }, [dMobile]);\n  useEffect(() => {\n    const q = (dGroup === null || dGroup === void 0 ? void 0 : dGroup.trim()) || \"\";\n    if (q === lastQ.current.group) return;\n    lastQ.current.group = q;\n    setLoadingGroup(true);\n    listGroups({\n      q,\n      limit: 50,\n      offset: 0\n    }).then(r => setGroupOpts(safeMap(r.data.items || [], \"gname\"))).catch(() => {}).finally(() => setLoadingGroup(false));\n  }, [dGroup]);\n  useEffect(() => {\n    const q = (dShop === null || dShop === void 0 ? void 0 : dShop.trim()) || \"\";\n    if (q === lastQ.current.shop) return;\n    lastQ.current.shop = q;\n    setLoadingShop(true);\n    listShops({\n      q,\n      limit: 50,\n      offset: 0\n    }).then(r => setShopOpts(safeMap(r.data.items || [], \"shop_name\"))).catch(() => {}).finally(() => setLoadingShop(false));\n  }, [dShop]);\n  useEffect(() => {\n    const q = (dVideo === null || dVideo === void 0 ? void 0 : dVideo.trim()) || \"\";\n    if (q === lastQ.current.video) return;\n    lastQ.current.video = q;\n    setLoadingVideo(true);\n    listVideos({\n      q,\n      limit: 50,\n      offset: 0\n    }).then(r => setVideoOpts(safeMap(r.data.items || [], \"video_name\"))).catch(() => {}).finally(() => setLoadingVideo(false));\n  }, [dVideo]);\n  const clear = () => {\n    setMobileId(\"\");\n    setGname(\"\");\n    setShopName(\"\");\n    setVideoName(\"\");\n    setMobileIdInput(\"\");\n    setGnameInput(\"\");\n    setShopNameInput(\"\");\n    setVideoNameInput(\"\");\n  };\n  const add = async () => {\n    if (!mobileId || !gname || !shopName || !videoName) {\n      setMsg(\"Please select Device, Group, Shop, and Video.\");\n      return;\n    }\n    setBusy(true);\n    setMsg(\"\");\n    try {\n      await createLink({\n        mobile_id: mobileId,\n        gname,\n        shop_name: shopName,\n        video_name: videoName\n      });\n      setMsg(\"Link created ✅\");\n      clear();\n    } catch (e) {\n      var _e$response3, _e$response3$data;\n      setMsg(`Failed: ${(e === null || e === void 0 ? void 0 : (_e$response3 = e.response) === null || _e$response3 === void 0 ? void 0 : (_e$response3$data = _e$response3.data) === null || _e$response3$data === void 0 ? void 0 : _e$response3$data.detail) || e.message}`);\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  // styles\n  const btn = {\n    padding: \"8px 12px\",\n    borderRadius: 8,\n    border: \"1px solid #e5e7eb\",\n    background: \"#fff\",\n    cursor: \"pointer\",\n    fontSize: 14,\n    fontWeight: 600\n  };\n  const btnPrimary = {\n    ...btn,\n    background: \"#4f46e5\",\n    color: \"#fff\",\n    borderColor: \"#4f46e5\"\n  };\n  const grid2 = {\n    display: \"grid\",\n    gridTemplateColumns: \"1fr 1fr\",\n    gap: 12\n  };\n\n  // Disable MUI local filtering; we rely on server ?q=\n  const passthroughFilter = x => x;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      background: \"#fff\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        fontSize: 18,\n        margin: \"0 0 12px\"\n      },\n      children: \"Create Relation (Device \\u2022 Group \\u2022 Shop \\u2022 Video)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: grid2,\n      children: [/*#__PURE__*/_jsxDEV(Autocomplete, {\n        size: \"small\",\n        options: deviceOpts,\n        value: mobileId || null,\n        inputValue: mobileIdInput,\n        onInputChange: (_, v) => setMobileIdInput(v),\n        onChange: (_, v) => setMobileId(v || \"\"),\n        filterOptions: passthroughFilter,\n        loading: loadingDevice,\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n          ...params,\n          label: \"Device (mobile_id)\",\n          InputProps: {\n            ...params.InputProps,\n            endAdornment: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [loadingDevice ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                color: \"inherit\",\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 38\n              }, this) : null, params.InputProps.endAdornment]\n            }, void 0, true)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Autocomplete, {\n        size: \"small\",\n        options: groupOpts,\n        value: gname || null,\n        inputValue: gnameInput,\n        onInputChange: (_, v) => setGnameInput(v),\n        onChange: (_, v) => setGname(v || \"\"),\n        filterOptions: passthroughFilter,\n        loading: loadingGroup,\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n          ...params,\n          label: \"Group (gname)\",\n          InputProps: {\n            ...params.InputProps,\n            endAdornment: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [loadingGroup ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                color: \"inherit\",\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 37\n              }, this) : null, params.InputProps.endAdornment]\n            }, void 0, true)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Autocomplete, {\n        size: \"small\",\n        options: shopOpts,\n        value: shopName || null,\n        inputValue: shopNameInput,\n        onInputChange: (_, v) => setShopNameInput(v),\n        onChange: (_, v) => setShopName(v || \"\"),\n        filterOptions: passthroughFilter,\n        loading: loadingShop,\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n          ...params,\n          label: \"Shop (shop_name)\",\n          InputProps: {\n            ...params.InputProps,\n            endAdornment: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [loadingShop ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                color: \"inherit\",\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 36\n              }, this) : null, params.InputProps.endAdornment]\n            }, void 0, true)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Autocomplete, {\n        size: \"small\",\n        options: videoOpts,\n        value: videoName || null,\n        inputValue: videoNameInput,\n        onInputChange: (_, v) => setVideoNameInput(v),\n        onChange: (_, v) => setVideoName(v || \"\"),\n        filterOptions: passthroughFilter,\n        loading: loadingVideo,\n        renderInput: params => /*#__PURE__*/_jsxDEV(TextField, {\n          ...params,\n          label: \"Video (video_name)\",\n          InputProps: {\n            ...params.InputProps,\n            endAdornment: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [loadingVideo ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n                color: \"inherit\",\n                size: 16\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 37\n              }, this) : null, params.InputProps.endAdornment]\n            }, void 0, true)\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        gap: 8,\n        marginTop: 14,\n        alignItems: \"center\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        style: btn,\n        onClick: reloadAll,\n        disabled: busy,\n        children: \"Reload lists\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        style: btnPrimary,\n        onClick: add,\n        disabled: busy,\n        children: \"Create Link\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), msg && /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          marginLeft: 8,\n          color: msg.startsWith(\"Failed\") ? \"#dc2626\" : \"#16a34a\",\n          fontSize: 13\n        },\n        children: busy ? \"Working…\" : msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 196,\n    columnNumber: 5\n  }, this);\n}\n_s2(Linker, \"ZTih12P50ZaoP1PUZ430A/dHR44=\", false, function () {\n  return [useDebouncedValue, useDebouncedValue, useDebouncedValue, useDebouncedValue];\n});\n_c = Linker;\nvar _c;\n$RefreshReg$(_c, \"Linker\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","listDevices","listGroups","listShops","listVideos","createLink","Autocomplete","TextField","CircularProgress","jsxDEV","_jsxDEV","Fragment","_Fragment","useDebouncedValue","value","delay","_s","debounced","setDebounced","t","setTimeout","clearTimeout","Linker","_s2","mobileId","setMobileId","gname","setGname","shopName","setShopName","videoName","setVideoName","mobileIdInput","setMobileIdInput","gnameInput","setGnameInput","shopNameInput","setShopNameInput","videoNameInput","setVideoNameInput","dMobile","dGroup","dShop","dVideo","deviceOpts","setDeviceOpts","groupOpts","setGroupOpts","shopOpts","setShopOpts","videoOpts","setVideoOpts","loadingDevice","setLoadingDevice","loadingGroup","setLoadingGroup","loadingShop","setLoadingShop","loadingVideo","setLoadingVideo","busy","setBusy","msg","setMsg","lastQ","device","group","shop","video","reloadAll","safeMap","arr","key","map","x","filter","Boolean","withLimitFallback","fn","params","caps","r","data","items","e","_e$response","response","status","limit","cap","r2","e2","_e2$response","r3","MAX","d","g","s","v","Promise","all","offset","then","_e$response2","_e$response2$data","detail","message","q","trim","current","catch","finally","clear","add","mobile_id","shop_name","video_name","_e$response3","_e$response3$data","btn","padding","borderRadius","border","background","cursor","fontSize","fontWeight","btnPrimary","color","borderColor","grid2","display","gridTemplateColumns","gap","passthroughFilter","style","children","margin","fileName","_jsxFileName","lineNumber","columnNumber","size","options","inputValue","onInputChange","_","onChange","filterOptions","loading","renderInput","label","InputProps","endAdornment","marginTop","alignItems","onClick","disabled","marginLeft","startsWith","_c","$RefreshReg$"],"sources":["/home/ubuntu/loadboard/react-video/src/components/Linker.js"],"sourcesContent":["// src/components/Linker.js\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { listDevices } from \"../api/device\";\nimport { listGroups } from \"../api/group\";\nimport { listShops } from \"../api/shop\";\nimport { listVideos } from \"../api/video\";\nimport { createLink } from \"../api/link\";\n\n// MUI\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport TextField from \"@mui/material/TextField\";\nimport CircularProgress from \"@mui/material/CircularProgress\";\n\n/** simple debounce hook */\nfunction useDebouncedValue(value, delay = 300) {\n  const [debounced, setDebounced] = useState(value);\n  useEffect(() => {\n    const t = setTimeout(() => setDebounced(value), delay);\n    return () => clearTimeout(t);\n  }, [value, delay]);\n  return debounced;\n}\n\nexport default function Linker() {\n  // selected values (what you will POST)\n  const [mobileId, setMobileId] = useState(\"\");\n  const [gname, setGname] = useState(\"\");\n  const [shopName, setShopName] = useState(\"\");\n  const [videoName, setVideoName] = useState(\"\");\n\n  // input text in each autocomplete\n  const [mobileIdInput, setMobileIdInput] = useState(\"\");\n  const [gnameInput, setGnameInput] = useState(\"\");\n  const [shopNameInput, setShopNameInput] = useState(\"\");\n  const [videoNameInput, setVideoNameInput] = useState(\"\");\n\n  // debounced input (to avoid spamming API)\n  const dMobile = useDebouncedValue(mobileIdInput, 300);\n  const dGroup = useDebouncedValue(gnameInput, 300);\n  const dShop = useDebouncedValue(shopNameInput, 300);\n  const dVideo = useDebouncedValue(videoNameInput, 300);\n\n  // option lists (strings)\n  const [deviceOpts, setDeviceOpts] = useState([]);\n  const [groupOpts, setGroupOpts] = useState([]);\n  const [shopOpts, setShopOpts] = useState([]);\n  const [videoOpts, setVideoOpts] = useState([]);\n\n  // loading flags per field\n  const [loadingDevice, setLoadingDevice] = useState(false);\n  const [loadingGroup, setLoadingGroup] = useState(false);\n  const [loadingShop, setLoadingShop] = useState(false);\n  const [loadingVideo, setLoadingVideo] = useState(false);\n\n  // global UI\n  const [busy, setBusy] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n\n  // cache last queries to avoid duplicate in-flight\n  const lastQ = useRef({ device: null, group: null, shop: null, video: null });\n\n  // initial load of defaults (top items)\n  useEffect(() => {\n    reloadAll();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const safeMap = (arr, key) => (arr || []).map((x) => (typeof x === \"string\" ? x : x?.[key])).filter(Boolean);\n\n  const withLimitFallback = async (fn, params, caps = [100, 50]) => {\n    try {\n      const r = await fn(params);\n      return r.data.items || [];\n    } catch (e) {\n      if (e?.response?.status === 422 && params?.limit) {\n        for (const cap of caps) {\n          try {\n            const r2 = await fn({ ...params, limit: cap });\n            return r2.data.items || [];\n          } catch (e2) {\n            if (e2?.response?.status !== 422) throw e2;\n          }\n        }\n        const r3 = await fn({});\n        return r3.data.items || [];\n      }\n      throw e;\n    }\n  };\n\n  const reloadAll = async () => {\n    setBusy(true);\n    setMsg(\"\");\n    try {\n      const MAX = 50; // default slice for initial options\n      const [d, g, s, v] = await Promise.all([\n        listDevices({ limit: MAX, offset: 0 }).then((r) => r.data.items || []),\n        withLimitFallback(listGroups, { limit: MAX, offset: 0 }),\n        withLimitFallback(listShops, { limit: MAX, offset: 0 }),\n        withLimitFallback(listVideos, { limit: MAX, offset: 0 }),\n      ]);\n      setDeviceOpts(safeMap(d, \"mobile_id\"));\n      setGroupOpts(safeMap(g, \"gname\"));\n      setShopOpts(safeMap(s, \"shop_name\"));\n      setVideoOpts(safeMap(v, \"video_name\"));\n    } catch (e) {\n      setMsg(`Failed to load lists: ${e?.response?.data?.detail || e.message}`);\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  // === server-side filtering per field (debounced) ===\n  useEffect(() => {\n    const q = dMobile?.trim() || \"\";\n    if (q === lastQ.current.device) return;\n    lastQ.current.device = q;\n    setLoadingDevice(true);\n    listDevices({ q, limit: 50, offset: 0 })\n      .then((r) => setDeviceOpts(safeMap(r.data.items || [], \"mobile_id\")))\n      .catch(() => {}) // keep prior opts on error\n      .finally(() => setLoadingDevice(false));\n  }, [dMobile]);\n\n  useEffect(() => {\n    const q = dGroup?.trim() || \"\";\n    if (q === lastQ.current.group) return;\n    lastQ.current.group = q;\n    setLoadingGroup(true);\n    listGroups({ q, limit: 50, offset: 0 })\n      .then((r) => setGroupOpts(safeMap(r.data.items || [], \"gname\")))\n      .catch(() => {})\n      .finally(() => setLoadingGroup(false));\n  }, [dGroup]);\n\n  useEffect(() => {\n    const q = dShop?.trim() || \"\";\n    if (q === lastQ.current.shop) return;\n    lastQ.current.shop = q;\n    setLoadingShop(true);\n    listShops({ q, limit: 50, offset: 0 })\n      .then((r) => setShopOpts(safeMap(r.data.items || [], \"shop_name\")))\n      .catch(() => {})\n      .finally(() => setLoadingShop(false));\n  }, [dShop]);\n\n  useEffect(() => {\n    const q = dVideo?.trim() || \"\";\n    if (q === lastQ.current.video) return;\n    lastQ.current.video = q;\n    setLoadingVideo(true);\n    listVideos({ q, limit: 50, offset: 0 })\n      .then((r) => setVideoOpts(safeMap(r.data.items || [], \"video_name\")))\n      .catch(() => {})\n      .finally(() => setLoadingVideo(false));\n  }, [dVideo]);\n\n  const clear = () => {\n    setMobileId(\"\");\n    setGname(\"\");\n    setShopName(\"\");\n    setVideoName(\"\");\n    setMobileIdInput(\"\");\n    setGnameInput(\"\");\n    setShopNameInput(\"\");\n    setVideoNameInput(\"\");\n  };\n\n  const add = async () => {\n    if (!mobileId || !gname || !shopName || !videoName) {\n      setMsg(\"Please select Device, Group, Shop, and Video.\");\n      return;\n    }\n    setBusy(true);\n    setMsg(\"\");\n    try {\n      await createLink({ mobile_id: mobileId, gname, shop_name: shopName, video_name: videoName });\n      setMsg(\"Link created ✅\");\n      clear();\n    } catch (e) {\n      setMsg(`Failed: ${e?.response?.data?.detail || e.message}`);\n    } finally {\n      setBusy(false);\n    }\n  };\n\n  // styles\n  const btn = { padding: \"8px 12px\", borderRadius: 8, border: \"1px solid #e5e7eb\", background: \"#fff\", cursor: \"pointer\", fontSize: 14, fontWeight: 600 };\n  const btnPrimary = { ...btn, background: \"#4f46e5\", color: \"#fff\", borderColor: \"#4f46e5\" };\n  const grid2 = { display: \"grid\", gridTemplateColumns: \"1fr 1fr\", gap: 12 };\n\n  // Disable MUI local filtering; we rely on server ?q=\n  const passthroughFilter = (x) => x;\n\n  return (\n    <div style={{ background: \"#fff\" }}>\n      <h2 style={{ fontSize: 18, margin: \"0 0 12px\" }}>\n        Create Relation (Device • Group • Shop • Video)\n      </h2>\n\n      <div style={grid2}>\n        {/* Device (mobile_id) */}\n        <Autocomplete\n          size=\"small\"\n          options={deviceOpts}\n          value={mobileId || null}\n          inputValue={mobileIdInput}\n          onInputChange={(_, v) => setMobileIdInput(v)}\n          onChange={(_, v) => setMobileId(v || \"\")}\n          filterOptions={passthroughFilter}\n          loading={loadingDevice}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              label=\"Device (mobile_id)\"\n              InputProps={{\n                ...params.InputProps,\n                endAdornment: (\n                  <>\n                    {loadingDevice ? <CircularProgress color=\"inherit\" size={16} /> : null}\n                    {params.InputProps.endAdornment}\n                  </>\n                ),\n              }}\n            />\n          )}\n        />\n\n        {/* Group (gname) */}\n        <Autocomplete\n          size=\"small\"\n          options={groupOpts}\n          value={gname || null}\n          inputValue={gnameInput}\n          onInputChange={(_, v) => setGnameInput(v)}\n          onChange={(_, v) => setGname(v || \"\")}\n          filterOptions={passthroughFilter}\n          loading={loadingGroup}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              label=\"Group (gname)\"\n              InputProps={{\n                ...params.InputProps,\n                endAdornment: (\n                  <>\n                    {loadingGroup ? <CircularProgress color=\"inherit\" size={16} /> : null}\n                    {params.InputProps.endAdornment}\n                  </>\n                ),\n              }}\n            />\n          )}\n        />\n\n        {/* Shop (shop_name) */}\n        <Autocomplete\n          size=\"small\"\n          options={shopOpts}\n          value={shopName || null}\n          inputValue={shopNameInput}\n          onInputChange={(_, v) => setShopNameInput(v)}\n          onChange={(_, v) => setShopName(v || \"\")}\n          filterOptions={passthroughFilter}\n          loading={loadingShop}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              label=\"Shop (shop_name)\"\n              InputProps={{\n                ...params.InputProps,\n                endAdornment: (\n                  <>\n                    {loadingShop ? <CircularProgress color=\"inherit\" size={16} /> : null}\n                    {params.InputProps.endAdornment}\n                  </>\n                ),\n              }}\n            />\n          )}\n        />\n\n        {/* Video (video_name) */}\n        <Autocomplete\n          size=\"small\"\n          options={videoOpts}\n          value={videoName || null}\n          inputValue={videoNameInput}\n          onInputChange={(_, v) => setVideoNameInput(v)}\n          onChange={(_, v) => setVideoName(v || \"\")}\n          filterOptions={passthroughFilter}\n          loading={loadingVideo}\n          renderInput={(params) => (\n            <TextField\n              {...params}\n              label=\"Video (video_name)\"\n              InputProps={{\n                ...params.InputProps,\n                endAdornment: (\n                  <>\n                    {loadingVideo ? <CircularProgress color=\"inherit\" size={16} /> : null}\n                    {params.InputProps.endAdornment}\n                  </>\n                ),\n              }}\n            />\n          )}\n        />\n      </div>\n\n      <div style={{ display: \"flex\", gap: 8, marginTop: 14, alignItems: \"center\" }}>\n        <button style={btn} onClick={reloadAll} disabled={busy}>Reload lists</button>\n        <button style={btnPrimary} onClick={add} disabled={busy}>Create Link</button>\n        {msg && (\n          <span\n            style={{\n              marginLeft: 8,\n              color: msg.startsWith(\"Failed\") ? \"#dc2626\" : \"#16a34a\",\n              fontSize: 13,\n            }}\n          >\n            {busy ? \"Working…\" : msg}\n          </span>\n        )}\n      </div>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}